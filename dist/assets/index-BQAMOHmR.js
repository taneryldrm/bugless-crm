function Hf(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var Aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Md(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Un(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),r}var Vf={exports:{}},Il={},Gf={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fn=Symbol.for("react.element"),dy=Symbol.for("react.portal"),uy=Symbol.for("react.fragment"),hy=Symbol.for("react.strict_mode"),fy=Symbol.for("react.profiler"),my=Symbol.for("react.provider"),gy=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),xy=Symbol.for("react.suspense"),vy=Symbol.for("react.memo"),yy=Symbol.for("react.lazy"),uh=Symbol.iterator;function by(e){return e===null||typeof e!="object"?null:(e=uh&&e[uh]||e["@@iterator"],typeof e=="function"?e:null)}var qf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kf=Object.assign,Yf={};function Cs(e,t,r){this.props=e,this.context=t,this.refs=Yf,this.updater=r||qf}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jf(){}Jf.prototype=Cs.prototype;function Dd(e,t,r){this.props=e,this.context=t,this.refs=Yf,this.updater=r||qf}var Id=Dd.prototype=new Jf;Id.constructor=Dd;Kf(Id,Cs.prototype);Id.isPureReactComponent=!0;var hh=Array.isArray,Qf=Object.prototype.hasOwnProperty,$d={current:null},Xf={key:!0,ref:!0,__self:!0,__source:!0};function Zf(e,t,r){var a,n={},i=null,l=null;if(t!=null)for(a in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Qf.call(t,a)&&!Xf.hasOwnProperty(a)&&(n[a]=t[a]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:Fn,type:e,key:i,ref:l,props:n,_owner:$d.current}}function wy(e,t){return{$$typeof:Fn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ld(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fn}function ky(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fh=/\/+/g;function fo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ky(""+e.key):t.toString(36)}function Oi(e,t,r,a,n){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Fn:case dy:l=!0}}if(l)return l=e,n=n(l),e=a===""?"."+fo(l,0):a,hh(n)?(r="",e!=null&&(r=e.replace(fh,"$&/")+"/"),Oi(n,t,r,"",function(d){return d})):n!=null&&(Ld(n)&&(n=wy(n,r+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(fh,"$&/")+"/")+e)),t.push(n)),1;if(l=0,a=a===""?".":a+":",hh(e))for(var o=0;o<e.length;o++){i=e[o];var c=a+fo(i,o);l+=Oi(i,t,r,c,n)}else if(c=by(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=a+fo(i,o++),l+=Oi(i,t,r,c,n);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Qn(e,t,r){if(e==null)return e;var a=[],n=0;return Oi(e,a,"","",function(i){return t.call(r,i,n++)}),a}function jy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Ai={transition:null},Ny={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Ai,ReactCurrentOwner:$d};function em(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Qn,forEach:function(e,t,r){Qn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qn(e,function(){t++}),t},toArray:function(e){return Qn(e,function(t){return t})||[]},only:function(e){if(!Ld(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Cs;oe.Fragment=uy;oe.Profiler=fy;oe.PureComponent=Dd;oe.StrictMode=hy;oe.Suspense=xy;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ny;oe.act=em;oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Kf({},e.props),n=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=$d.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Qf.call(t,c)&&!Xf.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:Fn,type:e.type,key:n,ref:i,props:a,_owner:l}};oe.createContext=function(e){return e={$$typeof:gy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:my,_context:e},e.Consumer=e};oe.createElement=Zf;oe.createFactory=function(e){var t=Zf.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:py,render:e}};oe.isValidElement=Ld;oe.lazy=function(e){return{$$typeof:yy,_payload:{_status:-1,_result:e},_init:jy}};oe.memo=function(e,t){return{$$typeof:vy,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Ai.transition;Ai.transition={};try{e()}finally{Ai.transition=t}};oe.unstable_act=em;oe.useCallback=function(e,t){return nt.current.useCallback(e,t)};oe.useContext=function(e){return nt.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};oe.useEffect=function(e,t){return nt.current.useEffect(e,t)};oe.useId=function(){return nt.current.useId()};oe.useImperativeHandle=function(e,t,r){return nt.current.useImperativeHandle(e,t,r)};oe.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return nt.current.useMemo(e,t)};oe.useReducer=function(e,t,r){return nt.current.useReducer(e,t,r)};oe.useRef=function(e){return nt.current.useRef(e)};oe.useState=function(e){return nt.current.useState(e)};oe.useSyncExternalStore=function(e,t,r){return nt.current.useSyncExternalStore(e,t,r)};oe.useTransition=function(){return nt.current.useTransition()};oe.version="18.3.1";Gf.exports=oe;var m=Gf.exports;const dr=Md(m),zd=Hf({__proto__:null,default:dr},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y=m,Sy=Symbol.for("react.element"),Ey=Symbol.for("react.fragment"),Cy=Object.prototype.hasOwnProperty,Ty=_y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Py={key:!0,ref:!0,__self:!0,__source:!0};function tm(e,t,r){var a,n={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)Cy.call(t,a)&&!Py.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:Sy,type:e,key:i,ref:l,props:n,_owner:Ty.current}}Il.Fragment=Ey;Il.jsx=tm;Il.jsxs=tm;Vf.exports=Il;var s=Vf.exports,hc={},rm={exports:{}},wt={},am={exports:{}},sm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,L){var K=S.length;S.push(L);e:for(;0<K;){var P=K-1>>>1,O=S[P];if(0<n(O,L))S[P]=L,S[K]=O,K=P;else break e}}function r(S){return S.length===0?null:S[0]}function a(S){if(S.length===0)return null;var L=S[0],K=S.pop();if(K!==L){S[0]=K;e:for(var P=0,O=S.length,F=O>>>1;P<F;){var D=2*(P+1)-1,I=S[D],J=D+1,Y=S[J];if(0>n(I,K))J<O&&0>n(Y,I)?(S[P]=Y,S[J]=K,P=J):(S[P]=I,S[D]=K,P=D);else if(J<O&&0>n(Y,K))S[P]=Y,S[J]=K,P=J;else break e}}return L}function n(S,L){var K=S.sortIndex-L.sortIndex;return K!==0?K:S.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,f=3,p=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(S){for(var L=r(d);L!==null;){if(L.callback===null)a(d);else if(L.startTime<=S)a(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(d)}}function j(S){if(b=!1,w(S),!x)if(r(c)!==null)x=!0,M(k);else{var L=r(d);L!==null&&W(j,L.startTime-S)}}function k(S,L){x=!1,b&&(b=!1,g(E),E=-1),p=!0;var K=f;try{for(w(L),h=r(c);h!==null&&(!(h.expirationTime>L)||S&&!R());){var P=h.callback;if(typeof P=="function"){h.callback=null,f=h.priorityLevel;var O=P(h.expirationTime<=L);L=e.unstable_now(),typeof O=="function"?h.callback=O:h===r(c)&&a(c),w(L)}else a(c);h=r(c)}if(h!==null)var F=!0;else{var D=r(d);D!==null&&W(j,D.startTime-L),F=!1}return F}finally{h=null,f=K,p=!1}}var _=!1,N=null,E=-1,T=5,A=-1;function R(){return!(e.unstable_now()-A<T)}function C(){if(N!==null){var S=e.unstable_now();A=S;var L=!0;try{L=N(!0,S)}finally{L?G():(_=!1,N=null)}}else _=!1}var G;if(typeof v=="function")G=function(){v(C)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,$=X.port2;X.port1.onmessage=C,G=function(){$.postMessage(null)}}else G=function(){y(C,0)};function M(S){N=S,_||(_=!0,G())}function W(S,L){E=y(function(){S(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,M(k))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(S){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var K=f;f=L;try{return S()}finally{f=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,L){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var K=f;f=S;try{return L()}finally{f=K}},e.unstable_scheduleCallback=function(S,L,K){var P=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?P+K:P):K=P,S){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=K+O,S={id:u++,callback:L,priorityLevel:S,startTime:K,expirationTime:O,sortIndex:-1},K>P?(S.sortIndex=K,t(d,S),r(c)===null&&S===r(d)&&(b?(g(E),E=-1):b=!0,W(j,K-P))):(S.sortIndex=O,t(c,S),x||p||(x=!0,M(k))),S},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(S){var L=f;return function(){var K=f;f=L;try{return S.apply(this,arguments)}finally{f=K}}}})(sm);am.exports=sm;var Oy=am.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay=m,bt=Oy;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nm=new Set,mn={};function Ca(e,t){vs(e,t),vs(e+"Capture",t)}function vs(e,t){for(mn[e]=t,e=0;e<t.length;e++)nm.add(t[e])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=Object.prototype.hasOwnProperty,Ry=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mh={},gh={};function My(e){return fc.call(gh,e)?!0:fc.call(mh,e)?!1:Ry.test(e)?gh[e]=!0:(mh[e]=!0,!1)}function Dy(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Iy(e,t,r,a){if(t===null||typeof t>"u"||Dy(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,r,a,n,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ud=/[\-:]([a-z])/g;function Fd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ud,Fd);qe[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ud,Fd);qe[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ud,Fd);qe[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bd(e,t,r,a){var n=qe.hasOwnProperty(t)?qe[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Iy(t,r,n,a)&&(r=null),a||n===null?My(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,a=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var pr=Ay.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xn=Symbol.for("react.element"),Ya=Symbol.for("react.portal"),Ja=Symbol.for("react.fragment"),Wd=Symbol.for("react.strict_mode"),mc=Symbol.for("react.profiler"),im=Symbol.for("react.provider"),lm=Symbol.for("react.context"),Hd=Symbol.for("react.forward_ref"),gc=Symbol.for("react.suspense"),pc=Symbol.for("react.suspense_list"),Vd=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),om=Symbol.for("react.offscreen"),ph=Symbol.iterator;function $s(e){return e===null||typeof e!="object"?null:(e=ph&&e[ph]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,mo;function Qs(e){if(mo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mo=t&&t[1]||""}return`
`+mo+e}var go=!1;function po(e,t){if(!e||go)return"";go=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=a.stack.split(`
`),l=n.length-1,o=i.length-1;1<=l&&0<=o&&n[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(n[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||n[l]!==i[o]){var c=`
`+n[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{go=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qs(e):""}function $y(e){switch(e.tag){case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return e=po(e.type,!1),e;case 11:return e=po(e.type.render,!1),e;case 1:return e=po(e.type,!0),e;default:return""}}function xc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ja:return"Fragment";case Ya:return"Portal";case mc:return"Profiler";case Wd:return"StrictMode";case gc:return"Suspense";case pc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lm:return(e.displayName||"Context")+".Consumer";case im:return(e._context.displayName||"Context")+".Provider";case Hd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vd:return t=e.displayName||null,t!==null?t:xc(e.type)||"Memo";case Sr:t=e._payload,e=e._init;try{return xc(e(t))}catch{}}return null}function Ly(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xc(t);case 8:return t===Wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zy(e){var t=cm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zn(e){e._valueTracker||(e._valueTracker=zy(e))}function dm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=cm(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function Yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vc(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xh(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=Vr(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function um(e,t){t=t.checked,t!=null&&Bd(e,"checked",t,!1)}function yc(e,t){um(e,t);var r=Vr(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bc(e,t.type,r):t.hasOwnProperty("defaultValue")&&bc(e,t.type,Vr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function bc(e,t,r){(t!=="number"||Yi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xs=Array.isArray;function ls(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Vr(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function wc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(Xs(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Vr(r)}}function hm(e,t){var r=Vr(t.value),a=Vr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function bh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ei,mm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uy=["Webkit","ms","Moz","O"];Object.keys(sn).forEach(function(e){Uy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sn[t]=sn[e]})});function gm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||sn.hasOwnProperty(e)&&sn[e]?(""+t).trim():t+"px"}function pm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=gm(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}var Fy=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jc(e,t){if(t){if(Fy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Nc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=null;function Gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sc=null,os=null,cs=null;function wh(e){if(e=Hn(e)){if(typeof Sc!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Fl(t),Sc(e.stateNode,e.type,t))}}function xm(e){os?cs?cs.push(e):cs=[e]:os=e}function vm(){if(os){var e=os,t=cs;if(cs=os=null,wh(e),t)for(e=0;e<t.length;e++)wh(t[e])}}function ym(e,t){return e(t)}function bm(){}var xo=!1;function wm(e,t,r){if(xo)return e(t,r);xo=!0;try{return ym(e,t,r)}finally{xo=!1,(os!==null||cs!==null)&&(bm(),vm())}}function pn(e,t){var r=e.stateNode;if(r===null)return null;var a=Fl(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var Ec=!1;if(ur)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Ec=!1}function By(e,t,r,a,n,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var nn=!1,Ji=null,Qi=!1,Cc=null,Wy={onError:function(e){nn=!0,Ji=e}};function Hy(e,t,r,a,n,i,l,o,c){nn=!1,Ji=null,By.apply(Wy,arguments)}function Vy(e,t,r,a,n,i,l,o,c){if(Hy.apply(this,arguments),nn){if(nn){var d=Ji;nn=!1,Ji=null}else throw Error(H(198));Qi||(Qi=!0,Cc=d)}}function Ta(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function km(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kh(e){if(Ta(e)!==e)throw Error(H(188))}function Gy(e){var t=e.alternate;if(!t){if(t=Ta(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,a=t;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return kh(n),e;if(i===a)return kh(n),t;i=i.sibling}throw Error(H(188))}if(r.return!==a.return)r=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===r){l=!0,r=n,a=i;break}if(o===a){l=!0,a=n,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,a=n;break}if(o===a){l=!0,a=i,r=n;break}o=o.sibling}if(!l)throw Error(H(189))}}if(r.alternate!==a)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function jm(e){return e=Gy(e),e!==null?Nm(e):null}function Nm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nm(e);if(t!==null)return t;e=e.sibling}return null}var _m=bt.unstable_scheduleCallback,jh=bt.unstable_cancelCallback,qy=bt.unstable_shouldYield,Ky=bt.unstable_requestPaint,Te=bt.unstable_now,Yy=bt.unstable_getCurrentPriorityLevel,qd=bt.unstable_ImmediatePriority,Sm=bt.unstable_UserBlockingPriority,Xi=bt.unstable_NormalPriority,Jy=bt.unstable_LowPriority,Em=bt.unstable_IdlePriority,$l=null,Jt=null;function Qy(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot($l,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:eb,Xy=Math.log,Zy=Math.LN2;function eb(e){return e>>>=0,e===0?32:31-(Xy(e)/Zy|0)|0}var ti=64,ri=4194304;function Zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zi(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~n;o!==0?a=Zs(o):(i&=l,i!==0&&(a=Zs(i)))}else l=r&~n,l!==0?a=Zs(l):i!==0&&(a=Zs(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,i=t&-t,n>=i||n===16&&(i&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-$t(t),n=1<<r,a|=e[r],t&=~n;return a}function tb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rb(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-$t(i),o=1<<l,c=n[l];c===-1?(!(o&r)||o&a)&&(n[l]=tb(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Tc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cm(){var e=ti;return ti<<=1,!(ti&4194240)&&(ti=64),e}function vo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Bn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=r}function ab(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-$t(r),i=1<<n;t[n]=0,a[n]=-1,e[n]=-1,r&=~i}}function Kd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-$t(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}var me=0;function Tm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pm,Yd,Om,Am,Rm,Pc=!1,ai=[],Dr=null,Ir=null,$r=null,xn=new Map,vn=new Map,Cr=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nh(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":xn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(t.pointerId)}}function zs(e,t,r,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Hn(t),t!==null&&Yd(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function nb(e,t,r,a,n){switch(t){case"focusin":return Dr=zs(Dr,e,t,r,a,n),!0;case"dragenter":return Ir=zs(Ir,e,t,r,a,n),!0;case"mouseover":return $r=zs($r,e,t,r,a,n),!0;case"pointerover":var i=n.pointerId;return xn.set(i,zs(xn.get(i)||null,e,t,r,a,n)),!0;case"gotpointercapture":return i=n.pointerId,vn.set(i,zs(vn.get(i)||null,e,t,r,a,n)),!0}return!1}function Mm(e){var t=ma(e.target);if(t!==null){var r=Ta(t);if(r!==null){if(t=r.tag,t===13){if(t=km(r),t!==null){e.blockedOn=t,Rm(e.priority,function(){Om(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Oc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);_c=a,r.target.dispatchEvent(a),_c=null}else return t=Hn(r),t!==null&&Yd(t),e.blockedOn=r,!1;t.shift()}return!0}function _h(e,t,r){Ri(e)&&r.delete(t)}function ib(){Pc=!1,Dr!==null&&Ri(Dr)&&(Dr=null),Ir!==null&&Ri(Ir)&&(Ir=null),$r!==null&&Ri($r)&&($r=null),xn.forEach(_h),vn.forEach(_h)}function Us(e,t){e.blockedOn===t&&(e.blockedOn=null,Pc||(Pc=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,ib)))}function yn(e){function t(n){return Us(n,e)}if(0<ai.length){Us(ai[0],e);for(var r=1;r<ai.length;r++){var a=ai[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Dr!==null&&Us(Dr,e),Ir!==null&&Us(Ir,e),$r!==null&&Us($r,e),xn.forEach(t),vn.forEach(t),r=0;r<Cr.length;r++)a=Cr[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Cr.length&&(r=Cr[0],r.blockedOn===null);)Mm(r),r.blockedOn===null&&Cr.shift()}var ds=pr.ReactCurrentBatchConfig,el=!0;function lb(e,t,r,a){var n=me,i=ds.transition;ds.transition=null;try{me=1,Jd(e,t,r,a)}finally{me=n,ds.transition=i}}function ob(e,t,r,a){var n=me,i=ds.transition;ds.transition=null;try{me=4,Jd(e,t,r,a)}finally{me=n,ds.transition=i}}function Jd(e,t,r,a){if(el){var n=Oc(e,t,r,a);if(n===null)Co(e,t,a,tl,r),Nh(e,a);else if(nb(n,e,t,r,a))a.stopPropagation();else if(Nh(e,a),t&4&&-1<sb.indexOf(e)){for(;n!==null;){var i=Hn(n);if(i!==null&&Pm(i),i=Oc(e,t,r,a),i===null&&Co(e,t,a,tl,r),i===n)break;n=i}n!==null&&a.stopPropagation()}else Co(e,t,a,null,r)}}var tl=null;function Oc(e,t,r,a){if(tl=null,e=Gd(a),e=ma(e),e!==null)if(t=Ta(e),t===null)e=null;else if(r=t.tag,r===13){if(e=km(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tl=e,null}function Dm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yy()){case qd:return 1;case Sm:return 4;case Xi:case Jy:return 16;case Em:return 536870912;default:return 16}default:return 16}}var Ar=null,Qd=null,Mi=null;function Im(){if(Mi)return Mi;var e,t=Qd,r=t.length,a,n="value"in Ar?Ar.value:Ar.textContent,i=n.length;for(e=0;e<r&&t[e]===n[e];e++);var l=r-e;for(a=1;a<=l&&t[r-a]===n[i-a];a++);return Mi=n.slice(e,1<a?1-a:void 0)}function Di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function Sh(){return!1}function kt(e){function t(r,a,n,i,l){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?si:Sh,this.isPropagationStopped=Sh,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),t}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xd=kt(Ts),Wn=_e({},Ts,{view:0,detail:0}),cb=kt(Wn),yo,bo,Fs,Ll=_e({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(yo=e.screenX-Fs.screenX,bo=e.screenY-Fs.screenY):bo=yo=0,Fs=e),yo)},movementY:function(e){return"movementY"in e?e.movementY:bo}}),Eh=kt(Ll),db=_e({},Ll,{dataTransfer:0}),ub=kt(db),hb=_e({},Wn,{relatedTarget:0}),wo=kt(hb),fb=_e({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),mb=kt(fb),gb=_e({},Ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pb=kt(gb),xb=_e({},Ts,{data:0}),Ch=kt(xb),vb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bb[e])?!!t[e]:!1}function Zd(){return wb}var kb=_e({},Wn,{key:function(e){if(e.key){var t=vb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zd,charCode:function(e){return e.type==="keypress"?Di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jb=kt(kb),Nb=_e({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Th=kt(Nb),_b=_e({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zd}),Sb=kt(_b),Eb=_e({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cb=kt(Eb),Tb=_e({},Ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pb=kt(Tb),Ob=[9,13,27,32],eu=ur&&"CompositionEvent"in window,ln=null;ur&&"documentMode"in document&&(ln=document.documentMode);var Ab=ur&&"TextEvent"in window&&!ln,$m=ur&&(!eu||ln&&8<ln&&11>=ln),Ph=" ",Oh=!1;function Lm(e,t){switch(e){case"keyup":return Ob.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qa=!1;function Rb(e,t){switch(e){case"compositionend":return zm(t);case"keypress":return t.which!==32?null:(Oh=!0,Ph);case"textInput":return e=t.data,e===Ph&&Oh?null:e;default:return null}}function Mb(e,t){if(Qa)return e==="compositionend"||!eu&&Lm(e,t)?(e=Im(),Mi=Qd=Ar=null,Qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $m&&t.locale!=="ko"?null:t.data;default:return null}}var Db={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Db[e.type]:t==="textarea"}function Um(e,t,r,a){xm(a),t=rl(t,"onChange"),0<t.length&&(r=new Xd("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var on=null,bn=null;function Ib(e){Qm(e,0)}function zl(e){var t=es(e);if(dm(t))return e}function $b(e,t){if(e==="change")return t}var Fm=!1;if(ur){var ko;if(ur){var jo="oninput"in document;if(!jo){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),jo=typeof Rh.oninput=="function"}ko=jo}else ko=!1;Fm=ko&&(!document.documentMode||9<document.documentMode)}function Mh(){on&&(on.detachEvent("onpropertychange",Bm),bn=on=null)}function Bm(e){if(e.propertyName==="value"&&zl(bn)){var t=[];Um(t,bn,e,Gd(e)),wm(Ib,t)}}function Lb(e,t,r){e==="focusin"?(Mh(),on=t,bn=r,on.attachEvent("onpropertychange",Bm)):e==="focusout"&&Mh()}function zb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(bn)}function Ub(e,t){if(e==="click")return zl(t)}function Fb(e,t){if(e==="input"||e==="change")return zl(t)}function Bb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:Bb;function wn(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!fc.call(t,n)||!zt(e[n],t[n]))return!1}return!0}function Dh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ih(e,t){var r=Dh(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dh(r)}}function Wm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hm(){for(var e=window,t=Yi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yi(e.document)}return t}function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wb(e){var t=Hm(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Wm(r.ownerDocument.documentElement,r)){if(a!==null&&tu(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!e.extend&&i>a&&(n=a,a=i,i=n),n=Ih(r,i);var l=Ih(r,a);n&&l&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hb=ur&&"documentMode"in document&&11>=document.documentMode,Xa=null,Ac=null,cn=null,Rc=!1;function $h(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rc||Xa==null||Xa!==Yi(a)||(a=Xa,"selectionStart"in a&&tu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),cn&&wn(cn,a)||(cn=a,a=rl(Ac,"onSelect"),0<a.length&&(t=new Xd("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=Xa)))}function ni(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Za={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionend:ni("Transition","TransitionEnd")},No={},Vm={};ur&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Ul(e){if(No[e])return No[e];if(!Za[e])return e;var t=Za[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vm)return No[e]=t[r];return e}var Gm=Ul("animationend"),qm=Ul("animationiteration"),Km=Ul("animationstart"),Ym=Ul("transitionend"),Jm=new Map,Lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,t){Jm.set(e,t),Ca(t,[e])}for(var _o=0;_o<Lh.length;_o++){var So=Lh[_o],Vb=So.toLowerCase(),Gb=So[0].toUpperCase()+So.slice(1);Jr(Vb,"on"+Gb)}Jr(Gm,"onAnimationEnd");Jr(qm,"onAnimationIteration");Jr(Km,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(Ym,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var en="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qb=new Set("cancel close invalid load scroll toggle".split(" ").concat(en));function zh(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,Vy(a,t,void 0,e),e.currentTarget=null}function Qm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&n.isPropagationStopped())break e;zh(n,o,d),i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&n.isPropagationStopped())break e;zh(n,o,d),i=c}}}if(Qi)throw e=Cc,Qi=!1,Cc=null,e}function ye(e,t){var r=t[Lc];r===void 0&&(r=t[Lc]=new Set);var a=e+"__bubble";r.has(a)||(Xm(t,e,2,!1),r.add(a))}function Eo(e,t,r){var a=0;t&&(a|=4),Xm(r,e,a,t)}var ii="_reactListening"+Math.random().toString(36).slice(2);function kn(e){if(!e[ii]){e[ii]=!0,nm.forEach(function(r){r!=="selectionchange"&&(qb.has(r)||Eo(r,!1,e),Eo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ii]||(t[ii]=!0,Eo("selectionchange",!1,t))}}function Xm(e,t,r,a){switch(Dm(t)){case 1:var n=lb;break;case 4:n=ob;break;default:n=Jd}r=n.bind(null,t,r,e),n=void 0,!Ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Co(e,t,r,a,n){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;l=l.return}for(;o!==null;){if(l=ma(o),l===null)return;if(c=l.tag,c===5||c===6){a=i=l;continue e}o=o.parentNode}}a=a.return}wm(function(){var d=i,u=Gd(r),h=[];e:{var f=Jm.get(e);if(f!==void 0){var p=Xd,x=e;switch(e){case"keypress":if(Di(r)===0)break e;case"keydown":case"keyup":p=jb;break;case"focusin":x="focus",p=wo;break;case"focusout":x="blur",p=wo;break;case"beforeblur":case"afterblur":p=wo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Sb;break;case Gm:case qm:case Km:p=mb;break;case Ym:p=Cb;break;case"scroll":p=cb;break;case"wheel":p=Pb;break;case"copy":case"cut":case"paste":p=pb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Th}var b=(t&4)!==0,y=!b&&e==="scroll",g=b?f!==null?f+"Capture":null:f;b=[];for(var v=d,w;v!==null;){w=v;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,g!==null&&(j=pn(v,g),j!=null&&b.push(jn(v,j,w)))),y)break;v=v.return}0<b.length&&(f=new p(f,x,null,r,u),h.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==_c&&(x=r.relatedTarget||r.fromElement)&&(ma(x)||x[hr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=d,x=x?ma(x):null,x!==null&&(y=Ta(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=d),p!==x)){if(b=Eh,j="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(b=Th,j="onPointerLeave",g="onPointerEnter",v="pointer"),y=p==null?f:es(p),w=x==null?f:es(x),f=new b(j,v+"leave",p,r,u),f.target=y,f.relatedTarget=w,j=null,ma(u)===d&&(b=new b(g,v+"enter",x,r,u),b.target=w,b.relatedTarget=y,j=b),y=j,p&&x)t:{for(b=p,g=x,v=0,w=b;w;w=Ra(w))v++;for(w=0,j=g;j;j=Ra(j))w++;for(;0<v-w;)b=Ra(b),v--;for(;0<w-v;)g=Ra(g),w--;for(;v--;){if(b===g||g!==null&&b===g.alternate)break t;b=Ra(b),g=Ra(g)}b=null}else b=null;p!==null&&Uh(h,f,p,b,!1),x!==null&&y!==null&&Uh(h,y,x,b,!0)}}e:{if(f=d?es(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=$b;else if(Ah(f))if(Fm)k=Fb;else{k=zb;var _=Lb}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Ub);if(k&&(k=k(e,d))){Um(h,k,r,u);break e}_&&_(e,f,d),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&bc(f,"number",f.value)}switch(_=d?es(d):window,e){case"focusin":(Ah(_)||_.contentEditable==="true")&&(Xa=_,Ac=d,cn=null);break;case"focusout":cn=Ac=Xa=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,$h(h,r,u);break;case"selectionchange":if(Hb)break;case"keydown":case"keyup":$h(h,r,u)}var N;if(eu)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Qa?Lm(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&($m&&r.locale!=="ko"&&(Qa||E!=="onCompositionStart"?E==="onCompositionEnd"&&Qa&&(N=Im()):(Ar=u,Qd="value"in Ar?Ar.value:Ar.textContent,Qa=!0)),_=rl(d,E),0<_.length&&(E=new Ch(E,e,null,r,u),h.push({event:E,listeners:_}),N?E.data=N:(N=zm(r),N!==null&&(E.data=N)))),(N=Ab?Rb(e,r):Mb(e,r))&&(d=rl(d,"onBeforeInput"),0<d.length&&(u=new Ch("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=N))}Qm(h,t)})}function jn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rl(e,t){for(var r=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=pn(e,r),i!=null&&a.unshift(jn(e,i,n)),i=pn(e,t),i!=null&&a.push(jn(e,i,n))),e=e.return}return a}function Ra(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uh(e,t,r,a,n){for(var i=t._reactName,l=[];r!==null&&r!==a;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&d!==null&&(o=d,n?(c=pn(r,i),c!=null&&l.unshift(jn(r,c,o))):n||(c=pn(r,i),c!=null&&l.push(jn(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Kb=/\r\n?/g,Yb=/\u0000|\uFFFD/g;function Fh(e){return(typeof e=="string"?e:""+e).replace(Kb,`
`).replace(Yb,"")}function li(e,t,r){if(t=Fh(t),Fh(e)!==t&&r)throw Error(H(425))}function al(){}var Mc=null,Dc=null;function Ic(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $c=typeof setTimeout=="function"?setTimeout:void 0,Jb=typeof clearTimeout=="function"?clearTimeout:void 0,Bh=typeof Promise=="function"?Promise:void 0,Qb=typeof queueMicrotask=="function"?queueMicrotask:typeof Bh<"u"?function(e){return Bh.resolve(null).then(e).catch(Xb)}:$c;function Xb(e){setTimeout(function(){throw e})}function To(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){e.removeChild(n),yn(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);yn(t)}function Lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),qt="__reactFiber$"+Ps,Nn="__reactProps$"+Ps,hr="__reactContainer$"+Ps,Lc="__reactEvents$"+Ps,Zb="__reactListeners$"+Ps,ew="__reactHandles$"+Ps;function ma(e){var t=e[qt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hr]||r[qt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wh(e);e!==null;){if(r=e[qt])return r;e=Wh(e)}return t}e=r,r=e.parentNode}return null}function Hn(e){return e=e[qt]||e[hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function es(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Fl(e){return e[Nn]||null}var zc=[],ts=-1;function Qr(e){return{current:e}}function be(e){0>ts||(e.current=zc[ts],zc[ts]=null,ts--)}function pe(e,t){ts++,zc[ts]=e.current,e.current=t}var Gr={},Ze=Qr(Gr),ut=Qr(!1),wa=Gr;function ys(e,t){var r=e.type.contextTypes;if(!r)return Gr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function ht(e){return e=e.childContextTypes,e!=null}function sl(){be(ut),be(Ze)}function Hh(e,t,r){if(Ze.current!==Gr)throw Error(H(168));pe(Ze,t),pe(ut,r)}function Zm(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(H(108,Ly(e)||"Unknown",n));return _e({},r,a)}function nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gr,wa=Ze.current,pe(Ze,e),pe(ut,ut.current),!0}function Vh(e,t,r){var a=e.stateNode;if(!a)throw Error(H(169));r?(e=Zm(e,t,wa),a.__reactInternalMemoizedMergedChildContext=e,be(ut),be(Ze),pe(Ze,e)):be(ut),pe(ut,r)}var nr=null,Bl=!1,Po=!1;function eg(e){nr===null?nr=[e]:nr.push(e)}function tw(e){Bl=!0,eg(e)}function Xr(){if(!Po&&nr!==null){Po=!0;var e=0,t=me;try{var r=nr;for(me=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}nr=null,Bl=!1}catch(n){throw nr!==null&&(nr=nr.slice(e+1)),_m(qd,Xr),n}finally{me=t,Po=!1}}return null}var rs=[],as=0,il=null,ll=0,jt=[],Nt=0,ka=null,ir=1,lr="";function ia(e,t){rs[as++]=ll,rs[as++]=il,il=e,ll=t}function tg(e,t,r){jt[Nt++]=ir,jt[Nt++]=lr,jt[Nt++]=ka,ka=e;var a=ir;e=lr;var n=32-$t(a)-1;a&=~(1<<n),r+=1;var i=32-$t(t)+n;if(30<i){var l=n-n%5;i=(a&(1<<l)-1).toString(32),a>>=l,n-=l,ir=1<<32-$t(t)+n|r<<n|a,lr=i+e}else ir=1<<i|r<<n|a,lr=e}function ru(e){e.return!==null&&(ia(e,1),tg(e,1,0))}function au(e){for(;e===il;)il=rs[--as],rs[as]=null,ll=rs[--as],rs[as]=null;for(;e===ka;)ka=jt[--Nt],jt[Nt]=null,lr=jt[--Nt],jt[Nt]=null,ir=jt[--Nt],jt[Nt]=null}var vt=null,xt=null,ke=!1,It=null;function rg(e,t){var r=St(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Gh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,xt=Lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ka!==null?{id:ir,overflow:lr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=St(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vt=e,xt=null,!0):!1;default:return!1}}function Uc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fc(e){if(ke){var t=xt;if(t){var r=t;if(!Gh(e,t)){if(Uc(e))throw Error(H(418));t=Lr(r.nextSibling);var a=vt;t&&Gh(e,t)?rg(a,r):(e.flags=e.flags&-4097|2,ke=!1,vt=e)}}else{if(Uc(e))throw Error(H(418));e.flags=e.flags&-4097|2,ke=!1,vt=e}}}function qh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function oi(e){if(e!==vt)return!1;if(!ke)return qh(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ic(e.type,e.memoizedProps)),t&&(t=xt)){if(Uc(e))throw ag(),Error(H(418));for(;t;)rg(e,t),t=Lr(t.nextSibling)}if(qh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xt=Lr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=vt?Lr(e.stateNode.nextSibling):null;return!0}function ag(){for(var e=xt;e;)e=Lr(e.nextSibling)}function bs(){xt=vt=null,ke=!1}function su(e){It===null?It=[e]:It.push(e)}var rw=pr.ReactCurrentBatchConfig;function Bs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var a=r.stateNode}if(!a)throw Error(H(147,e));var n=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=n.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function ci(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kh(e){var t=e._init;return t(e._payload)}function sg(e){function t(g,v){if(e){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function a(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function n(g,v){return g=Br(g,v),g.index=0,g.sibling=null,g}function i(g,v,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,v,w,j){return v===null||v.tag!==6?(v=$o(w,g.mode,j),v.return=g,v):(v=n(v,w),v.return=g,v)}function c(g,v,w,j){var k=w.type;return k===Ja?u(g,v,w.props.children,j,w.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Sr&&Kh(k)===v.type)?(j=n(v,w.props),j.ref=Bs(g,v,w),j.return=g,j):(j=Bi(w.type,w.key,w.props,null,g.mode,j),j.ref=Bs(g,v,w),j.return=g,j)}function d(g,v,w,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Lo(w,g.mode,j),v.return=g,v):(v=n(v,w.children||[]),v.return=g,v)}function u(g,v,w,j,k){return v===null||v.tag!==7?(v=ya(w,g.mode,j,k),v.return=g,v):(v=n(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$o(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xn:return w=Bi(v.type,v.key,v.props,null,g.mode,w),w.ref=Bs(g,null,v),w.return=g,w;case Ya:return v=Lo(v,g.mode,w),v.return=g,v;case Sr:var j=v._init;return h(g,j(v._payload),w)}if(Xs(v)||$s(v))return v=ya(v,g.mode,w,null),v.return=g,v;ci(g,v)}return null}function f(g,v,w,j){var k=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:o(g,v,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xn:return w.key===k?c(g,v,w,j):null;case Ya:return w.key===k?d(g,v,w,j):null;case Sr:return k=w._init,f(g,v,k(w._payload),j)}if(Xs(w)||$s(w))return k!==null?null:u(g,v,w,j,null);ci(g,w)}return null}function p(g,v,w,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(w)||null,o(v,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Xn:return g=g.get(j.key===null?w:j.key)||null,c(v,g,j,k);case Ya:return g=g.get(j.key===null?w:j.key)||null,d(v,g,j,k);case Sr:var _=j._init;return p(g,v,w,_(j._payload),k)}if(Xs(j)||$s(j))return g=g.get(w)||null,u(v,g,j,k,null);ci(v,j)}return null}function x(g,v,w,j){for(var k=null,_=null,N=v,E=v=0,T=null;N!==null&&E<w.length;E++){N.index>E?(T=N,N=null):T=N.sibling;var A=f(g,N,w[E],j);if(A===null){N===null&&(N=T);break}e&&N&&A.alternate===null&&t(g,N),v=i(A,v,E),_===null?k=A:_.sibling=A,_=A,N=T}if(E===w.length)return r(g,N),ke&&ia(g,E),k;if(N===null){for(;E<w.length;E++)N=h(g,w[E],j),N!==null&&(v=i(N,v,E),_===null?k=N:_.sibling=N,_=N);return ke&&ia(g,E),k}for(N=a(g,N);E<w.length;E++)T=p(N,g,E,w[E],j),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?E:T.key),v=i(T,v,E),_===null?k=T:_.sibling=T,_=T);return e&&N.forEach(function(R){return t(g,R)}),ke&&ia(g,E),k}function b(g,v,w,j){var k=$s(w);if(typeof k!="function")throw Error(H(150));if(w=k.call(w),w==null)throw Error(H(151));for(var _=k=null,N=v,E=v=0,T=null,A=w.next();N!==null&&!A.done;E++,A=w.next()){N.index>E?(T=N,N=null):T=N.sibling;var R=f(g,N,A.value,j);if(R===null){N===null&&(N=T);break}e&&N&&R.alternate===null&&t(g,N),v=i(R,v,E),_===null?k=R:_.sibling=R,_=R,N=T}if(A.done)return r(g,N),ke&&ia(g,E),k;if(N===null){for(;!A.done;E++,A=w.next())A=h(g,A.value,j),A!==null&&(v=i(A,v,E),_===null?k=A:_.sibling=A,_=A);return ke&&ia(g,E),k}for(N=a(g,N);!A.done;E++,A=w.next())A=p(N,g,E,A.value,j),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?E:A.key),v=i(A,v,E),_===null?k=A:_.sibling=A,_=A);return e&&N.forEach(function(C){return t(g,C)}),ke&&ia(g,E),k}function y(g,v,w,j){if(typeof w=="object"&&w!==null&&w.type===Ja&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xn:e:{for(var k=w.key,_=v;_!==null;){if(_.key===k){if(k=w.type,k===Ja){if(_.tag===7){r(g,_.sibling),v=n(_,w.props.children),v.return=g,g=v;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Sr&&Kh(k)===_.type){r(g,_.sibling),v=n(_,w.props),v.ref=Bs(g,_,w),v.return=g,g=v;break e}r(g,_);break}else t(g,_);_=_.sibling}w.type===Ja?(v=ya(w.props.children,g.mode,j,w.key),v.return=g,g=v):(j=Bi(w.type,w.key,w.props,null,g.mode,j),j.ref=Bs(g,v,w),j.return=g,g=j)}return l(g);case Ya:e:{for(_=w.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(g,v.sibling),v=n(v,w.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=Lo(w,g.mode,j),v.return=g,g=v}return l(g);case Sr:return _=w._init,y(g,v,_(w._payload),j)}if(Xs(w))return x(g,v,w,j);if($s(w))return b(g,v,w,j);ci(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(g,v.sibling),v=n(v,w),v.return=g,g=v):(r(g,v),v=$o(w,g.mode,j),v.return=g,g=v),l(g)):r(g,v)}return y}var ws=sg(!0),ng=sg(!1),ol=Qr(null),cl=null,ss=null,nu=null;function iu(){nu=ss=cl=null}function lu(e){var t=ol.current;be(ol),e._currentValue=t}function Bc(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function us(e,t){cl=e,nu=ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(nu!==e)if(e={context:e,memoizedValue:t,next:null},ss===null){if(cl===null)throw Error(H(308));ss=e,cl.dependencies={lanes:0,firstContext:e}}else ss=ss.next=e;return t}var ga=null;function ou(e){ga===null?ga=[e]:ga.push(e)}function ig(e,t,r,a){var n=t.interleaved;return n===null?(r.next=r,ou(t)):(r.next=n.next,n.next=r),t.interleaved=r,fr(e,a)}function fr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Er=!1;function cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,he&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,fr(e,r)}return n=a.interleaved,n===null?(t.next=t,ou(a)):(t.next=n.next,n.next=t),a.interleaved=t,fr(e,r)}function Ii(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Kd(e,r)}}function Yh(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?n=i=t:i=i.next=t}else n=i=t;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function dl(e,t,r,a){var n=e.updateQueue;Er=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=n.baseState;l=0,u=d=c=null,o=i;do{var f=o.lane,p=o.eventTime;if((a&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,b=o;switch(f=t,p=r,b.tag){case 1:if(x=b.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=_e({},h,f);break e;case 2:Er=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=n.effects,f===null?n.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,l|=f;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;f=o,o=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);if(u===null&&(c=h),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do l|=n.lane,n=n.next;while(n!==t)}else i===null&&(n.shared.lanes=0);Na|=l,e.lanes=l,e.memoizedState=h}}function Jh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(H(191,n));n.call(a)}}}var Vn={},Qt=Qr(Vn),_n=Qr(Vn),Sn=Qr(Vn);function pa(e){if(e===Vn)throw Error(H(174));return e}function du(e,t){switch(pe(Sn,t),pe(_n,e),pe(Qt,Vn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kc(t,e)}be(Qt),pe(Qt,t)}function ks(){be(Qt),be(_n),be(Sn)}function og(e){pa(Sn.current);var t=pa(Qt.current),r=kc(t,e.type);t!==r&&(pe(_n,e),pe(Qt,r))}function uu(e){_n.current===e&&(be(Qt),be(_n))}var je=Qr(0);function ul(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oo=[];function hu(){for(var e=0;e<Oo.length;e++)Oo[e]._workInProgressVersionPrimary=null;Oo.length=0}var $i=pr.ReactCurrentDispatcher,Ao=pr.ReactCurrentBatchConfig,ja=0,Ne=null,De=null,ze=null,hl=!1,dn=!1,En=0,aw=0;function Ye(){throw Error(H(321))}function fu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zt(e[r],t[r]))return!1;return!0}function mu(e,t,r,a,n,i){if(ja=i,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$i.current=e===null||e.memoizedState===null?lw:ow,e=r(a,n),dn){i=0;do{if(dn=!1,En=0,25<=i)throw Error(H(301));i+=1,ze=De=null,t.updateQueue=null,$i.current=cw,e=r(a,n)}while(dn)}if($i.current=fl,t=De!==null&&De.next!==null,ja=0,ze=De=Ne=null,hl=!1,t)throw Error(H(300));return e}function gu(){var e=En!==0;return En=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ne.memoizedState=ze=e:ze=ze.next=e,ze}function Tt(){if(De===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=ze===null?Ne.memoizedState:ze.next;if(t!==null)ze=t,De=e;else{if(e===null)throw Error(H(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},ze===null?Ne.memoizedState=ze=e:ze=ze.next=e}return ze}function Cn(e,t){return typeof t=="function"?t(e):t}function Ro(e){var t=Tt(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var a=De,n=a.baseQueue,i=r.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}a.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,a=a.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((ja&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=a):c=c.next=h,Ne.lanes|=u,Na|=u}d=d.next}while(d!==null&&d!==i);c===null?l=a:c.next=o,zt(a,t.memoizedState)||(dt=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){n=e;do i=n.lane,Ne.lanes|=i,Na|=i,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Mo(e){var t=Tt(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,i=t.memoizedState;if(n!==null){r.pending=null;var l=n=n.next;do i=e(i,l.action),l=l.next;while(l!==n);zt(i,t.memoizedState)||(dt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function cg(){}function dg(e,t){var r=Ne,a=Tt(),n=t(),i=!zt(a.memoizedState,n);if(i&&(a.memoizedState=n,dt=!0),a=a.queue,pu(fg.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,Tn(9,hg.bind(null,r,a,n,t),void 0,null),Ue===null)throw Error(H(349));ja&30||ug(r,t,n)}return n}function ug(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hg(e,t,r,a){t.value=r,t.getSnapshot=a,mg(t)&&gg(e)}function fg(e,t,r){return r(function(){mg(t)&&gg(e)})}function mg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zt(e,r)}catch{return!0}}function gg(e){var t=fr(e,1);t!==null&&Lt(t,e,1,-1)}function Qh(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},t.queue=e,e=e.dispatch=iw.bind(null,Ne,e),[t.memoizedState,e]}function Tn(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function pg(){return Tt().memoizedState}function Li(e,t,r,a){var n=Vt();Ne.flags|=e,n.memoizedState=Tn(1|t,r,void 0,a===void 0?null:a)}function Wl(e,t,r,a){var n=Tt();a=a===void 0?null:a;var i=void 0;if(De!==null){var l=De.memoizedState;if(i=l.destroy,a!==null&&fu(a,l.deps)){n.memoizedState=Tn(t,r,i,a);return}}Ne.flags|=e,n.memoizedState=Tn(1|t,r,i,a)}function Xh(e,t){return Li(8390656,8,e,t)}function pu(e,t){return Wl(2048,8,e,t)}function xg(e,t){return Wl(4,2,e,t)}function vg(e,t){return Wl(4,4,e,t)}function yg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bg(e,t,r){return r=r!=null?r.concat([e]):null,Wl(4,4,yg.bind(null,t,e),r)}function xu(){}function wg(e,t){var r=Tt();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&fu(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function kg(e,t){var r=Tt();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&fu(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function jg(e,t,r){return ja&21?(zt(r,t)||(r=Cm(),Ne.lanes|=r,Na|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=r)}function sw(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var a=Ao.transition;Ao.transition={};try{e(!1),t()}finally{me=r,Ao.transition=a}}function Ng(){return Tt().memoizedState}function nw(e,t,r){var a=Fr(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},_g(e))Sg(t,r);else if(r=ig(e,t,r,a),r!==null){var n=rt();Lt(r,e,a,n),Eg(r,t,a)}}function iw(e,t,r){var a=Fr(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(_g(e))Sg(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(n.hasEagerState=!0,n.eagerState=o,zt(o,l)){var c=t.interleaved;c===null?(n.next=n,ou(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}r=ig(e,t,n,a),r!==null&&(n=rt(),Lt(r,e,a,n),Eg(r,t,a))}}function _g(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function Sg(e,t){dn=hl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Eg(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Kd(e,r)}}var fl={readContext:Ct,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},lw={readContext:Ct,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Xh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Li(4194308,4,yg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var r=Vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=Vt();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=nw.bind(null,Ne,e),[a.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:Qh,useDebugValue:xu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Qh(!1),t=e[0];return e=sw.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=Ne,n=Vt();if(ke){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),Ue===null)throw Error(H(349));ja&30||ug(a,t,r)}n.memoizedState=r;var i={value:r,getSnapshot:t};return n.queue=i,Xh(fg.bind(null,a,i,e),[e]),a.flags|=2048,Tn(9,hg.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=Vt(),t=Ue.identifierPrefix;if(ke){var r=lr,a=ir;r=(a&~(1<<32-$t(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=En++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ow={readContext:Ct,useCallback:wg,useContext:Ct,useEffect:pu,useImperativeHandle:bg,useInsertionEffect:xg,useLayoutEffect:vg,useMemo:kg,useReducer:Ro,useRef:pg,useState:function(){return Ro(Cn)},useDebugValue:xu,useDeferredValue:function(e){var t=Tt();return jg(t,De.memoizedState,e)},useTransition:function(){var e=Ro(Cn)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:cg,useSyncExternalStore:dg,useId:Ng,unstable_isNewReconciler:!1},cw={readContext:Ct,useCallback:wg,useContext:Ct,useEffect:pu,useImperativeHandle:bg,useInsertionEffect:xg,useLayoutEffect:vg,useMemo:kg,useReducer:Mo,useRef:pg,useState:function(){return Mo(Cn)},useDebugValue:xu,useDeferredValue:function(e){var t=Tt();return De===null?t.memoizedState=e:jg(t,De.memoizedState,e)},useTransition:function(){var e=Mo(Cn)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:cg,useSyncExternalStore:dg,useId:Ng,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Wc(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hl={isMounted:function(e){return(e=e._reactInternals)?Ta(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=rt(),n=Fr(e),i=or(a,n);i.payload=t,r!=null&&(i.callback=r),t=zr(e,i,n),t!==null&&(Lt(t,e,n,a),Ii(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=rt(),n=Fr(e),i=or(a,n);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=zr(e,i,n),t!==null&&(Lt(t,e,n,a),Ii(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rt(),a=Fr(e),n=or(r,a);n.tag=2,t!=null&&(n.callback=t),t=zr(e,n,a),t!==null&&(Lt(t,e,a,r),Ii(t,e,a))}};function Zh(e,t,r,a,n,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!wn(r,a)||!wn(n,i):!0}function Cg(e,t,r){var a=!1,n=Gr,i=t.contextType;return typeof i=="object"&&i!==null?i=Ct(i):(n=ht(t)?wa:Ze.current,a=t.contextTypes,i=(a=a!=null)?ys(e,n):Gr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hl,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),t}function e0(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&Hl.enqueueReplaceState(t,t.state,null)}function Hc(e,t,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},cu(e);var i=t.contextType;typeof i=="object"&&i!==null?n.context=Ct(i):(i=ht(t)?wa:Ze.current,n.context=ys(e,i)),n.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wc(e,t,i,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&Hl.enqueueReplaceState(n,n.state,null),dl(e,r,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,t){try{var r="",a=t;do r+=$y(a),a=a.return;while(a);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:n,digest:null}}function Do(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Vc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var dw=typeof WeakMap=="function"?WeakMap:Map;function Tg(e,t,r){r=or(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){gl||(gl=!0,td=a),Vc(e,t)},r}function Pg(e,t,r){r=or(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;r.payload=function(){return a(n)},r.callback=function(){Vc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Vc(e,t),typeof a!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function t0(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new dw;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(r)||(n.add(r),e=Nw.bind(null,e,t,r),t.then(e,e))}function r0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function a0(e,t,r,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=or(-1,1),t.tag=2,zr(r,t,1))),r.lanes|=1),e)}var uw=pr.ReactCurrentOwner,dt=!1;function tt(e,t,r,a){t.child=e===null?ng(t,null,r,a):ws(t,e.child,r,a)}function s0(e,t,r,a,n){r=r.render;var i=t.ref;return us(t,n),a=mu(e,t,r,a,i,n),r=gu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,mr(e,t,n)):(ke&&r&&ru(t),t.flags|=1,tt(e,t,a,n),t.child)}function n0(e,t,r,a,n){if(e===null){var i=r.type;return typeof i=="function"&&!_u(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Og(e,t,i,a,n)):(e=Bi(r.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&n)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:wn,r(l,a)&&e.ref===t.ref)return mr(e,t,n)}return t.flags|=1,e=Br(i,a),e.ref=t.ref,e.return=t,t.child=e}function Og(e,t,r,a,n){if(e!==null){var i=e.memoizedProps;if(wn(i,a)&&e.ref===t.ref)if(dt=!1,t.pendingProps=a=i,(e.lanes&n)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,mr(e,t,n)}return Gc(e,t,r,a,n)}function Ag(e,t,r){var a=t.pendingProps,n=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(is,mt),mt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(is,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,pe(is,mt),mt|=a}else i!==null?(a=i.baseLanes|r,t.memoizedState=null):a=r,pe(is,mt),mt|=a;return tt(e,t,n,r),t.child}function Rg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gc(e,t,r,a,n){var i=ht(r)?wa:Ze.current;return i=ys(t,i),us(t,n),r=mu(e,t,r,a,i,n),a=gu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,mr(e,t,n)):(ke&&a&&ru(t),t.flags|=1,tt(e,t,r,n),t.child)}function i0(e,t,r,a,n){if(ht(r)){var i=!0;nl(t)}else i=!1;if(us(t,n),t.stateNode===null)zi(e,t),Cg(t,r,a),Hc(t,r,a,n),a=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ct(d):(d=ht(r)?wa:Ze.current,d=ys(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==d)&&e0(t,l,a,d),Er=!1;var f=t.memoizedState;l.state=f,dl(t,a,l,n),c=t.memoizedState,o!==a||f!==c||ut.current||Er?(typeof u=="function"&&(Wc(t,r,u,a),c=t.memoizedState),(o=Er||Zh(t,r,o,a,f,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),l.props=a,l.state=c,l.context=d,a=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,lg(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:At(t.type,o),l.props=d,h=t.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ct(c):(c=ht(r)?wa:Ze.current,c=ys(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||f!==c)&&e0(t,l,a,c),Er=!1,f=t.memoizedState,l.state=f,dl(t,a,l,n);var x=t.memoizedState;o!==h||f!==x||ut.current||Er?(typeof p=="function"&&(Wc(t,r,p,a),x=t.memoizedState),(d=Er||Zh(t,r,d,a,f,x,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=x),l.props=a,l.state=x,l.context=c,a=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return qc(e,t,r,a,i,n)}function qc(e,t,r,a,n,i){Rg(e,t);var l=(t.flags&128)!==0;if(!a&&!l)return n&&Vh(t,r,!1),mr(e,t,i);a=t.stateNode,uw.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&l?(t.child=ws(t,e.child,null,i),t.child=ws(t,null,o,i)):tt(e,t,o,i),t.memoizedState=a.state,n&&Vh(t,r,!0),t.child}function Mg(e){var t=e.stateNode;t.pendingContext?Hh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hh(e,t.context,!1),du(e,t.containerInfo)}function l0(e,t,r,a,n){return bs(),su(n),t.flags|=256,tt(e,t,r,a),t.child}var Kc={dehydrated:null,treeContext:null,retryLane:0};function Yc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dg(e,t,r){var a=t.pendingProps,n=je.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),pe(je,n&1),e===null)return Fc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ql(l,a,0,null),e=ya(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Yc(r),t.memoizedState=Kc,e):vu(t,l));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return hw(e,t,l,a,o,n,r);if(i){i=a.fallback,l=t.mode,n=e.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Br(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=Br(o,i):(i=ya(i,l,r,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=e.child.memoizedState,l=l===null?Yc(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=Kc,a}return i=e.child,e=i.sibling,a=Br(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function vu(e,t){return t=ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function di(e,t,r,a){return a!==null&&su(a),ws(t,e.child,null,r),e=vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hw(e,t,r,a,n,i,l){if(r)return t.flags&256?(t.flags&=-257,a=Do(Error(H(422))),di(e,t,l,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,n=t.mode,a=ql({mode:"visible",children:a.children},n,0,null),i=ya(i,n,l,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&ws(t,e.child,null,l),t.child.memoizedState=Yc(l),t.memoizedState=Kc,i);if(!(t.mode&1))return di(e,t,l,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(H(419)),a=Do(i,a,void 0),di(e,t,l,a)}if(o=(l&e.childLanes)!==0,dt||o){if(a=Ue,a!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,fr(e,n),Lt(a,e,n,-1))}return Nu(),a=Do(Error(H(421))),di(e,t,l,a)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=_w.bind(null,e),n._reactRetry=t,null):(e=i.treeContext,xt=Lr(n.nextSibling),vt=t,ke=!0,It=null,e!==null&&(jt[Nt++]=ir,jt[Nt++]=lr,jt[Nt++]=ka,ir=e.id,lr=e.overflow,ka=t),t=vu(t,a.children),t.flags|=4096,t)}function o0(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Bc(e.return,t,r)}function Io(e,t,r,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=n)}function Ig(e,t,r){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(tt(e,t,a.children,r),a=je.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o0(e,r,t);else if(e.tag===19)o0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(pe(je,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&ul(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Io(t,!1,n,r,i);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ul(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Io(t,!0,r,null,i);break;case"together":Io(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Na|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=Br(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Br(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function fw(e,t,r){switch(t.tag){case 3:Mg(t),bs();break;case 5:og(t);break;case 1:ht(t.type)&&nl(t);break;case 4:du(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;pe(ol,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(pe(je,je.current&1),t.flags|=128,null):r&t.child.childLanes?Dg(e,t,r):(pe(je,je.current&1),e=mr(e,t,r),e!==null?e.sibling:null);pe(je,je.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return Ig(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),pe(je,je.current),a)break;return null;case 22:case 23:return t.lanes=0,Ag(e,t,r)}return mr(e,t,r)}var $g,Jc,Lg,zg;$g=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jc=function(){};Lg=function(e,t,r,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,pa(Qt.current);var i=null;switch(r){case"input":n=vc(e,n),a=vc(e,a),i=[];break;case"select":n=_e({},n,{value:void 0}),a=_e({},a,{value:void 0}),i=[];break;case"textarea":n=wc(e,n),a=wc(e,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=al)}jc(r,a);var l;r=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var o=n[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(mn.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(o=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(mn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ye("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};zg=function(e,t,r,a){r!==a&&(t.flags|=4)};function Ws(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function mw(e,t,r){var a=t.pendingProps;switch(au(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return ht(t.type)&&sl(),Je(t),null;case 3:return a=t.stateNode,ks(),be(ut),be(Ze),hu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(oi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(sd(It),It=null))),Jc(e,t),Je(t),null;case 5:uu(t);var n=pa(Sn.current);if(r=t.type,e!==null&&t.stateNode!=null)Lg(e,t,r,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(H(166));return Je(t),null}if(e=pa(Qt.current),oi(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[qt]=t,a[Nn]=i,e=(t.mode&1)!==0,r){case"dialog":ye("cancel",a),ye("close",a);break;case"iframe":case"object":case"embed":ye("load",a);break;case"video":case"audio":for(n=0;n<en.length;n++)ye(en[n],a);break;case"source":ye("error",a);break;case"img":case"image":case"link":ye("error",a),ye("load",a);break;case"details":ye("toggle",a);break;case"input":xh(a,i),ye("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},ye("invalid",a);break;case"textarea":yh(a,i),ye("invalid",a)}jc(r,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&li(a.textContent,o,e),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&li(a.textContent,o,e),n=["children",""+o]):mn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ye("scroll",a)}switch(r){case"input":Zn(a),vh(a,i,!0);break;case"textarea":Zn(a),bh(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=al)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=l.createElement(r,{is:a.is}):(e=l.createElement(r),r==="select"&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,r),e[qt]=t,e[Nn]=a,$g(e,t,!1,!1),t.stateNode=e;e:{switch(l=Nc(r,a),r){case"dialog":ye("cancel",e),ye("close",e),n=a;break;case"iframe":case"object":case"embed":ye("load",e),n=a;break;case"video":case"audio":for(n=0;n<en.length;n++)ye(en[n],e);n=a;break;case"source":ye("error",e),n=a;break;case"img":case"image":case"link":ye("error",e),ye("load",e),n=a;break;case"details":ye("toggle",e),n=a;break;case"input":xh(e,a),n=vc(e,a),ye("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=_e({},a,{value:void 0}),ye("invalid",e);break;case"textarea":yh(e,a),n=wc(e,a),ye("invalid",e);break;default:n=a}jc(r,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?pm(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mm(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&gn(e,c):typeof c=="number"&&gn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ye("scroll",e):c!=null&&Bd(e,i,c,l))}switch(r){case"input":Zn(e),vh(e,a,!1);break;case"textarea":Zn(e),bh(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Vr(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?ls(e,!!a.multiple,i,!1):a.defaultValue!=null&&ls(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=al)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)zg(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(H(166));if(r=pa(Sn.current),pa(Qt.current),oi(t)){if(a=t.stateNode,r=t.memoizedProps,a[qt]=t,(i=a.nodeValue!==r)&&(e=vt,e!==null))switch(e.tag){case 3:li(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&li(a.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[qt]=t,t.stateNode=a}return Je(t),null;case 13:if(be(je),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&xt!==null&&t.mode&1&&!(t.flags&128))ag(),bs(),t.flags|=98560,i=!1;else if(i=oi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[qt]=t}else bs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),i=!1}else It!==null&&(sd(It),It=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Ie===0&&(Ie=3):Nu())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return ks(),Jc(e,t),e===null&&kn(t.stateNode.containerInfo),Je(t),null;case 10:return lu(t.type._context),Je(t),null;case 17:return ht(t.type)&&sl(),Je(t),null;case 19:if(be(je),i=t.memoizedState,i===null)return Je(t),null;if(a=(t.flags&128)!==0,l=i.rendering,l===null)if(a)Ws(i,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ul(e),l!==null){for(t.flags|=128,Ws(i,!1),a=l.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)i=r,e=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pe(je,je.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Ns&&(t.flags|=128,a=!0,Ws(i,!1),t.lanes=4194304)}else{if(!a)if(e=ul(l),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ws(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ke)return Je(t),null}else 2*Te()-i.renderingStartTime>Ns&&r!==1073741824&&(t.flags|=128,a=!0,Ws(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,r=je.current,pe(je,a?r&1|2:r&1),t):(Je(t),null);case 22:case 23:return ju(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?mt&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function gw(e,t){switch(au(t),t.tag){case 1:return ht(t.type)&&sl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ks(),be(ut),be(Ze),hu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uu(t),null;case 13:if(be(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));bs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(je),null;case 4:return ks(),null;case 10:return lu(t.type._context),null;case 22:case 23:return ju(),null;case 24:return null;default:return null}}var ui=!1,Qe=!1,pw=typeof WeakSet=="function"?WeakSet:Set,Z=null;function ns(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Se(e,t,a)}else r.current=null}function Qc(e,t,r){try{r()}catch(a){Se(e,t,a)}}var c0=!1;function xw(e,t){if(Mc=el,e=Hm(),tu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var p;h!==r||n!==0&&h.nodeType!==3||(o=l+n),h!==i||a!==0&&h.nodeType!==3||(c=l+a),h.nodeType===3&&(l+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++d===n&&(o=l),f===i&&++u===a&&(c=l),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dc={focusedElem:e,selectionRange:r},el=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,y=x.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?b:At(t.type,b),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(j){Se(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return x=c0,c0=!1,x}function un(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Qc(t,r,i)}n=n.next}while(n!==a)}}function Vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function Xc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ug(e){var t=e.alternate;t!==null&&(e.alternate=null,Ug(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Nn],delete t[Lc],delete t[Zb],delete t[ew])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fg(e){return e.tag===5||e.tag===3||e.tag===4}function d0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zc(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=al));else if(a!==4&&(e=e.child,e!==null))for(Zc(e,t,r),e=e.sibling;e!==null;)Zc(e,t,r),e=e.sibling}function ed(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(ed(e,t,r),e=e.sibling;e!==null;)ed(e,t,r),e=e.sibling}var Ve=null,Mt=!1;function br(e,t,r){for(r=r.child;r!==null;)Bg(e,t,r),r=r.sibling}function Bg(e,t,r){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount($l,r)}catch{}switch(r.tag){case 5:Qe||ns(r,t);case 6:var a=Ve,n=Mt;Ve=null,br(e,t,r),Ve=a,Mt=n,Ve!==null&&(Mt?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(Mt?(e=Ve,r=r.stateNode,e.nodeType===8?To(e.parentNode,r):e.nodeType===1&&To(e,r),yn(e)):To(Ve,r.stateNode));break;case 4:a=Ve,n=Mt,Ve=r.stateNode.containerInfo,Mt=!0,br(e,t,r),Ve=a,Mt=n;break;case 0:case 11:case 14:case 15:if(!Qe&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Qc(r,t,l),n=n.next}while(n!==a)}br(e,t,r);break;case 1:if(!Qe&&(ns(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){Se(r,t,o)}br(e,t,r);break;case 21:br(e,t,r);break;case 22:r.mode&1?(Qe=(a=Qe)||r.memoizedState!==null,br(e,t,r),Qe=a):br(e,t,r);break;default:br(e,t,r)}}function u0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pw),t.forEach(function(a){var n=Sw.bind(null,e,a);r.has(a)||(r.add(a),a.then(n,n))})}}function Pt(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ve=o.stateNode,Mt=!1;break e;case 3:Ve=o.stateNode.containerInfo,Mt=!0;break e;case 4:Ve=o.stateNode.containerInfo,Mt=!0;break e}o=o.return}if(Ve===null)throw Error(H(160));Bg(i,l,n),Ve=null,Mt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){Se(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wg(t,e),t=t.sibling}function Wg(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Wt(e),a&4){try{un(3,e,e.return),Vl(3,e)}catch(b){Se(e,e.return,b)}try{un(5,e,e.return)}catch(b){Se(e,e.return,b)}}break;case 1:Pt(t,e),Wt(e),a&512&&r!==null&&ns(r,r.return);break;case 5:if(Pt(t,e),Wt(e),a&512&&r!==null&&ns(r,r.return),e.flags&32){var n=e.stateNode;try{gn(n,"")}catch(b){Se(e,e.return,b)}}if(a&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&um(n,i),Nc(o,l);var d=Nc(o,i);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?pm(n,h):u==="dangerouslySetInnerHTML"?mm(n,h):u==="children"?gn(n,h):Bd(n,u,h,d)}switch(o){case"input":yc(n,i);break;case"textarea":hm(n,i);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ls(n,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ls(n,!!i.multiple,i.defaultValue,!0):ls(n,!!i.multiple,i.multiple?[]:"",!1))}n[Nn]=i}catch(b){Se(e,e.return,b)}}break;case 6:if(Pt(t,e),Wt(e),a&4){if(e.stateNode===null)throw Error(H(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(b){Se(e,e.return,b)}}break;case 3:if(Pt(t,e),Wt(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{yn(t.containerInfo)}catch(b){Se(e,e.return,b)}break;case 4:Pt(t,e),Wt(e);break;case 13:Pt(t,e),Wt(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(wu=Te())),a&4&&u0(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Qe=(d=Qe)||u,Pt(t,e),Qe=d):Pt(t,e),Wt(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Z=e,u=e.child;u!==null;){for(h=Z=u;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:un(4,f,f.return);break;case 1:ns(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){a=f,r=f.return;try{t=a,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){Se(a,r,b)}}break;case 5:ns(f,f.return);break;case 22:if(f.memoizedState!==null){f0(h);continue}}p!==null?(p.return=f,Z=p):f0(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{n=h.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=gm("display",l))}catch(b){Se(e,e.return,b)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(b){Se(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pt(t,e),Wt(e),a&4&&u0(e);break;case 21:break;default:Pt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fg(r)){var a=r;break e}r=r.return}throw Error(H(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(gn(n,""),a.flags&=-33);var i=d0(e);ed(e,i,n);break;case 3:case 4:var l=a.stateNode.containerInfo,o=d0(e);Zc(e,o,l);break;default:throw Error(H(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vw(e,t,r){Z=e,Hg(e)}function Hg(e,t,r){for(var a=(e.mode&1)!==0;Z!==null;){var n=Z,i=n.child;if(n.tag===22&&a){var l=n.memoizedState!==null||ui;if(!l){var o=n.alternate,c=o!==null&&o.memoizedState!==null||Qe;o=ui;var d=Qe;if(ui=l,(Qe=c)&&!d)for(Z=n;Z!==null;)l=Z,c=l.child,l.tag===22&&l.memoizedState!==null?m0(n):c!==null?(c.return=l,Z=c):m0(n);for(;i!==null;)Z=i,Hg(i),i=i.sibling;Z=n,ui=o,Qe=d}h0(e)}else n.subtreeFlags&8772&&i!==null?(i.return=n,Z=i):h0(e)}}function h0(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||Vl(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Qe)if(r===null)a.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:At(t.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Jh(t,i,a);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jh(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&yn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Qe||t.flags&512&&Xc(t)}catch(f){Se(t,t.return,f)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function f0(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function m0(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vl(4,t)}catch(c){Se(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(c){Se(t,n,c)}}var i=t.return;try{Xc(t)}catch(c){Se(t,i,c)}break;case 5:var l=t.return;try{Xc(t)}catch(c){Se(t,l,c)}}}catch(c){Se(t,t.return,c)}if(t===e){Z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Z=o;break}Z=t.return}}var yw=Math.ceil,ml=pr.ReactCurrentDispatcher,yu=pr.ReactCurrentOwner,Et=pr.ReactCurrentBatchConfig,he=0,Ue=null,Re=null,Ge=0,mt=0,is=Qr(0),Ie=0,Pn=null,Na=0,Gl=0,bu=0,hn=null,ot=null,wu=0,Ns=1/0,sr=null,gl=!1,td=null,Ur=null,hi=!1,Rr=null,pl=0,fn=0,rd=null,Ui=-1,Fi=0;function rt(){return he&6?Te():Ui!==-1?Ui:Ui=Te()}function Fr(e){return e.mode&1?he&2&&Ge!==0?Ge&-Ge:rw.transition!==null?(Fi===0&&(Fi=Cm()),Fi):(e=me,e!==0||(e=window.event,e=e===void 0?16:Dm(e.type)),e):1}function Lt(e,t,r,a){if(50<fn)throw fn=0,rd=null,Error(H(185));Bn(e,r,a),(!(he&2)||e!==Ue)&&(e===Ue&&(!(he&2)&&(Gl|=r),Ie===4&&Tr(e,Ge)),ft(e,a),r===1&&he===0&&!(t.mode&1)&&(Ns=Te()+500,Bl&&Xr()))}function ft(e,t){var r=e.callbackNode;rb(e,t);var a=Zi(e,e===Ue?Ge:0);if(a===0)r!==null&&jh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&jh(r),t===1)e.tag===0?tw(g0.bind(null,e)):eg(g0.bind(null,e)),Qb(function(){!(he&6)&&Xr()}),r=null;else{switch(Tm(a)){case 1:r=qd;break;case 4:r=Sm;break;case 16:r=Xi;break;case 536870912:r=Em;break;default:r=Xi}r=Xg(r,Vg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vg(e,t){if(Ui=-1,Fi=0,he&6)throw Error(H(327));var r=e.callbackNode;if(hs()&&e.callbackNode!==r)return null;var a=Zi(e,e===Ue?Ge:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=xl(e,a);else{t=a;var n=he;he|=2;var i=qg();(Ue!==e||Ge!==t)&&(sr=null,Ns=Te()+500,va(e,t));do try{kw();break}catch(o){Gg(e,o)}while(!0);iu(),ml.current=i,he=n,Re!==null?t=0:(Ue=null,Ge=0,t=Ie)}if(t!==0){if(t===2&&(n=Tc(e),n!==0&&(a=n,t=ad(e,n))),t===1)throw r=Pn,va(e,0),Tr(e,a),ft(e,Te()),r;if(t===6)Tr(e,a);else{if(n=e.current.alternate,!(a&30)&&!bw(n)&&(t=xl(e,a),t===2&&(i=Tc(e),i!==0&&(a=i,t=ad(e,i))),t===1))throw r=Pn,va(e,0),Tr(e,a),ft(e,Te()),r;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(H(345));case 2:la(e,ot,sr);break;case 3:if(Tr(e,a),(a&130023424)===a&&(t=wu+500-Te(),10<t)){if(Zi(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){rt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=$c(la.bind(null,e,ot,sr),t);break}la(e,ot,sr);break;case 4:if(Tr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,n=-1;0<a;){var l=31-$t(a);i=1<<l,l=t[l],l>n&&(n=l),a&=~i}if(a=n,a=Te()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*yw(a/1960))-a,10<a){e.timeoutHandle=$c(la.bind(null,e,ot,sr),a);break}la(e,ot,sr);break;case 5:la(e,ot,sr);break;default:throw Error(H(329))}}}return ft(e,Te()),e.callbackNode===r?Vg.bind(null,e):null}function ad(e,t){var r=hn;return e.current.memoizedState.isDehydrated&&(va(e,t).flags|=256),e=xl(e,t),e!==2&&(t=ot,ot=r,t!==null&&sd(t)),e}function sd(e){ot===null?ot=e:ot.push.apply(ot,e)}function bw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],i=n.getSnapshot;n=n.value;try{if(!zt(i(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~bu,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$t(t),a=1<<r;e[r]=-1,t&=~a}}function g0(e){if(he&6)throw Error(H(327));hs();var t=Zi(e,0);if(!(t&1))return ft(e,Te()),null;var r=xl(e,t);if(e.tag!==0&&r===2){var a=Tc(e);a!==0&&(t=a,r=ad(e,a))}if(r===1)throw r=Pn,va(e,0),Tr(e,t),ft(e,Te()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,la(e,ot,sr),ft(e,Te()),null}function ku(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(Ns=Te()+500,Bl&&Xr())}}function _a(e){Rr!==null&&Rr.tag===0&&!(he&6)&&hs();var t=he;he|=1;var r=Et.transition,a=me;try{if(Et.transition=null,me=1,e)return e()}finally{me=a,Et.transition=r,he=t,!(he&6)&&Xr()}}function ju(){mt=is.current,be(is)}function va(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jb(r)),Re!==null)for(r=Re.return;r!==null;){var a=r;switch(au(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&sl();break;case 3:ks(),be(ut),be(Ze),hu();break;case 5:uu(a);break;case 4:ks();break;case 13:be(je);break;case 19:be(je);break;case 10:lu(a.type._context);break;case 22:case 23:ju()}r=r.return}if(Ue=e,Re=e=Br(e.current,null),Ge=mt=t,Ie=0,Pn=null,bu=Gl=Na=0,ot=hn=null,ga!==null){for(t=0;t<ga.length;t++)if(r=ga[t],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,i=r.pending;if(i!==null){var l=i.next;i.next=n,a.next=l}r.pending=a}ga=null}return e}function Gg(e,t){do{var r=Re;try{if(iu(),$i.current=fl,hl){for(var a=Ne.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}hl=!1}if(ja=0,ze=De=Ne=null,dn=!1,En=0,yu.current=null,r===null||r.return===null){Ie=1,Pn=t,Re=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Ge,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=r0(l);if(p!==null){p.flags&=-257,a0(p,l,o,i,t),p.mode&1&&t0(i,d,t),t=p,c=d;var x=t.updateQueue;if(x===null){var b=new Set;b.add(c),t.updateQueue=b}else x.add(c);break e}else{if(!(t&1)){t0(i,d,t),Nu();break e}c=Error(H(426))}}else if(ke&&o.mode&1){var y=r0(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),a0(y,l,o,i,t),su(js(c,o));break e}}i=c=js(c,o),Ie!==4&&(Ie=2),hn===null?hn=[i]:hn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Tg(i,c,t);Yh(i,g);break e;case 1:o=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ur===null||!Ur.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Pg(i,o,t);Yh(i,j);break e}}i=i.return}while(i!==null)}Yg(r)}catch(k){t=k,Re===r&&r!==null&&(Re=r=r.return);continue}break}while(!0)}function qg(){var e=ml.current;return ml.current=fl,e===null?fl:e}function Nu(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Ue===null||!(Na&268435455)&&!(Gl&268435455)||Tr(Ue,Ge)}function xl(e,t){var r=he;he|=2;var a=qg();(Ue!==e||Ge!==t)&&(sr=null,va(e,t));do try{ww();break}catch(n){Gg(e,n)}while(!0);if(iu(),he=r,ml.current=a,Re!==null)throw Error(H(261));return Ue=null,Ge=0,Ie}function ww(){for(;Re!==null;)Kg(Re)}function kw(){for(;Re!==null&&!qy();)Kg(Re)}function Kg(e){var t=Qg(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?Yg(e):Re=t,yu.current=null}function Yg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gw(r,t),r!==null){r.flags&=32767,Re=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Re=null;return}}else if(r=mw(r,t,mt),r!==null){Re=r;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Ie===0&&(Ie=5)}function la(e,t,r){var a=me,n=Et.transition;try{Et.transition=null,me=1,jw(e,t,r,a)}finally{Et.transition=n,me=a}return null}function jw(e,t,r,a){do hs();while(Rr!==null);if(he&6)throw Error(H(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ab(e,i),e===Ue&&(Re=Ue=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hi||(hi=!0,Xg(Xi,function(){return hs(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Et.transition,Et.transition=null;var l=me;me=1;var o=he;he|=4,yu.current=null,xw(e,r),Wg(r,e),Wb(Dc),el=!!Mc,Dc=Mc=null,e.current=r,vw(r),Ky(),he=o,me=l,Et.transition=i}else e.current=r;if(hi&&(hi=!1,Rr=e,pl=n),i=e.pendingLanes,i===0&&(Ur=null),Qy(r.stateNode),ft(e,Te()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(gl)throw gl=!1,e=td,td=null,e;return pl&1&&e.tag!==0&&hs(),i=e.pendingLanes,i&1?e===rd?fn++:(fn=0,rd=e):fn=0,Xr(),null}function hs(){if(Rr!==null){var e=Tm(pl),t=Et.transition,r=me;try{if(Et.transition=null,me=16>e?16:e,Rr===null)var a=!1;else{if(e=Rr,Rr=null,pl=0,he&6)throw Error(H(331));var n=he;for(he|=4,Z=e.current;Z!==null;){var i=Z,l=i.child;if(Z.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(Z=d;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:un(8,u,i)}var h=u.child;if(h!==null)h.return=u,Z=h;else for(;Z!==null;){u=Z;var f=u.sibling,p=u.return;if(Ug(u),u===d){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var x=i.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}Z=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,Z=l;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:un(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Z=g;break e}Z=i.return}}var v=e.current;for(Z=v;Z!==null;){l=Z;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,Z=w;else e:for(l=v;Z!==null;){if(o=Z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Vl(9,o)}}catch(k){Se(o,o.return,k)}if(o===l){Z=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,Z=j;break e}Z=o.return}}if(he=n,Xr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot($l,e)}catch{}a=!0}return a}finally{me=r,Et.transition=t}}return!1}function p0(e,t,r){t=js(r,t),t=Tg(e,t,1),e=zr(e,t,1),t=rt(),e!==null&&(Bn(e,1,t),ft(e,t))}function Se(e,t,r){if(e.tag===3)p0(e,e,r);else for(;t!==null;){if(t.tag===3){p0(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ur===null||!Ur.has(a))){e=js(r,e),e=Pg(t,e,1),t=zr(t,e,1),e=rt(),t!==null&&(Bn(t,1,e),ft(t,e));break}}t=t.return}}function Nw(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&r,Ue===e&&(Ge&r)===r&&(Ie===4||Ie===3&&(Ge&130023424)===Ge&&500>Te()-wu?va(e,0):bu|=r),ft(e,t)}function Jg(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var r=rt();e=fr(e,t),e!==null&&(Bn(e,t,r),ft(e,r))}function _w(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jg(e,r)}function Sw(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(H(314))}a!==null&&a.delete(t),Jg(e,r)}var Qg;Qg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)dt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return dt=!1,fw(e,t,r);dt=!!(e.flags&131072)}else dt=!1,ke&&t.flags&1048576&&tg(t,ll,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;zi(e,t),e=t.pendingProps;var n=ys(t,Ze.current);us(t,r),n=mu(null,t,a,e,n,r);var i=gu();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(a)?(i=!0,nl(t)):i=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,cu(t),n.updater=Hl,t.stateNode=n,n._reactInternals=t,Hc(t,a,e,r),t=qc(null,t,a,!0,i,r)):(t.tag=0,ke&&i&&ru(t),tt(null,t,n,r),t=t.child),t;case 16:a=t.elementType;e:{switch(zi(e,t),e=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=Cw(a),e=At(a,e),n){case 0:t=Gc(null,t,a,e,r);break e;case 1:t=i0(null,t,a,e,r);break e;case 11:t=s0(null,t,a,e,r);break e;case 14:t=n0(null,t,a,At(a.type,e),r);break e}throw Error(H(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:At(a,n),Gc(e,t,a,n,r);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:At(a,n),i0(e,t,a,n,r);case 3:e:{if(Mg(t),e===null)throw Error(H(387));a=t.pendingProps,i=t.memoizedState,n=i.element,lg(e,t),dl(t,a,null,r);var l=t.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){n=js(Error(H(423)),t),t=l0(e,t,a,r,n);break e}else if(a!==n){n=js(Error(H(424)),t),t=l0(e,t,a,r,n);break e}else for(xt=Lr(t.stateNode.containerInfo.firstChild),vt=t,ke=!0,It=null,r=ng(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bs(),a===n){t=mr(e,t,r);break e}tt(e,t,a,r)}t=t.child}return t;case 5:return og(t),e===null&&Fc(t),a=t.type,n=t.pendingProps,i=e!==null?e.memoizedProps:null,l=n.children,Ic(a,n)?l=null:i!==null&&Ic(a,i)&&(t.flags|=32),Rg(e,t),tt(e,t,l,r),t.child;case 6:return e===null&&Fc(t),null;case 13:return Dg(e,t,r);case 4:return du(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ws(t,null,a,r):tt(e,t,a,r),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:At(a,n),s0(e,t,a,n,r);case 7:return tt(e,t,t.pendingProps,r),t.child;case 8:return tt(e,t,t.pendingProps.children,r),t.child;case 12:return tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,i=t.memoizedProps,l=n.value,pe(ol,a._currentValue),a._currentValue=l,i!==null)if(zt(i.value,l)){if(i.children===n.children&&!ut.current){t=mr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=or(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Bc(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(H(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Bc(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}tt(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,us(t,r),n=Ct(n),a=a(n),t.flags|=1,tt(e,t,a,r),t.child;case 14:return a=t.type,n=At(a,t.pendingProps),n=At(a.type,n),n0(e,t,a,n,r);case 15:return Og(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:At(a,n),zi(e,t),t.tag=1,ht(a)?(e=!0,nl(t)):e=!1,us(t,r),Cg(t,a,n),Hc(t,a,n,r),qc(null,t,a,!0,e,r);case 19:return Ig(e,t,r);case 22:return Ag(e,t,r)}throw Error(H(156,t.tag))};function Xg(e,t){return _m(e,t)}function Ew(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,r,a){return new Ew(e,t,r,a)}function _u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cw(e){if(typeof e=="function")return _u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hd)return 11;if(e===Vd)return 14}return 2}function Br(e,t){var r=e.alternate;return r===null?(r=St(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bi(e,t,r,a,n,i){var l=2;if(a=e,typeof e=="function")_u(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ja:return ya(r.children,n,i,t);case Wd:l=8,n|=8;break;case mc:return e=St(12,r,t,n|2),e.elementType=mc,e.lanes=i,e;case gc:return e=St(13,r,t,n),e.elementType=gc,e.lanes=i,e;case pc:return e=St(19,r,t,n),e.elementType=pc,e.lanes=i,e;case om:return ql(r,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case im:l=10;break e;case lm:l=9;break e;case Hd:l=11;break e;case Vd:l=14;break e;case Sr:l=16,a=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=St(l,r,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function ya(e,t,r,a){return e=St(7,e,a,t),e.lanes=r,e}function ql(e,t,r,a){return e=St(22,e,a,t),e.elementType=om,e.lanes=r,e.stateNode={isHidden:!1},e}function $o(e,t,r){return e=St(6,e,null,t),e.lanes=r,e}function Lo(e,t,r){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tw(e,t,r,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Su(e,t,r,a,n,i,l,o,c){return e=new Tw(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=St(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cu(i),e}function Pw(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ya,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Zg(e){if(!e)return Gr;e=e._reactInternals;e:{if(Ta(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(ht(r))return Zm(e,r,t)}return t}function ep(e,t,r,a,n,i,l,o,c){return e=Su(r,a,!0,e,n,i,l,o,c),e.context=Zg(null),r=e.current,a=rt(),n=Fr(r),i=or(a,n),i.callback=t??null,zr(r,i,n),e.current.lanes=n,Bn(e,n,a),ft(e,a),e}function Kl(e,t,r,a){var n=t.current,i=rt(),l=Fr(n);return r=Zg(r),t.context===null?t.context=r:t.pendingContext=r,t=or(i,l),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=zr(n,t,l),e!==null&&(Lt(e,n,l,i),Ii(e,n,l)),l}function vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function x0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Eu(e,t){x0(e,t),(e=e.alternate)&&x0(e,t)}function Ow(){return null}var tp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cu(e){this._internalRoot=e}Yl.prototype.render=Cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Kl(e,t,null,null)};Yl.prototype.unmount=Cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_a(function(){Kl(null,e,null,null)}),t[hr]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Am();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Cr.length&&t!==0&&t<Cr[r].priority;r++);Cr.splice(r,0,e),r===0&&Mm(e)}};function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function v0(){}function Aw(e,t,r,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var d=vl(l);i.call(d)}}var l=ep(t,a,e,0,null,!1,!1,"",v0);return e._reactRootContainer=l,e[hr]=l.current,kn(e.nodeType===8?e.parentNode:e),_a(),l}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var d=vl(c);o.call(d)}}var c=Su(e,0,!1,null,null,!1,!1,"",v0);return e._reactRootContainer=c,e[hr]=c.current,kn(e.nodeType===8?e.parentNode:e),_a(function(){Kl(t,c,r,a)}),c}function Ql(e,t,r,a,n){var i=r._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var o=n;n=function(){var c=vl(l);o.call(c)}}Kl(t,l,e,n)}else l=Aw(r,t,e,n,a);return vl(l)}Pm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zs(t.pendingLanes);r!==0&&(Kd(t,r|1),ft(t,Te()),!(he&6)&&(Ns=Te()+500,Xr()))}break;case 13:_a(function(){var a=fr(e,1);if(a!==null){var n=rt();Lt(a,e,1,n)}}),Eu(e,1)}};Yd=function(e){if(e.tag===13){var t=fr(e,134217728);if(t!==null){var r=rt();Lt(t,e,134217728,r)}Eu(e,134217728)}};Om=function(e){if(e.tag===13){var t=Fr(e),r=fr(e,t);if(r!==null){var a=rt();Lt(r,e,t,a)}Eu(e,t)}};Am=function(){return me};Rm=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};Sc=function(e,t,r){switch(t){case"input":if(yc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var n=Fl(a);if(!n)throw Error(H(90));dm(a),yc(a,n)}}}break;case"textarea":hm(e,r);break;case"select":t=r.value,t!=null&&ls(e,!!r.multiple,t,!1)}};ym=ku;bm=_a;var Rw={usingClientEntryPoint:!1,Events:[Hn,es,Fl,xm,vm,ku]},Hs={findFiberByHostInstance:ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mw={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jm(e),e===null?null:e.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||Ow,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{$l=fi.inject(Mw),Jt=fi}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rw;wt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(t))throw Error(H(200));return Pw(e,t,null,r)};wt.createRoot=function(e,t){if(!Tu(e))throw Error(H(299));var r=!1,a="",n=tp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Su(e,1,!1,null,null,r,!1,a,n),e[hr]=t.current,kn(e.nodeType===8?e.parentNode:e),new Cu(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=jm(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return _a(e)};wt.hydrate=function(e,t,r){if(!Jl(t))throw Error(H(200));return Ql(null,e,t,!0,r)};wt.hydrateRoot=function(e,t,r){if(!Tu(e))throw Error(H(405));var a=r!=null&&r.hydratedSources||null,n=!1,i="",l=tp;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=ep(t,null,e,1,r??null,n,!1,i,l),e[hr]=t.current,kn(e),a)for(e=0;e<a.length;e++)r=a[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Yl(t)};wt.render=function(e,t,r){if(!Jl(t))throw Error(H(200));return Ql(null,e,t,!1,r)};wt.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(H(40));return e._reactRootContainer?(_a(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0):!1};wt.unstable_batchedUpdates=ku;wt.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Jl(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Ql(e,t,r,!1,a)};wt.version="18.3.1-next-f1338f8080-20240426";function rp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rp)}catch(e){console.error(e)}}rp(),rm.exports=wt;var Pu=rm.exports;const Dw=Md(Pu);var y0=Pu;hc.createRoot=y0.createRoot,hc.hydrateRoot=y0.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},On.apply(this,arguments)}var Mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mr||(Mr={}));const b0="popstate";function Iw(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:l,hash:o}=a.location;return nd("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:yl(n)}return Lw(t,r,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ou(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $w(){return Math.random().toString(36).substr(2,8)}function w0(e,t){return{usr:e.state,key:e.key,idx:t}}function nd(e,t,r,a){return r===void 0&&(r=null),On({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Os(t):t,{state:r,key:t&&t.key||a||$w()})}function yl(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Os(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Lw(e,t,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=Mr.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(On({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function h(){o=Mr.Pop;let y=u(),g=y==null?null:y-d;d=y,c&&c({action:o,location:b.location,delta:g})}function f(y,g){o=Mr.Push;let v=nd(b.location,y,g);d=u()+1;let w=w0(v,d),j=b.createHref(v);try{l.pushState(w,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;n.location.assign(j)}i&&c&&c({action:o,location:b.location,delta:1})}function p(y,g){o=Mr.Replace;let v=nd(b.location,y,g);d=u();let w=w0(v,d),j=b.createHref(v);l.replaceState(w,"",j),i&&c&&c({action:o,location:b.location,delta:0})}function x(y){let g=n.location.origin!=="null"?n.location.origin:n.location.href,v=typeof y=="string"?y:yl(y);return v=v.replace(/ $/,"%20"),Pe(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let b={get action(){return o},get location(){return e(n,l)},listen(y){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(b0,h),c=y,()=>{n.removeEventListener(b0,h),c=null}},createHref(y){return t(n,y)},createURL:x,encodeLocation(y){let g=x(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(y){return l.go(y)}};return b}var k0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k0||(k0={}));function zw(e,t,r){return r===void 0&&(r="/"),Uw(e,t,r)}function Uw(e,t,r,a){let n=typeof t=="string"?Os(t):t,i=Au(n.pathname||"/",r);if(i==null)return null;let l=ap(e);Fw(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Zw(i);o=Jw(l[c],d)}return o}function ap(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Pe(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=Wr([a,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ap(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Kw(d,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,l);else for(let c of sp(i.path))n(i,l,c)}),t}function sp(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=sp(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Fw(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Yw(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Bw=/^:[\w-]+$/,Ww=3,Hw=2,Vw=1,Gw=10,qw=-2,j0=e=>e==="*";function Kw(e,t){let r=e.split("/"),a=r.length;return r.some(j0)&&(a+=qw),t&&(a+=Hw),r.filter(n=>!j0(n)).reduce((n,i)=>n+(Bw.test(i)?Ww:i===""?Vw:Gw),a)}function Yw(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function Jw(e,t,r){let{routesMeta:a}=e,n={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=Qw({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(n,h.params),l.push({params:n,pathname:Wr([i,h.pathname]),pathnameBase:sk(Wr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Wr([i,h.pathnameBase]))}return l}function Qw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=Xw(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let b=o[h]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[h];return p&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function Xw(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ou(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function Zw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ou(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Au(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const ek=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tk=e=>ek.test(e);function rk(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?Os(e):e,i;if(r)if(tk(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Ou(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?i=N0(r.substring(1),"/"):i=N0(r,t)}else i=t;return{pathname:i,search:nk(a),hash:ik(n)}}function N0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function zo(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ak(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ru(e,t){let r=ak(e);return t?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Mu(e,t,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Os(e):(n=On({},e),Pe(!n.pathname||!n.pathname.includes("?"),zo("?","pathname","search",n)),Pe(!n.pathname||!n.pathname.includes("#"),zo("#","pathname","hash",n)),Pe(!n.search||!n.search.includes("#"),zo("#","search","hash",n)));let i=e===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=r;else{let h=t.length-1;if(!a&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),h-=1;n.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=rk(n,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Wr=e=>e.join("/").replace(/\/\/+/g,"/"),sk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ik=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const np=["post","put","patch","delete"];new Set(np);const ok=["get",...np];new Set(ok);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function An(){return An=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},An.apply(this,arguments)}const Du=m.createContext(null),ck=m.createContext(null),Zr=m.createContext(null),Xl=m.createContext(null),tr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),ip=m.createContext(null);function dk(e,t){let{relative:r}=t===void 0?{}:t;As()||Pe(!1);let{basename:a,navigator:n}=m.useContext(Zr),{hash:i,pathname:l,search:o}=op(e,{relative:r}),c=l;return a!=="/"&&(c=l==="/"?a:Wr([a,l])),n.createHref({pathname:c,search:o,hash:i})}function As(){return m.useContext(Xl)!=null}function ea(){return As()||Pe(!1),m.useContext(Xl).location}function lp(e){m.useContext(Zr).static||m.useLayoutEffect(e)}function xr(){let{isDataRoute:e}=m.useContext(tr);return e?Sk():uk()}function uk(){As()||Pe(!1);let e=m.useContext(Du),{basename:t,future:r,navigator:a}=m.useContext(Zr),{matches:n}=m.useContext(tr),{pathname:i}=ea(),l=JSON.stringify(Ru(n,r.v7_relativeSplatPath)),o=m.useRef(!1);return lp(()=>{o.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let h=Mu(d,JSON.parse(l),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Wr([t,h.pathname])),(u.replace?a.replace:a.push)(h,u.state,u)},[t,a,l,i,e])}const hk=m.createContext(null);function fk(e){let t=m.useContext(tr).outlet;return t&&m.createElement(hk.Provider,{value:e},t)}function mk(){let{matches:e}=m.useContext(tr),t=e[e.length-1];return t?t.params:{}}function op(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=m.useContext(Zr),{matches:n}=m.useContext(tr),{pathname:i}=ea(),l=JSON.stringify(Ru(n,a.v7_relativeSplatPath));return m.useMemo(()=>Mu(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function gk(e,t){return pk(e,t)}function pk(e,t,r,a){As()||Pe(!1);let{navigator:n}=m.useContext(Zr),{matches:i}=m.useContext(tr),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=ea(),u;if(t){var h;let y=typeof t=="string"?Os(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Pe(!1),u=y}else u=d;let f=u.pathname||"/",p=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=zw(e,{pathname:p}),b=wk(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Wr([c,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Wr([c,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,a);return t&&b?m.createElement(Xl.Provider,{value:{location:An({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Mr.Pop}},b):b}function xk(){let e=_k(),t=lk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:n},r):null,null)}const vk=m.createElement(xk,null);class yk extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(tr.Provider,{value:this.props.routeContext},m.createElement(ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bk(e){let{routeContext:t,match:r,children:a}=e,n=m.useContext(Du);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(tr.Provider,{value:t},a)}function wk(e,t,r,a){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let u=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Pe(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let u=0;u<l.length;u++){let h=l[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,h,f)=>{let p,x=!1,b=null,y=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||vk,c&&(d<0&&f===0?(Ek("route-fallback"),x=!0,y=null):d===f&&(x=!0,y=h.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,f+1)),v=()=>{let w;return p?w=b:x?w=y:h.route.Component?w=m.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,m.createElement(bk,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(yk,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var cp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cp||{}),dp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dp||{});function kk(e){let t=m.useContext(Du);return t||Pe(!1),t}function jk(e){let t=m.useContext(ck);return t||Pe(!1),t}function Nk(e){let t=m.useContext(tr);return t||Pe(!1),t}function up(e){let t=Nk(),r=t.matches[t.matches.length-1];return r.route.id||Pe(!1),r.route.id}function _k(){var e;let t=m.useContext(ip),r=jk(),a=up();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function Sk(){let{router:e}=kk(cp.UseNavigateStable),t=up(dp.UseNavigateStable),r=m.useRef(!1);return lp(()=>{r.current=!0}),m.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,An({fromRouteId:t},i)))},[e,t])}const _0={};function Ek(e,t,r){_0[e]||(_0[e]=!0)}function Ck(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tk(e){let{to:t,replace:r,state:a,relative:n}=e;As()||Pe(!1);let{future:i,static:l}=m.useContext(Zr),{matches:o}=m.useContext(tr),{pathname:c}=ea(),d=xr(),u=Mu(t,Ru(o,i.v7_relativeSplatPath),c,n==="path"),h=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(h),{replace:r,state:a,relative:n}),[d,h,n,r,a]),null}function Pk(e){return fk(e.context)}function Ce(e){Pe(!1)}function Ok(e){let{basename:t="/",children:r=null,location:a,navigationType:n=Mr.Pop,navigator:i,static:l=!1,future:o}=e;As()&&Pe(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:l,future:An({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=Os(a));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:x="default"}=a,b=m.useMemo(()=>{let y=Au(u,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:x},navigationType:n}},[c,u,h,f,p,x,n]);return b==null?null:m.createElement(Zr.Provider,{value:d},m.createElement(Xl.Provider,{children:r,value:b}))}function Ak(e){let{children:t,location:r}=e;return gk(id(t),r)}new Promise(()=>{});function id(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(a,n)=>{if(!m.isValidElement(a))return;let i=[...t,n];if(a.type===m.Fragment){r.push.apply(r,id(a.props.children,i));return}a.type!==Ce&&Pe(!1),!a.props.index||!a.props.children||Pe(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=id(a.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ld.apply(this,arguments)}function Rk(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Mk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dk(e,t){return e.button===0&&(!t||t==="_self")&&!Mk(e)}function od(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function Ik(e,t){let r=od(e);return t&&t.forEach((a,n)=>{r.has(n)||t.getAll(n).forEach(i=>{r.append(n,i)})}),r}const $k=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lk="6";try{window.__reactRouterVersion=Lk}catch{}const zk="startTransition",S0=zd[zk];function Uk(e){let{basename:t,children:r,future:a,window:n}=e,i=m.useRef();i.current==null&&(i.current=Iw({window:n,v5Compat:!0}));let l=i.current,[o,c]=m.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},u=m.useCallback(h=>{d&&S0?S0(()=>c(h)):c(h)},[c,d]);return m.useLayoutEffect(()=>l.listen(u),[l,u]),m.useEffect(()=>Ck(a),[a]),m.createElement(Ok,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:a})}const Fk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wk=m.forwardRef(function(t,r){let{onClick:a,relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=Rk(t,$k),{basename:p}=m.useContext(Zr),x,b=!1;if(typeof d=="string"&&Bk.test(d)&&(x=d,Fk))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),k=Au(j.pathname,p);j.origin===w.origin&&k!=null?d=k+j.search+j.hash:b=!0}catch{}let y=dk(d,{relative:n}),g=Hk(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:h});function v(w){a&&a(w),w.defaultPrevented||g(w)}return m.createElement("a",ld({},f,{href:x||y,onClick:b||i?a:v,ref:r,target:c}))});var E0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(E0||(E0={}));var C0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(C0||(C0={}));function Hk(e,t){let{target:r,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=xr(),d=ea(),u=op(e,{relative:l});return m.useCallback(h=>{if(Dk(h,r)){h.preventDefault();let f=a!==void 0?a:yl(d)===yl(u);c(e,{replace:f,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,a,n,r,e,i,l,o])}function Vk(e){let t=m.useRef(od(e)),r=m.useRef(!1),a=ea(),n=m.useMemo(()=>Ik(a.search,r.current?null:t.current),[a.search]),i=xr(),l=m.useCallback((o,c)=>{const d=od(typeof o=="function"?o(n):o);r.current=!0,i("?"+d,c)},[i,n]);return[n,l]}var Iu={},bl={},cd=function(e,t){return cd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},cd(e,t)};function hp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");cd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var _t=function(){return _t=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_t.apply(this,arguments)};function ta(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function fp(e,t,r,a){var n=arguments.length,i=n<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(i=(n<3?l(i):n>3?l(t,r,i):l(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i}function mp(e,t){return function(r,a){t(r,a,e)}}function gp(e,t,r,a,n,i){function l(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var o=a.kind,c=o==="getter"?"get":o==="setter"?"set":"value",d=!t&&e?a.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),h,f=!1,p=r.length-1;p>=0;p--){var x={};for(var b in a)x[b]=b==="access"?{}:a[b];for(var b in a.access)x.access[b]=a.access[b];x.addInitializer=function(g){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(l(g||null))};var y=(0,r[p])(o==="accessor"?{get:u.get,set:u.set}:u[c],x);if(o==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=l(y.get))&&(u.get=h),(h=l(y.set))&&(u.set=h),(h=l(y.init))&&n.unshift(h)}else(h=l(y))&&(o==="field"?n.unshift(h):u[c]=h)}d&&Object.defineProperty(d,a.name,u),f=!0}function pp(e,t,r){for(var a=arguments.length>2,n=0;n<t.length;n++)r=a?t[n].call(e,r):t[n].call(e);return a?r:void 0}function xp(e){return typeof e=="symbol"?e:"".concat(e)}function vp(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function yp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ee(e,t,r,a){function n(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(a.next(u))}catch(h){l(h)}}function c(u){try{d(a.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):n(u.value).then(o,c)}d((a=a.apply(e,t||[])).next())})}function bp(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=o(0),l.throw=o(1),l.return=o(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(d){return function(u){return c([d,u])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(r=0)),r;)try{if(a=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,n=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],n=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Zl=Object.create?function(e,t,r,a){a===void 0&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){a===void 0&&(a=r),e[a]=t[r]};function wp(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Zl(t,e,r)}function wl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $u(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,i=[],l;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(o){l={error:o}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(l)throw l.error}}return i}function kp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($u(arguments[t]));return e}function jp(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),n=0,t=0;t<r;t++)for(var i=arguments[t],l=0,o=i.length;l<o;l++,n++)a[n]=i[l];return a}function Lu(e,t,r){if(r||arguments.length===2)for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function _s(e){return this instanceof _s?(this.v=e,this):new _s(e)}function Np(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",l),n[Symbol.asyncIterator]=function(){return this},n;function l(p){return function(x){return Promise.resolve(x).then(p,h)}}function o(p,x){a[p]&&(n[p]=function(b){return new Promise(function(y,g){i.push([p,b,y,g])>1||c(p,b)})},x&&(n[p]=x(n[p])))}function c(p,x){try{d(a[p](x))}catch(b){f(i[0][3],b)}}function d(p){p.value instanceof _s?Promise.resolve(p.value.v).then(u,h):f(i[0][2],p)}function u(p){c("next",p)}function h(p){c("throw",p)}function f(p,x){p(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function _p(e){var t,r;return t={},a("next"),a("throw",function(n){throw n}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(n,i){t[n]=e[n]?function(l){return(r=!r)?{value:_s(e[n](l)),done:!1}:i?i(l):l}:i}}function Sp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof wl=="function"?wl(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(i){r[i]=e[i]&&function(l){return new Promise(function(o,c){l=e[i](l),n(o,c,l.done,l.value)})}}function n(i,l,o,c){Promise.resolve(c).then(function(d){i({value:d,done:o})},l)}}function Ep(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Gk=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},dd=function(e){return dd=Object.getOwnPropertyNames||function(t){var r=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[r.length]=a);return r},dd(e)};function Cp(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=dd(e),a=0;a<r.length;a++)r[a]!=="default"&&Zl(t,e,r[a]);return Gk(t,e),t}function Tp(e){return e&&e.__esModule?e:{default:e}}function Pp(e,t,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:t.get(e)}function Op(e,t,r,a,n){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r}function Ap(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Rp(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(n=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");n&&(a=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:r})}else r&&e.stack.push({async:!0});return t}var qk=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var a=new Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function Mp(e){function t(i){e.error=e.hasError?new qk(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,a=0;function n(){for(;r=e.stack.pop();)try{if(!r.async&&a===1)return a=0,e.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(i).then(n,function(l){return t(l),n()})}else a|=1}catch(l){t(l)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return n()}function Dp(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,n,i,l){return a?t?".jsx":".js":n&&(!i||!l)?r:n+i+"."+l.toLowerCase()+"js"}):e}const Kk={__extends:hp,__assign:_t,__rest:ta,__decorate:fp,__param:mp,__esDecorate:gp,__runInitializers:pp,__propKey:xp,__setFunctionName:vp,__metadata:yp,__awaiter:ee,__generator:bp,__createBinding:Zl,__exportStar:wp,__values:wl,__read:$u,__spread:kp,__spreadArrays:jp,__spreadArray:Lu,__await:_s,__asyncGenerator:Np,__asyncDelegator:_p,__asyncValues:Sp,__makeTemplateObject:Ep,__importStar:Cp,__importDefault:Tp,__classPrivateFieldGet:Pp,__classPrivateFieldSet:Op,__classPrivateFieldIn:Ap,__addDisposableResource:Rp,__disposeResources:Mp,__rewriteRelativeImportExtension:Dp},Yk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Rp,get __assign(){return _t},__asyncDelegator:_p,__asyncGenerator:Np,__asyncValues:Sp,__await:_s,__awaiter:ee,__classPrivateFieldGet:Pp,__classPrivateFieldIn:Ap,__classPrivateFieldSet:Op,__createBinding:Zl,__decorate:fp,__disposeResources:Mp,__esDecorate:gp,__exportStar:wp,__extends:hp,__generator:bp,__importDefault:Tp,__importStar:Cp,__makeTemplateObject:Ep,__metadata:yp,__param:mp,__propKey:xp,__read:$u,__rest:ta,__rewriteRelativeImportExtension:Dp,__runInitializers:pp,__setFunctionName:vp,__spread:kp,__spreadArray:Lu,__spreadArrays:jp,__values:wl,default:Kk},Symbol.toStringTag,{value:"Module"})),Jk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let eo=class extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}},Ip=class extends eo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},ud=class extends eo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},hd=class extends eo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var kl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kl||(kl={}));class Qk{constructor(t,{headers:r={},customFetch:a,region:n=kl.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=Jk(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ee(this,arguments,void 0,function*(r,a={}){var n;let i,l;try{const{headers:o,method:c,body:d,signal:u,timeout:h}=a;let f={},{region:p}=a;p||(p=this.region);const x=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let b;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",b=d):typeof d=="string"?(f["Content-Type"]="text/plain",b=d):typeof FormData<"u"&&d instanceof FormData?b=d:(f["Content-Type"]="application/json",b=JSON.stringify(d)):b=d;let y=u;h&&(l=new AbortController,i=setTimeout(()=>l.abort(),h),u?(y=l.signal,u.addEventListener("abort",()=>l.abort())):y=l.signal);const g=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:b,signal:y}).catch(k=>{throw new Ip(k)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new ud(g);if(!g.ok)throw new hd(g);let w=((n=g.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield g.json():w==="application/octet-stream"||w==="application/pdf"?j=yield g.blob():w==="text/event-stream"?j=g:w==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof hd||o instanceof ud?o.context:void 0}}finally{i&&clearTimeout(i)}})}}const Xk=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return kl},FunctionsClient:Qk,FunctionsError:eo,FunctionsFetchError:Ip,FunctionsHttpError:hd,FunctionsRelayError:ud},Symbol.toStringTag,{value:"Module"})),$p=Un(Xk);var Xe={};const Rs=Un(Yk);var mi={},gi={},pi={},xi={},vi={},yi={},T0;function Lp(){if(T0)return yi;T0=1,Object.defineProperty(yi,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yi.default=e,yi}var P0;function zp(){if(P0)return vi;P0=1,Object.defineProperty(vi,"__esModule",{value:!0});const t=Rs.__importDefault(Lp());let r=class{constructor(n){var i,l;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(i=n.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=n.signal,this.isMaybeSingle=(l=n.isMaybeSingle)!==null&&l!==void 0?l:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,i){return this.headers=new Headers(this.headers),this.headers.set(n,i),this}then(n,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,u,h,f;let p=null,x=null,b=null,y=c.status,g=c.statusText;if(c.ok){if(this.method!=="HEAD"){const k=await c.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=k:x=JSON.parse(k))}const w=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),j=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&j&&j.length>1&&(b=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,y=406,g="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const w=await c.text();try{p=JSON.parse(w),Array.isArray(p)&&c.status===404&&(x=[],p=null,y=200,g="OK")}catch{c.status===404&&w===""?(y=204,g="No Content"):p={message:w}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,y=200,g="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:x,count:b,status:y,statusText:g}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,u,h,f,p,x;let b="";const y=c==null?void 0:c.cause;if(y){const g=(d=y==null?void 0:y.message)!==null&&d!==void 0?d:"",v=(u=y==null?void 0:y.code)!==null&&u!==void 0?u:"";b=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,b+=`

Caused by: ${(f=y==null?void 0:y.name)!==null&&f!==void 0?f:"Error"}: ${g}`,v&&(b+=` (${v})`),y!=null&&y.stack&&(b+=`
${y.stack}`)}else b=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(n,i)}returns(){return this}overrideTypes(){return this}};return vi.default=r,vi}var O0;function Up(){if(O0)return xi;O0=1,Object.defineProperty(xi,"__esModule",{value:!0});const t=Rs.__importDefault(zp());let r=class extends t.default{select(n){let i=!1;const l=(n??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:l,foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:l=i}={}){const o=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,i,{foreignTable:l,referencedTable:o=l}={}){const c=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(d,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:l=!1,buffers:o=!1,wal:c=!1,format:d="text"}={}){var u;const h=[n?"analyze":null,i?"verbose":null,l?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${f}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};return xi.default=r,xi}var A0;function zu(){if(A0)return pi;A0=1,Object.defineProperty(pi,"__esModule",{value:!0});const t=Rs.__importDefault(Up()),r=new RegExp("[,()]");let a=class extends t.default{eq(i,l){return this.url.searchParams.append(i,`eq.${l}`),this}neq(i,l){return this.url.searchParams.append(i,`neq.${l}`),this}gt(i,l){return this.url.searchParams.append(i,`gt.${l}`),this}gte(i,l){return this.url.searchParams.append(i,`gte.${l}`),this}lt(i,l){return this.url.searchParams.append(i,`lt.${l}`),this}lte(i,l){return this.url.searchParams.append(i,`lte.${l}`),this}like(i,l){return this.url.searchParams.append(i,`like.${l}`),this}likeAllOf(i,l){return this.url.searchParams.append(i,`like(all).{${l.join(",")}}`),this}likeAnyOf(i,l){return this.url.searchParams.append(i,`like(any).{${l.join(",")}}`),this}ilike(i,l){return this.url.searchParams.append(i,`ilike.${l}`),this}ilikeAllOf(i,l){return this.url.searchParams.append(i,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(i,l){return this.url.searchParams.append(i,`ilike(any).{${l.join(",")}}`),this}regexMatch(i,l){return this.url.searchParams.append(i,`match.${l}`),this}regexIMatch(i,l){return this.url.searchParams.append(i,`imatch.${l}`),this}is(i,l){return this.url.searchParams.append(i,`is.${l}`),this}isDistinct(i,l){return this.url.searchParams.append(i,`isdistinct.${l}`),this}in(i,l){const o=Array.from(new Set(l)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cs.{${l.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(l)}`),this}containedBy(i,l){return typeof l=="string"?this.url.searchParams.append(i,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(i,`cd.{${l.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(l)}`),this}rangeGt(i,l){return this.url.searchParams.append(i,`sr.${l}`),this}rangeGte(i,l){return this.url.searchParams.append(i,`nxl.${l}`),this}rangeLt(i,l){return this.url.searchParams.append(i,`sl.${l}`),this}rangeLte(i,l){return this.url.searchParams.append(i,`nxr.${l}`),this}rangeAdjacent(i,l){return this.url.searchParams.append(i,`adj.${l}`),this}overlaps(i,l){return typeof l=="string"?this.url.searchParams.append(i,`ov.${l}`):this.url.searchParams.append(i,`ov.{${l.join(",")}}`),this}textSearch(i,l,{config:o,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${d}fts${u}.${l}`),this}match(i){return Object.entries(i).forEach(([l,o])=>{this.url.searchParams.append(l,`eq.${o}`)}),this}not(i,l,o){return this.url.searchParams.append(i,`not.${l}.${o}`),this}or(i,{foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,l,o){return this.url.searchParams.append(i,`${l}.${o}`),this}};return pi.default=a,pi}var R0;function Fp(){if(R0)return gi;R0=1,Object.defineProperty(gi,"__esModule",{value:!0});const t=Rs.__importDefault(zu());let r=class{constructor(n,{headers:i={},schema:l,fetch:o}){this.url=n,this.headers=new Headers(i),this.schema=l,this.fetch=o}select(n,i){const{head:l=!1,count:o}=i??{},c=l?"HEAD":"GET";let d=!1;const u=(n??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:l=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:l=!1,count:o,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(n,{count:i}={}){var l;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:n}={}){var i;const l="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return gi.default=r,gi}var M0;function Zk(){if(M0)return mi;M0=1,Object.defineProperty(mi,"__esModule",{value:!0});const e=Rs,t=e.__importDefault(Fp()),r=e.__importDefault(zu());let a=class Bp{constructor(i,{headers:l={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(l),this.schemaName=o,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${i}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new Bp(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,l={},{head:o=!1,get:c=!1,count:d}={}){var u;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;o||c?(h=o?"HEAD":"GET",Object.entries(l).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{f.searchParams.append(b,y)})):(h="POST",p=l);const x=new Headers(this.headers);return d&&x.set("Prefer",`count=${d}`),new r.default({method:h,url:f,headers:x,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return mi.default=a,mi}Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const Ms=Rs,Wp=Ms.__importDefault(Zk());Xe.PostgrestClient=Wp.default;const Hp=Ms.__importDefault(Fp());Xe.PostgrestQueryBuilder=Hp.default;const Vp=Ms.__importDefault(zu());Xe.PostgrestFilterBuilder=Vp.default;const Gp=Ms.__importDefault(Up());Xe.PostgrestTransformBuilder=Gp.default;const qp=Ms.__importDefault(zp());Xe.PostgrestBuilder=qp.default;const Kp=Ms.__importDefault(Lp());Xe.PostgrestError=Kp.default;Xe.default={PostgrestClient:Wp.default,PostgrestQueryBuilder:Hp.default,PostgrestFilterBuilder:Vp.default,PostgrestTransformBuilder:Gp.default,PostgrestBuilder:qp.default,PostgrestError:Kp.default};class Yp{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,n=parseInt(a.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ej="2.87.1",tj=`realtime-js/${ej}`,Jp="1.0.0",rj="2.0.0",D0=Jp,fd=1e4,aj=1e3,sj=100;var ha;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ha||(ha={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var Dt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dt||(Dt={}));var md;(function(e){e.websocket="websocket"})(md||(md={}));var fa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fa||(fa={}));class nj{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,a;const n=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(t){var r,a;const n=(a=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},l=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,a){var n,i;const l=t.topic,o=(n=t.ref)!==null&&n!==void 0?n:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+l.length+d.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let x=new DataView(p),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,c.length),x.setUint8(b++,o.length),x.setUint8(b++,l.length),x.setUint8(b++,d.length),x.setUint8(b++,h.length),x.setUint8(b++,r),Array.from(c,g=>x.setUint8(b++,g.charCodeAt(0))),Array.from(o,g=>x.setUint8(b++,g.charCodeAt(0))),Array.from(l,g=>x.setUint8(b++,g.charCodeAt(0))),Array.from(d,g=>x.setUint8(b++,g.charCodeAt(0))),Array.from(h,g=>x.setUint8(b++,g.charCodeAt(0)));var y=new Uint8Array(p.byteLength+a.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(a),p.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return r(a)}if(typeof t=="string"){const a=JSON.parse(t),[n,i,l,o,c]=a;return r({join_ref:n,ref:i,topic:l,event:o,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),a=r.getUint8(0),n=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,n)}}_decodeUserBroadcast(t,r,a){const n=r.getUint8(1),i=r.getUint8(2),l=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=a.decode(t.slice(c,c+n));c=c+n;const u=a.decode(t.slice(c,c+i));c=c+i;const h=a.decode(t.slice(c,c+l));c=c+l;const f=t.slice(c,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(a.decode(f)):f,x={type:this.BROADCAST_EVENT,event:u,payload:p};return l>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>r.includes(a)))}}class Qp{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ge||(ge={}));const I0=(e,t,r={})=>{var a;const n=(a=r.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=ij(l,e,t,n),i),{}):{}},ij=(e,t,r,a)=>{const n=t.find(o=>o.name===e),i=n==null?void 0:n.type,l=r[e];return i&&!a.includes(i)?Xp(i,l):gd(l)},Xp=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dj(t,r)}switch(e){case ge.bool:return lj(t);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return oj(t);case ge.json:case ge.jsonb:return cj(t);case ge.timestamp:return uj(t);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return gd(t);default:return gd(t)}},gd=e=>e,lj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dj=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,a=e[r];if(e[0]==="{"&&a==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>Xp(t,o))}return e},uj=e=>typeof e=="string"?e.replace(" ","T"):e,Zp=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Uo{constructor(t,r,a={},n=fd){this.channel=t,this.event=r,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pd||(pd={}));let ex=class Wi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wi.syncState(this.state,n,i,l),this.pendingDiffs.forEach(c=>{this.state=Wi.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Wi.syncDiff(this.state,n,i,l),o())}),this.onJoin((n,i,l)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:l})}),this.onLeave((n,i,l)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,n){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const h=i[d];if(h){const f=u.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),x=u.filter(y=>p.indexOf(y.presence_ref)<0),b=h.filter(y=>f.indexOf(y.presence_ref)<0);x.length>0&&(o[d]=x),b.length>0&&(c[d]=b)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},a,n)}static syncDiff(t,r,a,n){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),u.length>0){const h=t[o].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);t[o].unshift(...f)}a(o,u,c)}),this.map(l,(o,c)=>{let d=t[o];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[o]=d,n(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const n=t[a];return"metas"in n?r[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[a]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var xd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xd||(xd={}));var fs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fs||(fs={}));var Gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gt||(Gt={}));const hj=Oe;let tx=class tn{constructor(t,r={config:{}},a){var n,i;if(this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Uo(this,Dt.join,this.params,this.timeout),this.rejoinTimer=new Qp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dt.reply,{},(l,o)=>{this._trigger(this._replyEventName(o),l)}),this.presence=new ex(this),this.broadcastEndpointURL=Zp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var a,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,d=(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(p=>p.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[fs.PRESENCE]&&this.bindings[fs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Gt.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Gt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Gt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,g=[];for(let v=0;v<y;v++){const w=b[v],{filter:{event:j,schema:k,table:_,filter:N}}=w,E=p&&p[v];if(E&&E.event===j&&tn.isFilterValueEqual(E.schema,k)&&tn.isFilterValueEqual(E.table,_)&&tn.isFilterValueEqual(E.filter,N))g.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=Oe.errored,t==null||t(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Gt.SUBSCRIBED);return}}).receive("error",p=>{this.state=Oe.errored,t==null||t(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===Oe.joined&&t===fs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,a)}async httpSend(t,r,a={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const d=await o.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var a,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new Uo(this,Dt.leave,{},t),a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),l}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Uo(this,t,r,a);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var n,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Dt;if(a&&[o,c,d,u].indexOf(l)>=0&&a!==this._joinRef())return;let f=this._onMessage(l,r,a);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var x,b,y;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(b=p.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===l}).map(p=>p.callback(f,a)):(i=this.bindings[l])===null||i===void 0||i.filter(p=>{var x,b,y,g,v,w;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in p){const j=p.id,k=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((b=r.ids)===null||b===void 0?void 0:b.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(v=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===l}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:b,table:y,commit_timestamp:g,type:v,errors:w}=x;f=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:g,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(x))}p.callback(f,a)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const n=t.toLocaleLowerCase(),i={type:n,filter:r,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&tn.isEqual(n.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dt.close,{},t)}_onError(t){this._on(Dt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=I0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=I0(t.columns,t.old_record)),r}};const Fo=()=>{},bi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fj=[1e3,2e3,5e3,1e4],mj=1e4,gj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let pj=class{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fd,this.transport=null,this.heartbeatIntervalMs=bi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fo,this.ref=0,this.reconnectTimer=null,this.vsn=D0,this.logger=Fo,this.conn=null,this.sendBuffer=[],this.serializer=new nj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${md.websocket}`,this.httpEndpoint=Zp(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yp.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ha.connecting:return fa.Connecting;case ha.open:return fa.Open;case ha.closing:return fa.Closing;default:return fa.Closed}}isConnected(){return this.connectionState()===fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new tx(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:a,payload:n,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${a} (${i})`,n),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(aj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:n,payload:i,ref:l}=r,o=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${n} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(n,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ha.open||this.conn.readyState===ha.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${a}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([gj],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,a=!1;if(t)r=t,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:tj};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Dt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Qp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,n,i,l,o,c,d,u,h,f,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:fd,this.heartbeatIntervalMs=(n=t==null?void 0:t.heartbeatIntervalMs)!==null&&n!==void 0?n:bi.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Fo,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:D0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:x=>fj[x-1]||mj,this.vsn){case Jp:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(x,b)=>b(JSON.stringify(x)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(x,b)=>b(JSON.parse(x));break;case rj:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const xj=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:hj,get REALTIME_LISTEN_TYPES(){return fs},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return xd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return pd},get REALTIME_SUBSCRIBE_STATES(){return Gt},RealtimeChannel:tx,RealtimeClient:pj,RealtimePresence:ex,WebSocketFactory:Yp},Symbol.toStringTag,{value:"Module"})),rx=Un(xj);class Gn extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ax extends Gn{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jl extends Gn{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Uu=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vj=()=>Response,vd=e=>{if(Array.isArray(e))return e.map(r=>vd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,a])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=vd(a)}),t},yj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bj=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Bo=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},wj=(e,t,r)=>ee(void 0,void 0,void 0,function*(){const a=yield vj();e instanceof a&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,l=(n==null?void 0:n.statusCode)||i+"";t(new ax(Bo(n),i,l))}).catch(n=>{t(new jl(Bo(n),n))}):t(new jl(Bo(e),e))}),kj=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?n:(yj(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,t!=null&&t.duplex&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),r))};function qn(e,t,r,a,n,i){return ee(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,kj(t,a,n,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>wj(c,o,a))})})}function Rn(e,t,r,a){return ee(this,void 0,void 0,function*(){return qn(e,"GET",t,r,a)})}function Rt(e,t,r,a,n){return ee(this,void 0,void 0,function*(){return qn(e,"POST",t,a,n,r)})}function yd(e,t,r,a,n){return ee(this,void 0,void 0,function*(){return qn(e,"PUT",t,a,n,r)})}function jj(e,t,r,a){return ee(this,void 0,void 0,function*(){return qn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Fu(e,t,r,a,n){return ee(this,void 0,void 0,function*(){return qn(e,"DELETE",t,a,n,r)})}class Nj{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ee(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}}var sx;class _j{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[sx]="BlobDownloadBuilder",this.promise=null}asStream(){return new Nj(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ee(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}}sx=Symbol.toStringTag;const Sj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ej{constructor(t,r={},a,n){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=a,this.fetch=Uu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,a,n){return ee(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},$0),n);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=a,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(o=Object.assign(Object.assign({},o),n.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?yd:Rt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}upload(t,r,a){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,n){return ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:$0.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl)):(c=a,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield yd(this.fetch,o.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(we(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ee(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield Rt(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new Gn("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(we(a))return{data:null,error:a};throw a}})}update(t,r,a){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return ee(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}copy(t,r,a){return ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}createSignedUrl(t,r,a){return ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield Rt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const l=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}createSignedUrls(t,r,a){return ee(this,void 0,void 0,function*(){try{const n=yield Rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}download(t,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"",o=this._getFinalPath(t),c=()=>Rn(this.fetch,`${this.url}/${n}/${o}${l}`,{headers:this.headers,noResolveJson:!0});return new _j(c,this.shouldThrowOnError)}info(t){return ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield Rn(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:vd(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(we(a))return{data:null,error:a};throw a}})}exists(t){return ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield jj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(we(a)&&a instanceof jl){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${a}${d}`)}}}remove(t){return ee(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}list(t,r,a){return ee(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Sj),r),{prefix:t||""});return{data:yield Rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}listV2(t,r){return ee(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(we(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const nx="2.87.1",ix={"X-Client-Info":`storage-js/${nx}`};class Cj{constructor(t,r={},a,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ix),r),this.fetch=Uu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ee(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Rn(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}getBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}createBucket(t){return ee(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ee(this,void 0,void 0,function*(){try{return{data:yield yd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(we(a))return{data:null,error:a};throw a}})}emptyBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Mn=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Tj(e,t,r){const a=new URL(t,e);if(r)for(const[n,i]of Object.entries(r))i!==void 0&&a.searchParams.set(n,i);return a.toString()}async function Pj(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Oj(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:n,body:i,headers:l}){const o=Tj(e.baseUrl,a,n),c=await Pj(e.auth),d=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...l},body:i?JSON.stringify(i):void 0}),u=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),f=h&&u?JSON.parse(u):u;if(!d.ok){const p=h?f:void 0,x=p==null?void 0:p.error;throw new Mn((x==null?void 0:x.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:p})}return{status:d.status,headers:d.headers,data:f}}}}function wi(e){return e.join("")}var Aj=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:wi(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wi(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wi(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wi(e.namespace)}`}),!0}catch(t){if(t instanceof Mn&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Mn&&r.status===409)return;throw r}}};function Ma(e){return e.join("")}var Rj=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ma(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Mn&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Mn&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Mj=class{constructor(e){var a;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Oj({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(a=e.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new Aj(this.client,t),this.tableOps=new Rj(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class lx{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ix),r),this.fetch=Uu(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}listBuckets(t){return ee(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const a=r.toString(),n=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Rn(this.fetch,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield Fu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}from(t){if(!bj(t))throw new Gn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Mj({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ee(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(i,l){const o=i[l];return typeof o!="function"?o:(...c)=>ee(this,void 0,void 0,function*(){try{return{data:yield o.apply(i,c),error:null}}catch(d){if(a)throw d;return{data:null,error:d}}})}})}}const Bu={"X-Client-Info":`storage-js/${nx}`,"Content-Type":"application/json"};class Wu extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ct(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Hi extends Wu{constructor(t,r,a){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ox extends Wu{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var bd;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(bd||(bd={}));const to=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Dj=()=>Response,cx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ij=e=>Array.from(new Float32Array(e)),$j=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},L0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lj=(e,t,r)=>ee(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(l=>{const o=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||n+"";t(new Hi(L0(l),n,o))}).catch(()=>{const l=n+"",o=i.statusText||`HTTP ${n} error`;t(new Hi(o,n,l))});else{const l=n+"",o=i.statusText||`HTTP ${n} error`;t(new Hi(o,n,l))}}else t(new ox(L0(e),e))}),zj=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(cx(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,Object.assign(Object.assign({},n),r)):n};function Uj(e,t,r,a,n,i){return ee(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,zj(t,a,n,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>l(c)).catch(c=>Lj(c,o,a))})})}function pt(e,t,r,a,n){return ee(this,void 0,void 0,function*(){return Uj(e,"POST",t,a,n,r)})}class dx{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bu),r),this.fetch=to(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ee(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ee(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}listIndexes(t){return ee(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ee(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ct(a))return{data:null,error:a};throw a}})}}class ux{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bu),r),this.fetch=to(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ee(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}getVectors(t){return ee(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}listVectors(t){return ee(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield pt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}queryVectors(t){return ee(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ee(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}}class hx{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bu),r),this.fetch=to(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}getBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}listBuckets(){return ee(this,arguments,void 0,function*(t={}){try{return{data:yield pt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ee(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}}class fx extends hx{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new mx(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ee(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ee(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ee(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ee(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class mx extends dx{constructor(t,r,a,n){super(t,r,n),this.vectorBucketName=a}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ee(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ee(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ee(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ee(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new gx(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class gx extends ux{constructor(t,r,a,n,i){super(t,r,i),this.vectorBucketName=a,this.indexName=n}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ee(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ee(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ee(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ee(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ee(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Fj extends Cj{constructor(t,r={},a,n){super(t,r,a,n)}from(t){return new Ej(this.url,this.headers,t,this.fetch)}get vectors(){return new fx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lx(this.url+"/iceberg",this.headers,this.fetch)}}const Bj=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:lx,StorageApiError:ax,StorageClient:Fj,StorageError:Gn,StorageUnknownError:jl,StorageVectorsApiError:Hi,StorageVectorsClient:fx,StorageVectorsError:Wu,get StorageVectorsErrorCode(){return bd},StorageVectorsUnknownError:ox,VectorBucketApi:hx,VectorBucketScope:mx,VectorDataApi:ux,VectorIndexApi:dx,VectorIndexScope:gx,isPlainObject:cx,isStorageError:we,isStorageVectorsError:ct,normalizeToFloat32:Ij,resolveFetch:to,resolveResponse:Dj,validateVectorDimension:$j},Symbol.toStringTag,{value:"Module"})),Wj=Un(Bj);var px={},ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.version=void 0;ro.version="2.87.1";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=ro;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(px);var xx={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=n=>n?(...i)=>n(...i):(...i)=>fetch(...i);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const a=(n,i,l)=>{const o=(0,e.resolveFetch)(l),c=(0,e.resolveHeadersConstructor)();return async(d,u)=>{var h;const f=(h=await i())!==null&&h!==void 0?h:n;let p=new c(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),o(d,Object.assign(Object.assign({},u),{headers:p}))}};e.fetchWithAuth=a})(xx);var ra={};Object.defineProperty(ra,"__esModule",{value:!0});ra.isBrowser=void 0;ra.uuid=Hj;ra.ensureTrailingSlash=vx;ra.applySettingDefaults=Gj;ra.validateSupabaseUrl=qj;function Hj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function vx(e){return e.endsWith("/")?e:e+"/"}const Vj=()=>typeof window<"u";ra.isBrowser=Vj;function Gj(e,t){var r,a;const{db:n,auth:i,realtime:l,global:o}=e,{db:c,auth:d,realtime:u,global:h}=t,f={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),l),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(a=o==null?void 0:o.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function qj(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vx(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ao={};const yx="2.87.1",Va=30*1e3,wd=3,Wo=wd*Va,Kj="http://localhost:9999",Yj="supabase.auth.token",Jj={"X-Client-Info":`gotrue-js/${yx}`},kd="X-Supabase-Api-Version",bx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xj=10*60*1e3;let Ss=class extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let wx=class extends Ss{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function kx(e){return te(e)&&e.name==="AuthApiError"}let Pr=class extends Ss{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},vr=class extends Ss{constructor(t,r,a,n){super(t,a,n),this.name=r,this.status=a}},lt=class extends vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function jx(e){return te(e)&&e.name==="AuthSessionMissingError"}let oa=class extends vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},rn=class extends vr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},an=class extends vr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Nx(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}let jd=class extends vr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Nl=class extends vr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Vi(e){return te(e)&&e.name==="AuthRetryableFetchError"}let Nd=class extends vr{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function Zj(e){return te(e)&&e.name==="AuthWeakPasswordError"}let _l=class extends vr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),z0=` 	
\r=`.split(""),e1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<z0.length;t+=1)e[z0[t].charCodeAt(0)]=-2;for(let t=0;t<Sl.length;t+=1)e[Sl[t].charCodeAt(0)]=t;return e})();function U0(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Sl[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Sl[a]),t.queuedBits-=6}}function _x(e,t,r){const a=e1[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function F0(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=l=>{a1(l,a,r)};for(let l=0;l<e.length;l+=1)_x(e.charCodeAt(l),n,i);return t.join("")}function t1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function r1(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}t1(a,t)}}function a1(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ms(e){const t=[],r={queue:0,queuedBits:0},a=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)_x(e.charCodeAt(n),r,a);return new Uint8Array(t)}function s1(e){const t=[];return r1(e,r=>t.push(r)),new Uint8Array(t)}function xa(e){const t=[],r={queue:0,queuedBits:0},a=n=>{t.push(n)};return e.forEach(n=>U0(n,r,a)),U0(null,r,a),t.join("")}function n1(e){return Math.round(Date.now()/1e3)+e}function i1(){return Symbol("auth-callback")}const He=()=>typeof window<"u"&&typeof document<"u",aa={tested:!1,writable:!1},Sx=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(aa.tested)return aa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),aa.tested=!0,aa.writable=!0}catch{aa.tested=!0,aa.writable=!1}return aa.writable};function l1(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return r.searchParams.forEach((a,n)=>{t[n]=a}),t}const Ex=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),o1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ga=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},We=async(e,t)=>{await e.removeItem(t)};class so{constructor(){this.promise=new so.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}so.promiseConstructor=Promise;function Ho(e){const t=e.split(".");if(t.length!==3)throw new _l("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!Qj.test(t[a]))throw new _l("JWT not in base64url format");return{header:JSON.parse(F0(t[0])),payload:JSON.parse(F0(t[1])),signature:ms(t[2]),raw:{header:t[0],payload:t[1]}}}async function c1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function d1(e,t){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){a(l);return}}catch(l){if(!t(i,l)){n(l);return}}})()})}function u1(e){return("0"+e.toString(16)).substr(-2)}function h1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(t),Array.from(t,u1).join("")}async function f1(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function m1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await f1(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Da(e,t,r=!1){const a=h1();let n=a;r&&(n+="/PASSWORD_RECOVERY"),await Ga(e,`${t}-code-verifier`,n);const i=await m1(a);return[i,a===i?"plain":"s256"]}const g1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p1(e){const t=e.headers.get(kd);if(!t||!t.match(g1))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function x1(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function v1(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const y1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ia(e){if(!y1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b1(e,t){return new Proxy(e,{get:(r,a,n)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,n)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,a,n)}})}function B0(e){return JSON.parse(JSON.stringify(e))}const ca=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),w1=[502,503,504];async function W0(e){var t;if(!o1(e))throw new Nl(ca(e),0);if(w1.includes(e.status))throw new Nl(ca(e),e.status);let r;try{r=await e.json()}catch(i){throw new Pr(ca(i),i)}let a;const n=p1(e);if(n&&n.getTime()>=bx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new Nd(ca(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new lt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Nd(ca(r),e.status,r.weak_password.reasons);throw new wx(ca(r),e.status||500,a)}const k1=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),r))};async function re(e,t,r,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[kd]||(i[kd]=bx["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const l=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(l.redirect_to=a.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await j1(e,t,r+o,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function j1(e,t,r,a,n,i){const l=k1(t,a,n,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new Nl(ca(c),0)}if(o.ok||await W0(o),a!=null&&a.noResolveJson)return o;try{return await o.json()}catch(c){await W0(c)}}function Ot(e){var t;let r=null;S1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=n1(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:a},error:null}}function H0(e){const t=Ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Or(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function N1(e){return{data:e,error:null}}function _1(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:i}=e,l=ta(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function V0(e){return e}function S1(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gi=["global","local","others"];let Hu=class{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=Ex(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Gi[0]){if(Gi.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gi.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(te(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Or})}catch(a){if(te(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=ta(t,["options"]),n=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:_1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Or})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,n,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:V0});if(u.error)throw u.error;const h=await u.json(),f=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);d[`${y}Page`]=b}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(te(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ia(t);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Or})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ia(t);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Or})}catch(a){if(te(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){Ia(t);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Or})}catch(a){if(te(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Ia(t.userId);try{const{data:r,error:a}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:a}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ia(t.userId),Ia(t.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,a,n,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:V0});if(u.error)throw u.error;const h=await u.json(),f=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);d[`${y}Page`]=b}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(te(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(te(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}};function G0(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const da={debug:!!(globalThis&&Sx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vu extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let Cx=class extends Vu{};class E1 extends Vu{}async function Tx(e,t,r){da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),da.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{da.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw da.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Cx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(da.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const q0={};async function C1(e,t,r){var a;const n=(a=q0[e])!==null&&a!==void 0?a:Promise.resolve(),i=Promise.race([n.catch(()=>null),t>=0?new Promise((l,o)=>{setTimeout(()=>{o(new E1(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await r());return q0[e]=i.catch(async l=>{if(l&&l.isAcquireTimeout)return await n,null;throw l}),await i}function T1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Px(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function P1(e){return parseInt(e,16)}function O1(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function A1(e){var t;const{chainId:r,domain:a,expirationTime:n,issuedAt:i=new Date,nonce:l,notBefore:o,requestId:c,resources:d,scheme:u,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Px(e.address),x=u?`${u}://${a}`:a,b=e.statement?`${e.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${p}

${b}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(n&&(g+=`
Expiration Time: ${n.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),c&&(g+=`
Request ID: ${c}`),d){let v=`
Resources:`;for(const w of d){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}g+=v}return`${y}
${g}`}class Ae extends Error{constructor({message:t,code:r,cause:a,name:n}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=n??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class El extends Ae{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function R1({error:e,options:t}){var r,a,n;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Ox(l)){if(i.rp.id!==l)return new Ae({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function M1({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Ox(a)){if(r.rpId!==a)return new Ae({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class D1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const I1=new D1;function $1(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,n=ta(e,["challenge","user","excludeCredentials"]),i=ms(t).buffer,l=Object.assign(Object.assign({},r),{id:ms(r.id).buffer}),o=Object.assign(Object.assign({},n),{challenge:i,user:l});if(a&&a.length>0){o.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const d=a[c];o.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:ms(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function L1(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=ta(e,["challenge","allowCredentials"]),n=ms(t).buffer,i=Object.assign(Object.assign({},a),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const o=r[l];i.allowCredentials[l]=Object.assign(Object.assign({},o),{id:ms(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function z1(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:xa(new Uint8Array(e.response.attestationObject)),clientDataJSON:xa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function U1(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,a=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xa(new Uint8Array(n.authenticatorData)),clientDataJSON:xa(new Uint8Array(n.clientDataJSON)),signature:xa(new Uint8Array(n.signature)),userHandle:n.userHandle?xa(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ox(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function K0(){var e,t;return!!(He()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function F1(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new El("Browser returned unexpected credential type",t)}:{data:null,error:new El("Empty credential response",t)}}catch(t){return{data:null,error:R1({error:t,options:e})}}}async function B1(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new El("Browser returned unexpected credential type",t)}:{data:null,error:new El("Empty credential response",t)}}catch(t){return{data:null,error:M1({error:t,options:e})}}}const W1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},H1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cl(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),a={};for(const n of e)if(n)for(const i in n){const l=n[i];if(l!==void 0)if(Array.isArray(l))a[i]=l;else if(r(l))a[i]=l;else if(t(l)){const o=a[i];t(o)?a[i]=Cl(o,l):a[i]=Cl(l)}else a[i]=l}return a}function V1(e,t){return Cl(W1,e,t||{})}function G1(e,t){return Cl(H1,e,t||{})}class q1{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:a,signal:n},i){try{const{data:l,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:o};const c=n??I1.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=V1(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await F1({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=G1(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await B1(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(l){return te(l)?{data:null,error:l}:{data:null,error:new Pr("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Ss("rpId is required for WebAuthn authentication")};try{if(!K0())return{data:null,error:new Pr("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:a},signal:n},{request:i});if(!l)return{data:null,error:o};const{webauthn:c}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:a,credential_response:c.credential_response}})}catch(l){return te(l)?{data:null,error:l}:{data:null,error:new Pr("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Ss("rpId is required for WebAuthn registration")};try{if(!K0())return{data:null,error:new Pr("Browser does not support WebAuthn",null)};const{data:l,error:o}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:c,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:n},{create:i});return c?this._verify({factorId:l.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(l){return te(l)?{data:null,error:l}:{data:null,error:new Pr("Unexpected error in register",l)}}}}T1();const K1={url:Kj,storageKey:Yj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Y0(e,t,r){return await r()}const $a={};let Gu=class _d{get jwks(){var t,r;return(r=(t=$a[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){$a[this.storageKey]=Object.assign(Object.assign({},$a[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=$a[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$a[this.storageKey]=Object.assign(Object.assign({},$a[this.storageKey]),{cachedAt:t})}constructor(t){var r,a,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},K1),t);if(this.storageKey=i.storageKey,this.instanceID=(r=_d.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,_d.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&He()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Hu({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ex(i.fetch),this.lock=i.lock||Y0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&He()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=Tx:this.lock=Y0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Sx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=G0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=G0(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yx}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},a="none";if(He()&&(r=l1(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),He()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Nx(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?this._returnResult({error:r}):this._returnResult({error:new Pr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,n;try{const i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ot}),{data:l,error:o}=i;if(o||!l)return this._returnResult({data:{user:null,session:null},error:o});const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,a,n;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Da(this.storage,this.storageKey)),i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:Ot})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ot})}else throw new rn("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return await We(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(await We(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:H0})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:H0})}else throw new rn("You must provide either an email or phone number and a password");const{data:a,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!a||!a.session||!a.user){const i=new oa;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,a,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,n,i,l,o,c,d,u,h,f;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:b,wallet:y,statement:g,options:v}=t;let w;if(He())if(typeof y=="object")w=y;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")w=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),k=await w.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=Px(k[0]);let N=(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!N){const T=await w.request({method:"eth_chainId"});N=P1(T)}const E={domain:j.host,address:_,statement:g,uri:j.href,version:"1",chainId:N,nonce:(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(l=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=A1(E),x=await w.request({method:"personal_sign",params:[O1(p),_]})}try{const{data:b,error:y}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ot});if(y)throw y;if(!b||!b.session||!b.user){const g=new oa;return this._returnResult({data:{user:null,session:null},error:g})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(te(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var r,a,n,i,l,o,c,d,u,h,f,p;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:y,wallet:g,statement:v,options:w}=t;let j;if(He())if(typeof g=="object")j=g;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const k=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),v?{statement:v}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),b=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${k.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(n=(a=w==null?void 0:w.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=_}}try{const{data:y,error:g}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:xa(b)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ot});if(g)throw g;if(!y||!y.session||!y.user){const v=new oa;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:g})}catch(y){if(te(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await sa(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(r??"").split("/");try{const{data:i,error:l}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Ot});if(await We(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const o=new oa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:l})}catch(i){if(await We(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:a,token:n,access_token:i,nonce:l}=t,o=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ot}),{data:c,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new oa;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,a,n,i,l;try{if("email"in t){const{email:o,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Da(this.storage,this.storageKey));const{error:h}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:u}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new rn("You must provide either an email or phone number.")}catch(o){if(await We(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,a;try{let n,i;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:l,error:o}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ot});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(t){var r,a,n,i,l;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Da(this.storage,this.storageKey));const d=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:N1});return!((i=d.data)===null||i===void 0)&&i.url&&He()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(o){if(await We(this.storage,`${this.storageKey}-code-verifier`),te(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new lt;const{error:n}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(t){if(te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:n,options:i}=t,{error:l}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:a,type:n,options:i}=t,{data:l,error:o}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o})}throw new rn("You must provide either an email or phone number and a type")}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Wo:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const l=await sa(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Vo()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=b1(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Or}):await this._useSession(async r=>{var a,n,i;const{data:l,error:o}=r;if(o)throw o;return!(!((a=l.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Or})})}catch(r){if(te(r))return jx(r)&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new lt;const l=n.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Da(this.storage,this.storageKey));const{data:d,error:u}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Or});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(a){if(await We(this.storage,`${this.storageKey}-code-verifier`),te(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new lt;const r=Date.now()/1e3;let a=r,n=!0,i=null;const{payload:l}=Ho(t.access_token);if(l.exp&&(a=l.exp,n=a<=r),n){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(a=l.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new lt;const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!He())throw new an("No browser detected.");if(t.error||t.error_description||t.error_code)throw new an(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new an("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jd("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=t;if(!i||!o||!l||!d)throw new an("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let f=u+h;c&&(f=parseInt(c));const p=f-u;p*1e3<=Va&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,u);const{data:b,error:y}=await this._getUser(i);if(y)throw y;const g={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:l,token_type:d,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(a){if(te(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({error:i});const l=(a=n.session)===null||a===void 0?void 0:a.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(kx(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=i1(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,n;try{const{data:{session:i},error:l}=r;if(l)throw l;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await Da(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await We(this.storage,`${this.storageKey}-code-verifier`),te(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:a,error:n}=await this._useSession(async i=>{var l,o,c,d,u;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return He()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(te(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var a;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:l,provider:o,token:c,access_token:d,nonce:u}=t,h=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:o,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ot}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new oa}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(n){if(await We(this.storage,`${this.storageKey}-code-verifier`),te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,n;const{data:i,error:l}=r;if(l)throw l;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await d1(async n=>(n>0&&await c1(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ot})),(n,i)=>{const l=200*Math.pow(2,n);return i&&Vi(i)&&Date.now()+l-a<Va})}catch(a){if(this._debug(r,"error",a),te(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),He()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await sa(this.storage,this.storageKey);if(n&&this.userStorage){let l=await sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:n.user},await Ga(this.userStorage,this.storageKey+"-user",l)),n.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Vo()}else if(n&&!n.user&&!n.user){const l=await sa(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(n.user=l.user,await We(this.storage,this.storageKey+"-user"),await Ga(this.storage,this.storageKey,n)):n.user=Vo()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wo;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Wo}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:l}=await this._callRefreshToken(n.refresh_token);l&&(console.error(l),Vi(l)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(n.access_token);!o&&(l!=null&&l.user)?(n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(a,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new so;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new lt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(n,"error",i),te(i)){const l={data:null,error:i};return Vi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,a=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await We(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Ga(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=B0(n);await Ga(this.storage,this.storageKey,i)}else{const n=B0(r);await Ga(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await We(this.storage,this.storageKey),await We(this.storage,this.storageKey+"-code-verifier"),await We(this.storage,this.storageKey+"-user"),this.userStorage&&await We(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Va);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-t)/Va);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Va}ms, refresh threshold is ${wd} ticks`),n<=wd&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vu)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const n=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,l]=await Da(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});n.push(o.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,n;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await re(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?z1(t.webauthn.credential_response):U1(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});if(l.error)return l;const{data:o}=l;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:$1(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:L1(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:a},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ho(a.access_token);let l=null;i.aal&&(l=i.aal);let o=l;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:a},error:n}=r;return n?this._returnResult({data:null,error:n}):a?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new lt})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new lt});const l=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return l.data&&l.data.redirect_url&&He()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new lt});const l=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return l.data&&l.data.redirect_url&&He()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;return a?this._returnResult({data:null,error:a}):r?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new lt})})}catch(t){if(te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:a},error:n}=r;return n?this._returnResult({data:null,error:n}):a?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new lt})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(o=>o.kid===t);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(o=>o.kid===t),a&&this.jwks_cached_at+Xj>n)return a;const{data:i,error:l}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(o=>o.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:p,error:x}=await this.getSession();if(x||!p.session)return this._returnResult({data:null,error:x});a=p.session.access_token}const{header:n,payload:i,signature:l,raw:{header:o,payload:c}}=Ho(a);r!=null&&r.allowExpired||x1(i.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(a);if(p)throw p;return{data:{claims:i,header:n,signature:l},error:null}}const u=v1(n.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,s1(`${o}.${c}`)))throw new _l("Invalid JWT signature");return{data:{claims:i,header:n,signature:l},error:null}}catch(a){if(te(a))return this._returnResult({data:null,error:a});throw a}}};Gu.nextInstanceID={};const Y1=Hu,J1=Gu,Q1=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Y1,AuthApiError:wx,AuthClient:J1,AuthError:Ss,AuthImplicitGrantRedirectError:an,AuthInvalidCredentialsError:rn,AuthInvalidJwtError:_l,AuthInvalidTokenResponseError:oa,AuthPKCEGrantCodeExchangeError:jd,AuthRetryableFetchError:Nl,AuthSessionMissingError:lt,AuthUnknownError:Pr,AuthWeakPasswordError:Nd,CustomAuthError:vr,GoTrueAdminApi:Hu,GoTrueClient:Gu,NavigatorLockAcquireTimeoutError:Cx,SIGN_OUT_SCOPES:Gi,isAuthApiError:kx,isAuthError:te,isAuthImplicitGrantRedirectError:Nx,isAuthRetryableFetchError:Vi,isAuthSessionMissingError:jx,isAuthWeakPasswordError:Zj,lockInternals:da,navigatorLock:Tx,processLock:C1},Symbol.toStringTag,{value:"Module"})),Ax=Un(Q1);Object.defineProperty(ao,"__esModule",{value:!0});ao.SupabaseAuthClient=void 0;const X1=Ax;class Z1 extends X1.AuthClient{constructor(t){super(t)}}ao.SupabaseAuthClient=Z1;Object.defineProperty(bl,"__esModule",{value:!0});const eN=$p,tN=Xe,rN=rx,aN=Wj,ki=px,sN=xx,J0=ra,nN=ao;let iN=class{constructor(t,r,a){var n,i,l;this.supabaseUrl=t,this.supabaseKey=r;const o=(0,J0.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:ki.DEFAULT_DB_OPTIONS,realtime:ki.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},ki.DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:ki.DEFAULT_GLOBAL_OPTIONS},u=(0,J0.applySettingDefaults)(a??{},d);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch),this.fetch=(0,sN.fetchWithAuth)(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new tN.PostgrestClient(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new aN.StorageClient(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new eN.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,a)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(r=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:l,flowType:o,lock:c,debug:d,throwOnError:u},h,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nN.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:n,userStorage:i,flowType:o,lock:c,debug:d,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new rN.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,r,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};bl.default=iN;(function(e){var t=Aa&&Aa.__createBinding||(Object.create?function(u,h,f,p){p===void 0&&(p=f);var x=Object.getOwnPropertyDescriptor(h,f);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(u,p,x)}:function(u,h,f,p){p===void 0&&(p=f),u[p]=h[f]}),r=Aa&&Aa.__exportStar||function(u,h){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(h,f)&&t(h,u,f)},a=Aa&&Aa.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const n=a(bl);r(Ax,e);var i=Xe;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var l=$p;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),r(rx,e);var o=bl;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return a(o).default}});const c=(u,h,f)=>new n.default(u,h,f);e.createClient=c;function d(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const h=u.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}d()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Iu);const Rx=Md(Iu),lN=Hf({__proto__:null,default:Rx},[Iu]),{PostgrestError:U4,FunctionsHttpError:F4,FunctionsFetchError:B4,FunctionsRelayError:W4,FunctionsError:H4,FunctionRegion:V4,SupabaseClient:G4,createClient:Mx,GoTrueAdminApi:q4,GoTrueClient:K4,AuthAdminApi:Y4,AuthClient:J4,navigatorLock:Q4,NavigatorLockAcquireTimeoutError:X4,lockInternals:Z4,processLock:eT,SIGN_OUT_SCOPES:tT,AuthError:rT,AuthApiError:aT,AuthUnknownError:sT,CustomAuthError:nT,AuthSessionMissingError:iT,AuthInvalidTokenResponseError:lT,AuthInvalidCredentialsError:oT,AuthImplicitGrantRedirectError:cT,AuthPKCEGrantCodeExchangeError:dT,AuthRetryableFetchError:uT,AuthWeakPasswordError:hT,AuthInvalidJwtError:fT,isAuthError:mT,isAuthApiError:gT,isAuthSessionMissingError:pT,isAuthImplicitGrantRedirectError:xT,isAuthRetryableFetchError:vT,isAuthWeakPasswordError:yT,RealtimePresence:bT,RealtimeChannel:wT,RealtimeClient:kT,REALTIME_LISTEN_TYPES:jT,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:NT,REALTIME_PRESENCE_LISTEN_EVENTS:_T,REALTIME_SUBSCRIBE_STATES:ST,REALTIME_CHANNEL_STATES:ET}=Rx||lN,oN="https://qulzeoytobflgktbtogg.supabase.co",cN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1bHplb3l0b2JmbGdrdGJ0b2dnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMDMyMTEsImV4cCI6MjA4MDc3OTIxMX0.vn0s8NzjDSDHsy7ufOenkHluWw5Vlbn9gxzliJzCOrM",z=Mx(oN,cN),Dx=m.createContext(),Le=()=>m.useContext(Dx),dN=({children:e})=>{const[t,r]=m.useState(null),[a,n]=m.useState(null),[i,l]=m.useState(null),[o,c]=m.useState(!0);m.useEffect(()=>{z.auth.getSession().then(({data:{session:p}})=>{n(p),r((p==null?void 0:p.user)??null),p!=null&&p.user?d(p.user.id,p.user.email):c(!1)});const{data:{subscription:f}}=z.auth.onAuthStateChange((p,x)=>{n(x),r((x==null?void 0:x.user)??null),x!=null&&x.user?d(x.user.id,x.user.email):(l(null),c(!1))});return()=>f.unsubscribe()},[]);const d=async(f,p)=>{var x;try{const b=p==="sumeyye@bugless.com",{data:y,error:g}=await z.from("profiles").select("role").eq("id",f).single();if(g){console.error("Error fetching profile:",g);try{console.log("Creating missing profile for user...");const{user:v}=await z.auth.getUser(),w=((x=v==null?void 0:v.user_metadata)==null?void 0:x.full_name)||(p==null?void 0:p.split("@")[0])||"Kullanc";await z.from("profiles").upsert({id:f,full_name:w,email:p,role:b?"Ynetici":"Mhendis"}),l(b?"Ynetici":"Mhendis")}catch(v){console.error("Upsert failed",v),l("Mhendis")}}else l(b?"Ynetici":(y==null?void 0:y.role)||"Mhendis")}catch(b){console.error("Profile fetch exception:",b),l(p==="sumeyye@bugless.com"?"Ynetici":"Mhendis")}finally{c(!1)}},h={session:a,user:t,role:i,loading:o,signOut:async()=>{await z.auth.signOut(),l(null),r(null),n(null)},isAdmin:i==="Ynetici"||t&&t.email==="sumeyye@bugless.com",isEngineer:i==="Mhendis"&&(!t||t.email!=="sumeyye@bugless.com")};return s.jsx(Dx.Provider,{value:h,children:!o&&e})};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(e,t)=>{const r=m.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>m.createElement("svg",{ref:u,...uN,width:n,height:n,stroke:a,strokeWidth:l?Number(i)*24/Number(n):i,className:["lucide",`lucide-${hN(e)}`,o].join(" "),...d},[...t.map(([h,f])=>m.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=q("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=q("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=q("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=q("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=q("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=q("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=q("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=q("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=q("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=q("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=q("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=q("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=q("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=q("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=q("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=q("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=q("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=q("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=q("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=q("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=q("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=q("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=q("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=q("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=q("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=q("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=q("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=q("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=q("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=q("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function rv(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=rv(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function HN(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=rv(e))&&(a&&(a+=" "),a+=t);return a}const Xu="-",VN=e=>{const t=qN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:l=>{const o=l.split(Xu);return o[0]===""&&o.length!==1&&o.shift(),av(o,t)||GN(l)},getConflictingClassGroupIds:(l,o)=>{const c=r[l]||[];return o&&a[l]?[...c,...a[l]]:c}}},av=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),n=a?av(e.slice(1),a):void 0;if(n)return n;if(t.validators.length===0)return;const i=e.join(Xu);return(l=t.validators.find(({validator:o})=>o(i)))==null?void 0:l.classGroupId},sf=/^\[(.+)\]$/,GN=e=>{if(sf.test(e)){const t=sf.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},qN=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return YN(Object.entries(e.classGroups),r).forEach(([i,l])=>{Ed(l,a,i,t)}),a},Ed=(e,t,r,a)=>{e.forEach(n=>{if(typeof n=="string"){const i=n===""?t:nf(t,n);i.classGroupId=r;return}if(typeof n=="function"){if(KN(n)){Ed(n(a),t,r,a);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([i,l])=>{Ed(l,nf(t,i),r,a)})})},nf=(e,t)=>{let r=e;return t.split(Xu).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},KN=e=>e.isThemeGetter,YN=(e,t)=>t?e.map(([r,a])=>{const n=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,o])=>[t+l,o])):i);return[r,n]}):e,JN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const n=(i,l)=>{r.set(i,l),t++,t>e&&(t=0,a=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=a.get(i))!==void 0)return n(i,l),l},set(i,l){r.has(i)?r.set(i,l):n(i,l)}}},sv="!",QN=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,n=t[0],i=t.length,l=o=>{const c=[];let d=0,u=0,h;for(let y=0;y<o.length;y++){let g=o[y];if(d===0){if(g===n&&(a||o.slice(y,y+i)===t)){c.push(o.slice(u,y)),u=y+i;continue}if(g==="/"){h=y;continue}}g==="["?d++:g==="]"&&d--}const f=c.length===0?o:o.substring(u),p=f.startsWith(sv),x=p?f.substring(1):f,b=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:b}};return r?o=>r({className:o,parseClassName:l}):l},XN=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},ZN=e=>({cache:JN(e.cacheSize),parseClassName:QN(e),...VN(e)}),e2=/\s+/,t2=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n}=t,i=[],l=e.trim().split(e2);let o="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(d);let x=!!p,b=a(x?f.substring(0,p):f);if(!b){if(!x){o=d+(o.length>0?" "+o:o);continue}if(b=a(f),!b){o=d+(o.length>0?" "+o:o);continue}x=!1}const y=XN(u).join(":"),g=h?y+sv:y,v=g+b;if(i.includes(v))continue;i.push(v);const w=n(b,x);for(let j=0;j<w.length;++j){const k=w[j];i.push(g+k)}o=d+(o.length>0?" "+o:o)}return o};function r2(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=nv(t))&&(a&&(a+=" "),a+=r);return a}const nv=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=nv(e[a]))&&(r&&(r+=" "),r+=t);return r};function a2(e,...t){let r,a,n,i=l;function l(c){const d=t.reduce((u,h)=>h(u),e());return r=ZN(d),a=r.cache.get,n=r.cache.set,i=o,o(c)}function o(c){const d=a(c);if(d)return d;const u=t2(c,r);return n(c,u),u}return function(){return i(r2.apply(null,arguments))}}const ve=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},iv=/^\[(?:([a-z-]+):)?(.+)\]$/i,s2=/^\d+\/\d+$/,n2=new Set(["px","full","screen"]),i2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,c2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,d2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rr=e=>gs(e)||n2.has(e)||s2.test(e),wr=e=>Ds(e,"length",v2),gs=e=>!!e&&!Number.isNaN(Number(e)),Go=e=>Ds(e,"number",gs),Vs=e=>!!e&&Number.isInteger(Number(e)),u2=e=>e.endsWith("%")&&gs(e.slice(0,-1)),ie=e=>iv.test(e),kr=e=>i2.test(e),h2=new Set(["length","size","percentage"]),f2=e=>Ds(e,h2,lv),m2=e=>Ds(e,"position",lv),g2=new Set(["image","url"]),p2=e=>Ds(e,g2,b2),x2=e=>Ds(e,"",y2),Gs=()=>!0,Ds=(e,t,r)=>{const a=iv.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},v2=e=>l2.test(e)&&!o2.test(e),lv=()=>!1,y2=e=>c2.test(e),b2=e=>d2.test(e),w2=()=>{const e=ve("colors"),t=ve("spacing"),r=ve("blur"),a=ve("brightness"),n=ve("borderColor"),i=ve("borderRadius"),l=ve("borderSpacing"),o=ve("borderWidth"),c=ve("contrast"),d=ve("grayscale"),u=ve("hueRotate"),h=ve("invert"),f=ve("gap"),p=ve("gradientColorStops"),x=ve("gradientColorStopPositions"),b=ve("inset"),y=ve("margin"),g=ve("opacity"),v=ve("padding"),w=ve("saturate"),j=ve("scale"),k=ve("sepia"),_=ve("skew"),N=ve("space"),E=ve("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",ie,t],C=()=>[ie,t],G=()=>["",rr,wr],X=()=>["auto",gs,ie],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],S=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ie],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[gs,ie];return{cacheSize:500,separator:":",theme:{colors:[Gs],spacing:[rr,wr],blur:["none","",kr,ie],brightness:P(),borderColor:[e],borderRadius:["none","","full",kr,ie],borderSpacing:C(),borderWidth:G(),contrast:P(),grayscale:L(),hueRotate:P(),invert:L(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[u2,wr],inset:R(),margin:R(),opacity:P(),padding:C(),saturate:P(),scale:P(),sepia:L(),skew:P(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",ie]}],container:["container"],columns:[{columns:[kr]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),ie]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vs,ie]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ie]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Vs,ie]}],"grid-cols":[{"grid-cols":[Gs]}],"col-start-end":[{col:["auto",{span:["full",Vs,ie]},ie]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Gs]}],"row-start-end":[{row:["auto",{span:[Vs,ie]},ie]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ie]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...S()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...S(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...S(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ie,t]}],"min-w":[{"min-w":[ie,t,"min","max","fit"]}],"max-w":[{"max-w":[ie,t,"none","full","min","max","fit","prose",{screen:[kr]},kr]}],h:[{h:[ie,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ie,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ie,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ie,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kr,wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Go]}],"font-family":[{font:[Gs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ie]}],"line-clamp":[{"line-clamp":["none",gs,Go]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rr,ie]}],"list-image":[{"list-image":["none",ie]}],"list-style-type":[{list:["none","disc","decimal",ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rr,wr]}],"underline-offset":[{"underline-offset":["auto",rr,ie]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),m2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},p2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:M()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[rr,ie]}],"outline-w":[{outline:[rr,wr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[rr,wr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kr,x2]}],"shadow-color":[{shadow:[Gs]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kr,ie]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ie]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",ie]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Vs,ie]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ie]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[rr,wr,Go]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},k2=a2(w2);function B(...e){return k2(HN(e))}const U=dr.forwardRef(({className:e,variant:t="primary",size:r="default",isLoading:a=!1,disabled:n,children:i,...l},o)=>{const c="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-white dark:ring-offset-slate-950",d={primary:"bg-primary text-primary-foreground hover:bg-primary-hover shadow-sm",secondary:"bg-white dark:bg-slate-900 text-gray-700 dark:text-slate-200 border border-gray-300 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-800 shadow-sm",outline:"border border-primary text-primary hover:bg-blue-50 dark:hover:bg-slate-800",ghost:"hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-700 dark:text-slate-300",danger:"bg-red-600 text-white hover:bg-red-700 shadow-sm",link:"text-primary underline-offset-4 hover:underline"},u={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md text-sm",lg:"h-11 px-8 rounded-md text-lg",icon:"h-10 w-10"},h=d[t]||d.primary,f=u[r]||u.default;return s.jsxs("button",{ref:o,className:`${c} ${h} ${f} ${e||""}`,disabled:n||a,...l,children:[a&&s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})});U.displayName="Button";const j2=[{icon:EN,label:"Ana Sayfa",path:"/"},{icon:gr,label:"Mteriler",path:"/clients"},{icon:Ju,label:"Projeler",path:"/projects"},{icon:qr,label:"Teklifler",path:"/proposals"},{icon:bN,label:"Personel",path:"/staff"},{icon:Tl,label:" Emirleri",path:"/work-orders"},{icon:er,label:"Beklenen Tahsilat",path:"/collections"},{icon:at,label:"Harici Grevler",path:"/external-tasks"},{icon:Yx,label:"Sosyal Medya",path:"/social"},{icon:Fx,label:"Gelir & Gider",path:"/income-expense"},{icon:er,label:"Aylk Kasa",path:"/finance"},{icon:pN,label:"Raporlama",path:"/reports"},{icon:Xt,label:"Kiisel Takvim",path:"/calendar"},{icon:Jx,label:"Kullanc Ynetimi",path:"/users"},{icon:Qx,label:"Toplant Notlar",path:"/meeting-notes"},{icon:Be,label:"Gemi Arama",path:"/search"},{icon:Kx,label:"Ayarlar",path:"/settings"}];function N2(){var o,c;const e=ea(),{user:t,role:r,isAdmin:a,signOut:n}=Le(),i=((o=t==null?void 0:t.user_metadata)==null?void 0:o.full_name)||((c=t==null?void 0:t.email)==null?void 0:c.split("@")[0])||"Kullanc",l=r||(a?"Ynetici":"Mhendis");return s.jsxs("div",{className:"flex flex-col h-screen w-64 bg-white dark:bg-[#0F172A] border-r border-gray-200 dark:border-[#1E293B] sticky top-0 left-0 overflow-y-auto shadow-2xl transition-colors duration-300",children:[s.jsx("div",{className:"p-6",children:s.jsxs("h1",{className:"text-2xl font-black bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-400 bg-clip-text text-transparent tracking-tight",children:["Bugless",s.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"."})]})}),s.jsxs("div",{className:"flex-1 px-4 space-y-2",children:[s.jsxs("div",{className:"mb-8 bg-gray-50 dark:bg-white/5 backdrop-blur-sm border border-gray-200 dark:border-white/10 p-3 rounded-2xl flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors cursor-pointer group",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center text-white font-bold text-sm shadow-lg shadow-indigo-500/30 group-hover:scale-105 transition-transform",children:i.substring(0,2).toUpperCase()}),s.jsxs("div",{className:"overflow-hidden",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate max-w-[120px]",title:i,children:i}),s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-indigo-600 dark:text-indigo-300 font-medium",children:l})]})]}),j2.map(d=>{const u=d.icon,h=e.pathname===d.path||d.path!=="/"&&e.pathname.startsWith(d.path);return s.jsxs(Wk,{to:d.path,className:B("flex items-center gap-3 px-3 py-3 rounded-xl text-sm font-medium transition-all duration-200 group relative overflow-hidden",h?"text-white shadow-lg shadow-indigo-500/25":"text-gray-500 dark:text-slate-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-white/5"),children:[h&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-violet-600 opacity-100"}),s.jsx(u,{className:B("w-5 h-5 relative z-10",h?"text-white":"text-gray-400 dark:text-slate-500 group-hover:text-indigo-600 dark:group-hover:text-indigo-300 transition-colors")}),s.jsx("span",{className:"relative z-10",children:d.label})]},d.path)})]}),s.jsx("div",{className:"p-4 mt-auto border-t border-gray-100 dark:border-white/5",children:s.jsxs(U,{variant:"ghost",onClick:n,className:"w-full justify-start gap-3 text-gray-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors",children:[s.jsx(ON,{className:"w-5 h-5"}),"k Yap"]})})]})}const ov=m.createContext();function _2(){return m.useContext(ov)}function S2({children:e}){const{user:t}=Le(),[r,a]=m.useState([]),[n,i]=m.useState(0),[l,o]=m.useState(!0),c=async()=>{if(t)try{const{data:f,error:p}=await z.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(20);if(p)throw p;a(f||[]),i(f?f.filter(x=>!x.is_read).length:0)}catch(f){console.error("Error fetching notifications:",f)}finally{o(!1)}},d=async f=>{try{a(x=>x.map(b=>b.id===f?{...b,is_read:!0}:b)),i(x=>Math.max(0,x-1));const{error:p}=await z.from("notifications").update({is_read:!0}).eq("id",f);if(p)throw p}catch(p){console.error("Error marking notification as read:",p),c()}},u=async()=>{try{a(p=>p.map(x=>({...x,is_read:!0}))),i(0);const{error:f}=await z.from("notifications").update({is_read:!0}).eq("user_id",t.id).eq("is_read",!1);if(f)throw f}catch(f){console.error("Error marking all as read:",f),c()}};m.useEffect(()=>{let f;return t&&(c(),f=z.channel("public:notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},p=>{c()}).subscribe()),()=>{f&&z.removeChannel(f)}},[t]);const h={notifications:r,unreadCount:n,loading:l,markAsRead:d,markAllAsRead:u,refresh:c};return s.jsx(ov.Provider,{value:h,children:e})}var lf=1,E2=.9,C2=.8,T2=.17,qo=.1,Ko=.999,P2=.9999,O2=.99,A2=/[\\\/_+.#"@\[\(\{&]/,R2=/[\\\/_+.#"@\[\(\{&]/g,M2=/[\s-]/,cv=/[\s-]/g;function Cd(e,t,r,a,n,i,l){if(i===t.length)return n===e.length?lf:O2;var o=`${n},${i}`;if(l[o]!==void 0)return l[o];for(var c=a.charAt(i),d=r.indexOf(c,n),u=0,h,f,p,x;d>=0;)h=Cd(e,t,r,a,d+1,i+1,l),h>u&&(d===n?h*=lf:A2.test(e.charAt(d-1))?(h*=C2,p=e.slice(n,d-1).match(R2),p&&n>0&&(h*=Math.pow(Ko,p.length))):M2.test(e.charAt(d-1))?(h*=E2,x=e.slice(n,d-1).match(cv),x&&n>0&&(h*=Math.pow(Ko,x.length))):(h*=T2,n>0&&(h*=Math.pow(Ko,d-n))),e.charAt(d)!==t.charAt(i)&&(h*=P2)),(h<qo&&r.charAt(d-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&r.charAt(d-1)!==a.charAt(i))&&(f=Cd(e,t,r,a,d+1,i+2,l),f*qo>h&&(h=f*qo)),h>u&&(u=h),d=r.indexOf(c,d+1);return l[o]=u,u}function of(e){return e.toLowerCase().replace(cv," ")}function D2(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Cd(e,t,of(e),of(t),0,0,{})}function Hr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function cf(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Kr(...e){return t=>{let r=!1;const a=e.map(n=>{const i=cf(n,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():cf(e[n],null)}}}}function Oa(...e){return m.useCallback(Kr(...e),e)}function I2(e,t){const r=m.createContext(t),a=i=>{const{children:l,...o}=i,c=m.useMemo(()=>o,Object.values(o));return s.jsx(r.Provider,{value:c,children:l})};a.displayName=e+"Provider";function n(i){const l=m.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,n]}function $2(e,t=[]){let r=[];function a(i,l){const o=m.createContext(l),c=r.length;r=[...r,l];const d=h=>{var g;const{scope:f,children:p,...x}=h,b=((g=f==null?void 0:f[e])==null?void 0:g[c])||o,y=m.useMemo(()=>x,Object.values(x));return s.jsx(b.Provider,{value:y,children:p})};d.displayName=i+"Provider";function u(h,f){var b;const p=((b=f==null?void 0:f[e])==null?void 0:b[c])||o,x=m.useContext(p);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const n=()=>{const i=r.map(l=>m.createContext(l));return function(o){const c=(o==null?void 0:o[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return n.scopeName=e,[a,L2(n,...t)]}function L2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const l=a.reduce((o,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...o,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var In=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},z2=zd[" useId ".trim().toString()]||(()=>{}),U2=0;function cr(e){const[t,r]=m.useState(z2());return In(()=>{r(a=>a??String(U2++))},[e]),t?`radix-${t}`:""}var F2=zd[" useInsertionEffect ".trim().toString()]||In;function B2({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){const[n,i,l]=W2({defaultProp:t,onChange:r}),o=e!==void 0,c=o?e:n;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const h=u.current;h!==o&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,a])}const d=m.useCallback(u=>{var h;if(o){const f=H2(u)?u(e):u;f!==e&&((h=l.current)==null||h.call(l,f))}else i(u)},[o,e,i,l]);return[c,d]}function W2({defaultProp:e,onChange:t}){const[r,a]=m.useState(e),n=m.useRef(r),i=m.useRef(t);return F2(()=>{i.current=t},[t]),m.useEffect(()=>{var l;n.current!==r&&((l=i.current)==null||l.call(i,r),n.current=r)},[r,n]),[r,a,i]}function H2(e){return typeof e=="function"}function V2(e){const t=G2(e),r=m.forwardRef((a,n)=>{const{children:i,...l}=a,o=m.Children.toArray(i),c=o.find(K2);if(c){const d=c.props.children,u=o.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...l,ref:n,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return s.jsx(t,{...l,ref:n,children:i})});return r.displayName=`${e}.Slot`,r}function G2(e){const t=m.forwardRef((r,a)=>{const{children:n,...i}=r;if(m.isValidElement(n)){const l=J2(n),o=Y2(i,n.props);return n.type!==m.Fragment&&(o.ref=a?Kr(a,l):l),m.cloneElement(n,o)}return m.Children.count(n)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var q2=Symbol("radix.slottable");function K2(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===q2}function Y2(e,t){const r={...t};for(const a in t){const n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?r[a]=(...o)=>{const c=i(...o);return n(...o),c}:n&&(r[a]=n):a==="style"?r[a]={...n,...i}:a==="className"&&(r[a]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}function J2(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Q2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=Q2.reduce((e,t)=>{const r=V2(`Primitive.${t}`),a=m.forwardRef((n,i)=>{const{asChild:l,...o}=n,c=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...o,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function X2(e,t){e&&Pu.flushSync(()=>e.dispatchEvent(t))}function $n(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function Z2(e,t=globalThis==null?void 0:globalThis.document){const r=$n(e);m.useEffect(()=>{const a=n=>{n.key==="Escape"&&r(n)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var e_="DismissableLayer",Td="dismissableLayer.update",t_="dismissableLayer.pointerDownOutside",r_="dismissableLayer.focusOutside",df,dv=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uv=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=e,d=m.useContext(dv),[u,h]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),x=Oa(t,N=>h(N)),b=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=b.indexOf(y),v=u?b.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=g,k=n_(N=>{const E=N.target,T=[...d.branches].some(A=>A.contains(E));!j||T||(n==null||n(N),l==null||l(N),N.defaultPrevented||o==null||o())},f),_=i_(N=>{const E=N.target;[...d.branches].some(A=>A.contains(E))||(i==null||i(N),l==null||l(N),N.defaultPrevented||o==null||o())},f);return Z2(N=>{v===d.layers.size-1&&(a==null||a(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},f),m.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(df=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),uf(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=df)}},[u,f,r,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),uf())},[u,d]),m.useEffect(()=>{const N=()=>p({});return document.addEventListener(Td,N),()=>document.removeEventListener(Td,N)},[]),s.jsx(Ke.div,{...c,ref:x,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:Hr(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Hr(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Hr(e.onPointerDownCapture,k.onPointerDownCapture)})});uv.displayName=e_;var a_="DismissableLayerBranch",s_=m.forwardRef((e,t)=>{const r=m.useContext(dv),a=m.useRef(null),n=Oa(t,a);return m.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ke.div,{...e,ref:n})});s_.displayName=a_;function n_(e,t=globalThis==null?void 0:globalThis.document){const r=$n(e),a=m.useRef(!1),n=m.useRef(()=>{});return m.useEffect(()=>{const i=o=>{if(o.target&&!a.current){let c=function(){hv(t_,r,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=c,t.addEventListener("click",n.current,{once:!0})):c()}else t.removeEventListener("click",n.current);a.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function i_(e,t=globalThis==null?void 0:globalThis.document){const r=$n(e),a=m.useRef(!1);return m.useEffect(()=>{const n=i=>{i.target&&!a.current&&hv(r_,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function uf(){const e=new CustomEvent(Td);document.dispatchEvent(e)}function hv(e,t,r,{discrete:a}){const n=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),a?X2(n,i):n.dispatchEvent(i)}var Yo="focusScope.autoFocusOnMount",Jo="focusScope.autoFocusOnUnmount",hf={bubbles:!1,cancelable:!0},l_="FocusScope",fv=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...l}=e,[o,c]=m.useState(null),d=$n(n),u=$n(i),h=m.useRef(null),f=Oa(t,b=>c(b)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(a){let b=function(w){if(p.paused||!o)return;const j=w.target;o.contains(j)?h.current=j:Nr(h.current,{select:!0})},y=function(w){if(p.paused||!o)return;const j=w.relatedTarget;j!==null&&(o.contains(j)||Nr(h.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const k of w)k.removedNodes.length>0&&Nr(o)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const v=new MutationObserver(g);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),v.disconnect()}}},[a,o,p.paused]),m.useEffect(()=>{if(o){mf.add(p);const b=document.activeElement;if(!o.contains(b)){const g=new CustomEvent(Yo,hf);o.addEventListener(Yo,d),o.dispatchEvent(g),g.defaultPrevented||(o_(f_(mv(o)),{select:!0}),document.activeElement===b&&Nr(o))}return()=>{o.removeEventListener(Yo,d),setTimeout(()=>{const g=new CustomEvent(Jo,hf);o.addEventListener(Jo,u),o.dispatchEvent(g),g.defaultPrevented||Nr(b??document.body,{select:!0}),o.removeEventListener(Jo,u),mf.remove(p)},0)}}},[o,d,u,p]);const x=m.useCallback(b=>{if(!r&&!a||p.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,g=document.activeElement;if(y&&g){const v=b.currentTarget,[w,j]=c_(v);w&&j?!b.shiftKey&&g===j?(b.preventDefault(),r&&Nr(w,{select:!0})):b.shiftKey&&g===w&&(b.preventDefault(),r&&Nr(j,{select:!0})):g===v&&b.preventDefault()}},[r,a,p.paused]);return s.jsx(Ke.div,{tabIndex:-1,...l,ref:f,onKeyDown:x})});fv.displayName=l_;function o_(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(Nr(a,{select:t}),document.activeElement!==r)return}function c_(e){const t=mv(e),r=ff(t,e),a=ff(t.reverse(),e);return[r,a]}function mv(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ff(e,t){for(const r of e)if(!d_(r,{upTo:t}))return r}function d_(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function u_(e){return e instanceof HTMLInputElement&&"select"in e}function Nr(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&u_(e)&&t&&e.select()}}var mf=h_();function h_(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=gf(e,t),e.unshift(t)},remove(t){var r;e=gf(e,t),(r=e[0])==null||r.resume()}}}function gf(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function f_(e){return e.filter(t=>t.tagName!=="A")}var m_="Portal",gv=m.forwardRef((e,t)=>{var o;const{container:r,...a}=e,[n,i]=m.useState(!1);In(()=>i(!0),[]);const l=r||n&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?Dw.createPortal(s.jsx(Ke.div,{...a,ref:t}),l):null});gv.displayName=m_;function g_(e,t){return m.useReducer((r,a)=>t[r][a]??r,e)}var lo=e=>{const{present:t,children:r}=e,a=p_(t),n=typeof r=="function"?r({present:a.isPresent}):m.Children.only(r),i=Oa(a.ref,x_(n));return typeof r=="function"||a.isPresent?m.cloneElement(n,{ref:i}):null};lo.displayName="Presence";function p_(e){const[t,r]=m.useState(),a=m.useRef(null),n=m.useRef(e),i=m.useRef("none"),l=e?"mounted":"unmounted",[o,c]=g_(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=ji(a.current);i.current=o==="mounted"?d:"none"},[o]),In(()=>{const d=a.current,u=n.current;if(u!==e){const f=i.current,p=ji(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,c]),In(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=p=>{const b=ji(a.current).includes(CSS.escape(p.animationName));if(p.target===t&&b&&(c("ANIMATION_END"),!n.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=p=>{p.target===t&&(i.current=ji(a.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:m.useCallback(d=>{a.current=d?getComputedStyle(d):null,r(d)},[])}}function ji(e){return(e==null?void 0:e.animationName)||"none"}function x_(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Qo=0;function v_(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??pf()),document.body.insertAdjacentElement("beforeend",e[1]??pf()),Qo++,()=>{Qo===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qo--}},[])}function pf(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qi="right-scroll-bar-position",Ki="width-before-scroll-bar",y_="with-scroll-bars-hidden",b_="--removed-body-scroll-bar-size";function Xo(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function w_(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var n=r.value;n!==a&&(r.value=a,r.callback(a,n))}}}})[0];return r.callback=t,r.facade}var k_=typeof window<"u"?m.useLayoutEffect:m.useEffect,xf=new WeakMap;function j_(e,t){var r=w_(null,function(a){return e.forEach(function(n){return Xo(n,a)})});return k_(function(){var a=xf.get(r);if(a){var n=new Set(a),i=new Set(e),l=r.current;n.forEach(function(o){i.has(o)||Xo(o,null)}),i.forEach(function(o){n.has(o)||Xo(o,l)})}xf.set(r,e)},[e]),r}function N_(e){return e}function __(e,t){t===void 0&&(t=N_);var r=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,a);return r.push(l),function(){r=r.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(a=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){a=!0;var l=[];if(r.length){var o=r;r=[],o.forEach(i),l=r}var c=function(){var u=l;l=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){l.push(u),d()},filter:function(u){return l=l.filter(u),r}}}};return n}function S_(e){e===void 0&&(e={});var t=__(null);return t.options=_t({async:!0,ssr:!1},e),t}var pv=function(e){var t=e.sideCar,r=ta(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return m.createElement(a,_t({},r))};pv.isSideCarExport=!0;function E_(e,t){return e.useMedium(t),pv}var xv=S_(),Zo=function(){},oo=m.forwardRef(function(e,t){var r=m.useRef(null),a=m.useState({onScrollCapture:Zo,onWheelCapture:Zo,onTouchMoveCapture:Zo}),n=a[0],i=a[1],l=e.forwardProps,o=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,x=e.noIsolation,b=e.inert,y=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,w=e.gapMode,j=ta(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=f,_=j_([r,t]),N=_t(_t({},j),n);return m.createElement(m.Fragment,null,u&&m.createElement(k,{sideCar:xv,removeScrollBar:d,shards:h,noRelative:p,noIsolation:x,inert:b,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:w}),l?m.cloneElement(m.Children.only(o),_t(_t({},N),{ref:_})):m.createElement(v,_t({},N,{className:c,ref:_}),o))});oo.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oo.classNames={fullWidth:Ki,zeroRight:qi};var C_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function T_(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=C_();return t&&e.setAttribute("nonce",t),e}function P_(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function O_(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var A_=function(){var e=0,t=null;return{add:function(r){e==0&&(t=T_())&&(P_(t,r),O_(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},R_=function(){var e=A_();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vv=function(){var e=R_(),t=function(r){var a=r.styles,n=r.dynamic;return e(a,n),null};return t},M_={left:0,top:0,right:0,gap:0},ec=function(e){return parseInt(e||"",10)||0},D_=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[ec(r),ec(a),ec(n)]},I_=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return M_;var t=D_(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},$_=vv(),ps="data-scroll-locked",L_=function(e,t,r,a){var n=e.left,i=e.top,l=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(y_,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(o,"px ").concat(a,`;
  }
  body[`).concat(ps,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qi,` {
    right: `).concat(o,"px ").concat(a,`;
  }
  
  .`).concat(Ki,` {
    margin-right: `).concat(o,"px ").concat(a,`;
  }
  
  .`).concat(qi," .").concat(qi,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Ki," .").concat(Ki,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(ps,`] {
    `).concat(b_,": ").concat(o,`px;
  }
`)},vf=function(){var e=parseInt(document.body.getAttribute(ps)||"0",10);return isFinite(e)?e:0},z_=function(){m.useEffect(function(){return document.body.setAttribute(ps,(vf()+1).toString()),function(){var e=vf()-1;e<=0?document.body.removeAttribute(ps):document.body.setAttribute(ps,e.toString())}},[])},U_=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,n=a===void 0?"margin":a;z_();var i=m.useMemo(function(){return I_(n)},[n]);return m.createElement($_,{styles:L_(i,!t,n,r?"":"!important")})},Pd=!1;if(typeof window<"u")try{var Ni=Object.defineProperty({},"passive",{get:function(){return Pd=!0,!0}});window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{Pd=!1}var La=Pd?{passive:!1}:!1,F_=function(e){return e.tagName==="TEXTAREA"},yv=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!F_(e)&&r[t]==="visible")},B_=function(e){return yv(e,"overflowY")},W_=function(e){return yv(e,"overflowX")},yf=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=bv(e,a);if(n){var i=wv(e,a),l=i[1],o=i[2];if(l>o)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},H_=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},V_=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},bv=function(e,t){return e==="v"?B_(t):W_(t)},wv=function(e,t){return e==="v"?H_(t):V_(t)},G_=function(e,t){return e==="h"&&t==="rtl"?-1:1},q_=function(e,t,r,a,n){var i=G_(e,window.getComputedStyle(t).direction),l=i*a,o=r.target,c=t.contains(o),d=!1,u=l>0,h=0,f=0;do{if(!o)break;var p=wv(e,o),x=p[0],b=p[1],y=p[2],g=b-y-i*x;(x||g)&&bv(e,o)&&(h+=g,f+=x);var v=o.parentNode;o=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},_i=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bf=function(e){return[e.deltaX,e.deltaY]},wf=function(e){return e&&"current"in e?e.current:e},K_=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Y_=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},J_=0,za=[];function Q_(e){var t=m.useRef([]),r=m.useRef([0,0]),a=m.useRef(),n=m.useState(J_++)[0],i=m.useState(vv)[0],l=m.useRef(e);m.useEffect(function(){l.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var b=Lu([e.lockRef.current],(e.shards||[]).map(wf),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var o=m.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var g=_i(b),v=r.current,w="deltaX"in b?b.deltaX:v[0]-g[0],j="deltaY"in b?b.deltaY:v[1]-g[1],k,_=b.target,N=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in b&&N==="h"&&_.type==="range")return!1;var E=window.getSelection(),T=E&&E.anchorNode,A=T?T===_||T.contains(_):!1;if(A)return!1;var R=yf(N,_);if(!R)return!0;if(R?k=N:(k=N==="v"?"h":"v",R=yf(N,_)),!R)return!1;if(!a.current&&"changedTouches"in b&&(w||j)&&(a.current=k),!k)return!0;var C=a.current||k;return q_(C,y,b,C==="h"?w:j)},[]),c=m.useCallback(function(b){var y=b;if(!(!za.length||za[za.length-1]!==i)){var g="deltaY"in y?bf(y):_i(y),v=t.current.filter(function(k){return k.name===y.type&&(k.target===y.target||y.target===k.shadowParent)&&K_(k.delta,g)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(l.current.shards||[]).map(wf).filter(Boolean).filter(function(k){return k.contains(y.target)}),j=w.length>0?o(y,w[0]):!l.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),d=m.useCallback(function(b,y,g,v){var w={name:b,delta:y,target:g,should:v,shadowParent:X_(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),u=m.useCallback(function(b){r.current=_i(b),a.current=void 0},[]),h=m.useCallback(function(b){d(b.type,bf(b),b.target,o(b,e.lockRef.current))},[]),f=m.useCallback(function(b){d(b.type,_i(b),b.target,o(b,e.lockRef.current))},[]);m.useEffect(function(){return za.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,La),document.addEventListener("touchmove",c,La),document.addEventListener("touchstart",u,La),function(){za=za.filter(function(b){return b!==i}),document.removeEventListener("wheel",c,La),document.removeEventListener("touchmove",c,La),document.removeEventListener("touchstart",u,La)}},[]);var p=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:Y_(n)}):null,p?m.createElement(U_,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function X_(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Z_=E_(xv,Q_);var kv=m.forwardRef(function(e,t){return m.createElement(oo,_t({},e,{ref:t,sideCar:Z_}))});kv.classNames=oo.classNames;var eS=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ua=new WeakMap,Si=new WeakMap,Ei={},tc=0,jv=function(e){return e&&(e.host||jv(e.parentNode))},tS=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=jv(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},rS=function(e,t,r,a){var n=tS(t,Array.isArray(e)?e:[e]);Ei[r]||(Ei[r]=new WeakMap);var i=Ei[r],l=[],o=new Set,c=new Set(n),d=function(h){!h||o.has(h)||(o.add(h),d(h.parentNode))};n.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))u(f);else try{var p=f.getAttribute(a),x=p!==null&&p!=="false",b=(Ua.get(f)||0)+1,y=(i.get(f)||0)+1;Ua.set(f,b),i.set(f,y),l.push(f),b===1&&x&&Si.set(f,!0),y===1&&f.setAttribute(r,"true"),x||f.setAttribute(a,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return u(t),o.clear(),tc++,function(){l.forEach(function(h){var f=Ua.get(h)-1,p=i.get(h)-1;Ua.set(h,f),i.set(h,p),f||(Si.has(h)||h.removeAttribute(a),Si.delete(h)),p||h.removeAttribute(r)}),tc--,tc||(Ua=new WeakMap,Ua=new WeakMap,Si=new WeakMap,Ei={})}},aS=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=eS(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),rS(a,n,r,"aria-hidden")):function(){return null}};function sS(e){const t=nS(e),r=m.forwardRef((a,n)=>{const{children:i,...l}=a,o=m.Children.toArray(i),c=o.find(lS);if(c){const d=c.props.children,u=o.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...l,ref:n,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return s.jsx(t,{...l,ref:n,children:i})});return r.displayName=`${e}.Slot`,r}function nS(e){const t=m.forwardRef((r,a)=>{const{children:n,...i}=r;if(m.isValidElement(n)){const l=cS(n),o=oS(i,n.props);return n.type!==m.Fragment&&(o.ref=a?Kr(a,l):l),m.cloneElement(n,o)}return m.Children.count(n)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iS=Symbol("radix.slottable");function lS(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iS}function oS(e,t){const r={...t};for(const a in t){const n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?r[a]=(...o)=>{const c=i(...o);return n(...o),c}:n&&(r[a]=n):a==="style"?r[a]={...n,...i}:a==="className"&&(r[a]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}function cS(e){var a,n;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var co="Dialog",[Nv]=$2(co),[dS,Ft]=Nv(co),_v=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:n,onOpenChange:i,modal:l=!0}=e,o=m.useRef(null),c=m.useRef(null),[d,u]=B2({prop:a,defaultProp:n??!1,onChange:i,caller:co});return s.jsx(dS,{scope:t,triggerRef:o,contentRef:c,contentId:cr(),titleId:cr(),descriptionId:cr(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:l,children:r})};_v.displayName=co;var Sv="DialogTrigger",uS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Ft(Sv,r),i=Oa(t,n.triggerRef);return s.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":th(n.open),...a,ref:i,onClick:Hr(e.onClick,n.onOpenToggle)})});uS.displayName=Sv;var Zu="DialogPortal",[hS,Ev]=Nv(Zu,{forceMount:void 0}),Cv=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:n}=e,i=Ft(Zu,t);return s.jsx(hS,{scope:t,forceMount:r,children:m.Children.map(a,l=>s.jsx(lo,{present:r||i.open,children:s.jsx(gv,{asChild:!0,container:n,children:l})}))})};Cv.displayName=Zu;var Ol="DialogOverlay",Tv=m.forwardRef((e,t)=>{const r=Ev(Ol,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,i=Ft(Ol,e.__scopeDialog);return i.modal?s.jsx(lo,{present:a||i.open,children:s.jsx(mS,{...n,ref:t})}):null});Tv.displayName=Ol;var fS=sS("DialogOverlay.RemoveScroll"),mS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Ft(Ol,r);return s.jsx(kv,{as:fS,allowPinchZoom:!0,shards:[n.contentRef],children:s.jsx(Ke.div,{"data-state":th(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Sa="DialogContent",Pv=m.forwardRef((e,t)=>{const r=Ev(Sa,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,i=Ft(Sa,e.__scopeDialog);return s.jsx(lo,{present:a||i.open,children:i.modal?s.jsx(gS,{...n,ref:t}):s.jsx(pS,{...n,ref:t})})});Pv.displayName=Sa;var gS=m.forwardRef((e,t)=>{const r=Ft(Sa,e.__scopeDialog),a=m.useRef(null),n=Oa(t,r.contentRef,a);return m.useEffect(()=>{const i=a.current;if(i)return aS(i)},[]),s.jsx(Ov,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Hr(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Hr(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,o=l.button===0&&l.ctrlKey===!0;(l.button===2||o)&&i.preventDefault()}),onFocusOutside:Hr(e.onFocusOutside,i=>i.preventDefault())})}),pS=m.forwardRef((e,t)=>{const r=Ft(Sa,e.__scopeDialog),a=m.useRef(!1),n=m.useRef(!1);return s.jsx(Ov,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(a.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const l=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),Ov=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...l}=e,o=Ft(Sa,r),c=m.useRef(null),d=Oa(t,c);return v_(),s.jsxs(s.Fragment,{children:[s.jsx(fv,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:s.jsx(uv,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":th(o.open),...l,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(bS,{titleId:o.titleId}),s.jsx(kS,{contentRef:c,descriptionId:o.descriptionId})]})]})}),eh="DialogTitle",xS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Ft(eh,r);return s.jsx(Ke.h2,{id:n.titleId,...a,ref:t})});xS.displayName=eh;var Av="DialogDescription",vS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Ft(Av,r);return s.jsx(Ke.p,{id:n.descriptionId,...a,ref:t})});vS.displayName=Av;var Rv="DialogClose",yS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,n=Ft(Rv,r);return s.jsx(Ke.button,{type:"button",...a,ref:t,onClick:Hr(e.onClick,()=>n.onOpenChange(!1))})});yS.displayName=Rv;function th(e){return e?"open":"closed"}var Mv="DialogTitleWarning",[CT,Dv]=I2(Mv,{contentName:Sa,titleName:eh,docsSlug:"dialog"}),bS=({titleId:e})=>{const t=Dv(Mv),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},wS="DialogDescriptionWarning",kS=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Dv(wS).contentName}}.`;return m.useEffect(()=>{var i;const n=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},jS=_v,NS=Cv,_S=Tv,SS=Pv,qs='[cmdk-group=""]',rc='[cmdk-group-items=""]',ES='[cmdk-group-heading=""]',Iv='[cmdk-item=""]',kf=`${Iv}:not([aria-disabled="true"])`,Od="cmdk-item-select",qa="data-value",CS=(e,t,r)=>D2(e,t,r),$v=m.createContext(void 0),Yn=()=>m.useContext($v),Lv=m.createContext(void 0),rh=()=>m.useContext(Lv),zv=m.createContext(void 0),Uv=m.forwardRef((e,t)=>{let r=Ka(()=>{var O,F;return{search:"",value:(F=(O=e.value)!=null?O:e.defaultValue)!=null?F:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Ka(()=>new Set),n=Ka(()=>new Map),i=Ka(()=>new Map),l=Ka(()=>new Set),o=Fv(e),{label:c,children:d,value:u,onValueChange:h,filter:f,shouldFilter:p,loop:x,disablePointerSelection:b=!1,vimBindings:y=!0,...g}=e,v=cr(),w=cr(),j=cr(),k=m.useRef(null),_=zS();Ea(()=>{if(u!==void 0){let O=u.trim();r.current.value=O,N.emit()}},[u]),Ea(()=>{_(6,G)},[]);let N=m.useMemo(()=>({subscribe:O=>(l.current.add(O),()=>l.current.delete(O)),snapshot:()=>r.current,setState:(O,F,D)=>{var I,J,Y,ne;if(!Object.is(r.current[O],F)){if(r.current[O]=F,O==="search")C(),A(),_(1,R);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let V=document.getElementById(j);V?V.focus():(I=document.getElementById(v))==null||I.focus()}if(_(7,()=>{var V;r.current.selectedItemId=(V=X())==null?void 0:V.id,N.emit()}),D||_(5,G),((J=o.current)==null?void 0:J.value)!==void 0){let V=F??"";(ne=(Y=o.current).onValueChange)==null||ne.call(Y,V);return}}N.emit()}},emit:()=>{l.current.forEach(O=>O())}}),[]),E=m.useMemo(()=>({value:(O,F,D)=>{var I;F!==((I=i.current.get(O))==null?void 0:I.value)&&(i.current.set(O,{value:F,keywords:D}),r.current.filtered.items.set(O,T(F,D)),_(2,()=>{A(),N.emit()}))},item:(O,F)=>(a.current.add(O),F&&(n.current.has(F)?n.current.get(F).add(O):n.current.set(F,new Set([O]))),_(3,()=>{C(),A(),r.current.value||R(),N.emit()}),()=>{i.current.delete(O),a.current.delete(O),r.current.filtered.items.delete(O);let D=X();_(4,()=>{C(),(D==null?void 0:D.getAttribute("id"))===O&&R(),N.emit()})}),group:O=>(n.current.has(O)||n.current.set(O,new Set),()=>{i.current.delete(O),n.current.delete(O)}),filter:()=>o.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:v,inputId:j,labelId:w,listInnerRef:k}),[]);function T(O,F){var D,I;let J=(I=(D=o.current)==null?void 0:D.filter)!=null?I:CS;return O?J(O,r.current.search,F):0}function A(){if(!r.current.search||o.current.shouldFilter===!1)return;let O=r.current.filtered.items,F=[];r.current.filtered.groups.forEach(I=>{let J=n.current.get(I),Y=0;J.forEach(ne=>{let V=O.get(ne);Y=Math.max(V,Y)}),F.push([I,Y])});let D=k.current;$().sort((I,J)=>{var Y,ne;let V=I.getAttribute("id"),se=J.getAttribute("id");return((Y=O.get(se))!=null?Y:0)-((ne=O.get(V))!=null?ne:0)}).forEach(I=>{let J=I.closest(rc);J?J.appendChild(I.parentElement===J?I:I.closest(`${rc} > *`)):D.appendChild(I.parentElement===D?I:I.closest(`${rc} > *`))}),F.sort((I,J)=>J[1]-I[1]).forEach(I=>{var J;let Y=(J=k.current)==null?void 0:J.querySelector(`${qs}[${qa}="${encodeURIComponent(I[0])}"]`);Y==null||Y.parentElement.appendChild(Y)})}function R(){let O=$().find(D=>D.getAttribute("aria-disabled")!=="true"),F=O==null?void 0:O.getAttribute(qa);N.setState("value",F||void 0)}function C(){var O,F,D,I;if(!r.current.search||o.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let J=0;for(let Y of a.current){let ne=(F=(O=i.current.get(Y))==null?void 0:O.value)!=null?F:"",V=(I=(D=i.current.get(Y))==null?void 0:D.keywords)!=null?I:[],se=T(ne,V);r.current.filtered.items.set(Y,se),se>0&&J++}for(let[Y,ne]of n.current)for(let V of ne)if(r.current.filtered.items.get(V)>0){r.current.filtered.groups.add(Y);break}r.current.filtered.count=J}function G(){var O,F,D;let I=X();I&&(((O=I.parentElement)==null?void 0:O.firstChild)===I&&((D=(F=I.closest(qs))==null?void 0:F.querySelector(ES))==null||D.scrollIntoView({block:"nearest"})),I.scrollIntoView({block:"nearest"}))}function X(){var O;return(O=k.current)==null?void 0:O.querySelector(`${Iv}[aria-selected="true"]`)}function $(){var O;return Array.from(((O=k.current)==null?void 0:O.querySelectorAll(kf))||[])}function M(O){let F=$()[O];F&&N.setState("value",F.getAttribute(qa))}function W(O){var F;let D=X(),I=$(),J=I.findIndex(ne=>ne===D),Y=I[J+O];(F=o.current)!=null&&F.loop&&(Y=J+O<0?I[I.length-1]:J+O===I.length?I[0]:I[J+O]),Y&&N.setState("value",Y.getAttribute(qa))}function S(O){let F=X(),D=F==null?void 0:F.closest(qs),I;for(;D&&!I;)D=O>0?$S(D,qs):LS(D,qs),I=D==null?void 0:D.querySelector(kf);I?N.setState("value",I.getAttribute(qa)):W(O)}let L=()=>M($().length-1),K=O=>{O.preventDefault(),O.metaKey?L():O.altKey?S(1):W(1)},P=O=>{O.preventDefault(),O.metaKey?M(0):O.altKey?S(-1):W(-1)};return m.createElement(Ke.div,{ref:t,tabIndex:-1,...g,"cmdk-root":"",onKeyDown:O=>{var F;(F=g.onKeyDown)==null||F.call(g,O);let D=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||D))switch(O.key){case"n":case"j":{y&&O.ctrlKey&&K(O);break}case"ArrowDown":{K(O);break}case"p":case"k":{y&&O.ctrlKey&&P(O);break}case"ArrowUp":{P(O);break}case"Home":{O.preventDefault(),M(0);break}case"End":{O.preventDefault(),L();break}case"Enter":{O.preventDefault();let I=X();if(I){let J=new Event(Od);I.dispatchEvent(J)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:FS},c),uo(e,O=>m.createElement(Lv.Provider,{value:N},m.createElement($v.Provider,{value:E},O))))}),TS=m.forwardRef((e,t)=>{var r,a;let n=cr(),i=m.useRef(null),l=m.useContext(zv),o=Yn(),c=Fv(e),d=(a=(r=c.current)==null?void 0:r.forceMount)!=null?a:l==null?void 0:l.forceMount;Ea(()=>{if(!d)return o.item(n,l==null?void 0:l.id)},[d]);let u=Bv(n,i,[e.value,e.children,i],e.keywords),h=rh(),f=Yr(_=>_.value&&_.value===u.current),p=Yr(_=>d||o.filter()===!1?!0:_.search?_.filtered.items.get(n)>0:!0);m.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(Od,x),()=>_.removeEventListener(Od,x)},[p,e.onSelect,e.disabled]);function x(){var _,N;b(),(N=(_=c.current).onSelect)==null||N.call(_,u.current)}function b(){h.setState("value",u.current,!0)}if(!p)return null;let{disabled:y,value:g,onSelect:v,forceMount:w,keywords:j,...k}=e;return m.createElement(Ke.div,{ref:Kr(i,t),...k,id:n,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!f,"data-disabled":!!y,"data-selected":!!f,onPointerMove:y||o.getDisablePointerSelection()?void 0:b,onClick:y?void 0:x},e.children)}),PS=m.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:n,...i}=e,l=cr(),o=m.useRef(null),c=m.useRef(null),d=cr(),u=Yn(),h=Yr(p=>n||u.filter()===!1?!0:p.search?p.filtered.groups.has(l):!0);Ea(()=>u.group(l),[]),Bv(l,o,[e.value,e.heading,c]);let f=m.useMemo(()=>({id:l,forceMount:n}),[n]);return m.createElement(Ke.div,{ref:Kr(o,t),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),uo(e,p=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},m.createElement(zv.Provider,{value:f},p))))}),OS=m.forwardRef((e,t)=>{let{alwaysRender:r,...a}=e,n=m.useRef(null),i=Yr(l=>!l.search);return!r&&!i?null:m.createElement(Ke.div,{ref:Kr(n,t),...a,"cmdk-separator":"",role:"separator"})}),AS=m.forwardRef((e,t)=>{let{onValueChange:r,...a}=e,n=e.value!=null,i=rh(),l=Yr(d=>d.search),o=Yr(d=>d.selectedItemId),c=Yn();return m.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),m.createElement(Ke.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":o,id:c.inputId,type:"text",value:n?e.value:l,onChange:d=>{n||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),RS=m.forwardRef((e,t)=>{let{children:r,label:a="Suggestions",...n}=e,i=m.useRef(null),l=m.useRef(null),o=Yr(d=>d.selectedItemId),c=Yn();return m.useEffect(()=>{if(l.current&&i.current){let d=l.current,u=i.current,h,f=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return f.observe(d),()=>{cancelAnimationFrame(h),f.unobserve(d)}}},[]),m.createElement(Ke.div,{ref:Kr(i,t),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":a,id:c.listId},uo(e,d=>m.createElement("div",{ref:Kr(l,c.listInnerRef),"cmdk-list-sizer":""},d)))}),MS=m.forwardRef((e,t)=>{let{open:r,onOpenChange:a,overlayClassName:n,contentClassName:i,container:l,...o}=e;return m.createElement(jS,{open:r,onOpenChange:a},m.createElement(NS,{container:l},m.createElement(_S,{"cmdk-overlay":"",className:n}),m.createElement(SS,{"aria-label":e.label,"cmdk-dialog":"",className:i},m.createElement(Uv,{ref:t,...o}))))}),DS=m.forwardRef((e,t)=>Yr(r=>r.filtered.count===0)?m.createElement(Ke.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),IS=m.forwardRef((e,t)=>{let{progress:r,children:a,label:n="Loading...",...i}=e;return m.createElement(Ke.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},uo(e,l=>m.createElement("div",{"aria-hidden":!0},l)))}),_r=Object.assign(Uv,{List:RS,Item:TS,Input:AS,Group:PS,Separator:OS,Dialog:MS,Empty:DS,Loading:IS});function $S(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function LS(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Fv(e){let t=m.useRef(e);return Ea(()=>{t.current=e}),t}var Ea=typeof window>"u"?m.useEffect:m.useLayoutEffect;function Ka(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function Yr(e){let t=rh(),r=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,r,r)}function Bv(e,t,r,a=[]){let n=m.useRef(),i=Yn();return Ea(()=>{var l;let o=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():n.current}})(),c=a.map(d=>d.trim());i.value(e,o,c),(l=t.current)==null||l.setAttribute(qa,o),n.current=o}),n}var zS=()=>{let[e,t]=m.useState(),r=Ka(()=>new Map);return Ea(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,n)=>{r.current.set(a,n),t({})}};function US(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function uo({asChild:e,children:t},r){return e&&m.isValidElement(t)?m.cloneElement(US(t),{ref:t.ref},r(t.props.children)):r(t)}var FS={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function BS(){const[e,t]=m.useState(!1),[r,a]=m.useState(""),n=xr();m.useEffect(()=>{const c=u=>{u.key==="k"&&(u.metaKey||u.ctrlKey)&&(u.preventDefault(),t(h=>!h))},d=()=>t(!0);return document.addEventListener("keydown",c),window.addEventListener("open-command-center",d),()=>{document.removeEventListener("keydown",c),window.removeEventListener("open-command-center",d)}},[]);const i=c=>{t(!1),c()},l=c=>{t(!1),n(`/search?q=${encodeURIComponent(c)}`)},o=async()=>{if(!r.trim())return;const c=r.trim();t(!1);const{error:d}=await z.from("external_tasks").insert({title:c,status:"Beklemede",due_date:new Date(Date.now()+864e5).toISOString(),priority:"Normal"});alert(d?"Grev oluturulamad.":` Grev eklendi: "${c}"`)};return e?s.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/40 backdrop-blur-sm flex items-start justify-center pt-[15vh] animate-in fade-in duration-200",children:s.jsx("div",{className:"w-full max-w-[640px] shadow-2xl rounded-xl overflow-hidden animate-in zoom-in-95 slide-in-from-top-2 duration-200 ring-1 ring-white/10",children:s.jsxs(_r,{className:"bg-white dark:bg-[#0F172A] border border-gray-100 dark:border-slate-800 rounded-xl overflow-hidden flex flex-col w-full shadow-2xl",loop:!0,children:[s.jsxs("div",{className:"flex items-center border-b border-gray-100 dark:border-slate-800 px-4 bg-gray-50/50 dark:bg-slate-900/50 h-16",children:[s.jsx(Be,{className:"w-5 h-5 text-gray-400 mr-3 shrink-0"}),s.jsx(_r.Input,{value:r,onValueChange:a,placeholder:"Ne yapmak istiyorsunuz?",className:"w-full h-full bg-transparent border-none focus:outline-none text-lg text-gray-800 dark:text-gray-100 placeholder:text-gray-400 font-medium"}),s.jsxs("button",{onClick:()=>t(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-slate-800 rounded-lg transition-colors ml-2",children:[s.jsx("kbd",{className:"hidden sm:inline-block text-[10px] font-sans font-semibold text-gray-400 mr-2 border border-gray-200 dark:border-slate-700 rounded px-1.5 py-0.5",children:"ESC"}),s.jsx(Ee,{className:"w-4 h-4 text-gray-400 inline-block"})]})]}),s.jsxs(_r.List,{className:"max-h-[360px] overflow-y-auto overflow-x-hidden p-2 scroll-py-2 custom-scrollbar",children:[s.jsx(_r.Empty,{className:"py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:r?s.jsxs("div",{className:"flex flex-col gap-2 max-w-sm mx-auto",children:[s.jsxs("button",{onClick:o,className:"flex items-center gap-3 bg-indigo-50 dark:bg-indigo-900/20 hover:bg-indigo-100 dark:hover:bg-indigo-900/40 p-3 rounded-lg text-left transition-colors group",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center shrink-0",children:s.jsx(et,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-indigo-700 dark:text-indigo-300",children:"Yeni Grev Olutur"}),s.jsxs("div",{className:"text-xs text-indigo-600/70 dark:text-indigo-400/70 truncate",children:['"',r,'"']})]}),s.jsx(qu,{className:"w-4 h-4 text-indigo-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.jsxs("button",{onClick:()=>l(r),className:"flex items-center gap-3 bg-gray-50 dark:bg-slate-800/50 hover:bg-gray-100 dark:hover:bg-slate-800 p-3 rounded-lg text-left transition-colors",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-slate-800 flex items-center justify-center shrink-0",children:s.jsx(Be,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-700 dark:text-gray-200",children:"Detayl Arama Yap"}),s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:['Tm kaytlarda "',r,'" ara']})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Pl,{className:"w-8 h-8 text-gray-200 dark:text-slate-700 mb-2"}),s.jsx("p",{children:"Bir komut arayn veya grev yazn..."})]})}),!r&&s.jsxs(_r.Group,{heading:"Hzl lemler",className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-2 mt-2",children:[s.jsxs(Ht,{onSelect:()=>i(()=>{n("/meeting-notes"),setTimeout(()=>{var c;return(c=document.querySelector('button[title="Yeni Not"]'))==null?void 0:c.click()},500)}),children:[s.jsx("div",{className:"w-5 h-5 rounded bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center mr-3",children:s.jsx($e,{className:"w-3 h-3 text-indigo-600 dark:text-indigo-400"})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Yeni Toplant Notu"})]}),s.jsxs(Ht,{onSelect:()=>i(()=>n("/work-orders")),children:[s.jsx("div",{className:"w-5 h-5 rounded bg-green-100 dark:bg-green-900/50 flex items-center justify-center mr-3",children:s.jsx(et,{className:"w-3 h-3 text-green-600 dark:text-green-400"})}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:" Emirlerine Git"})]})]}),s.jsxs(_r.Group,{heading:"Navigasyon",className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-2 mt-4",children:[s.jsxs(Ht,{onSelect:()=>i(()=>n("/")),children:[s.jsx(Pl,{className:"w-4 h-4 mr-3 text-gray-400"}),"Ana Sayfa"]}),s.jsxs(Ht,{onSelect:()=>i(()=>n("/projects")),children:[s.jsx(at,{className:"w-4 h-4 mr-3 text-gray-400"}),"Projeler"]}),s.jsxs(Ht,{onSelect:()=>i(()=>n("/clients")),children:[s.jsx(gr,{className:"w-4 h-4 mr-3 text-gray-400"}),"Mteriler"]}),s.jsxs(Ht,{onSelect:()=>i(()=>n("/finance")),children:[s.jsx(Ux,{className:"w-4 h-4 mr-3 text-gray-400"}),"Finans Ynetimi"]}),s.jsxs(Ht,{onSelect:()=>i(()=>n("/calendar")),children:[s.jsx(Xt,{className:"w-4 h-4 mr-3 text-gray-400"}),"Takvim"]})]}),s.jsxs(_r.Group,{heading:"Sistem",className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 px-2 mt-4",children:[s.jsxs(Ht,{onSelect:()=>i(()=>n("/settings")),children:[s.jsx(Kx,{className:"w-4 h-4 mr-3 text-slate-400"}),"Ayarlar"]}),s.jsxs(Ht,{onSelect:()=>i(()=>{localStorage.setItem("theme","dark"),window.dispatchEvent(new Event("themeChange"))}),children:[s.jsx(Wx,{className:"w-4 h-4 mr-3 text-slate-400"}),"Koyu Mod"]}),s.jsxs(Ht,{onSelect:()=>i(()=>{localStorage.setItem("theme","light"),window.dispatchEvent(new Event("themeChange"))}),children:[s.jsx(Xx,{className:"w-4 h-4 mr-3 text-slate-400"}),"Ak Mod"]})]})]}),s.jsxs("div",{className:"border-t border-gray-100 dark:border-slate-800 p-2 bg-gray-50/50 dark:bg-slate-900/50 flex items-center justify-between text-[10px] text-gray-400 px-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-indigo-500",children:"pucu:"}),' Yazmaya balayn, "Grev Olutur" seenei otomatik kacaktr.']}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{children:"Se"})," ",s.jsx("kbd",{className:"font-sans bg-white dark:bg-slate-800 border dark:border-slate-700 px-1 rounded",children:""})]})]})]})})}):null}function Ht({children:e,onSelect:t}){return s.jsx(_r.Item,{onSelect:t,className:"flex items-center px-4 py-3 text-sm text-gray-700 dark:text-gray-200 rounded-lg cursor-pointer aria-selected:bg-indigo-50 aria-selected:text-indigo-700 dark:aria-selected:bg-indigo-900/30 dark:aria-selected:text-indigo-200 transition-all select-none",children:e})}function WS(){var b,y;const{user:e,role:t,isAdmin:r}=Le(),{notifications:a,unreadCount:n,markAsRead:i,markAllAsRead:l}=_2(),[o,c]=m.useState(""),[d,u]=m.useState(!1),h=xr(),f=ea();m.useEffect(()=>{u(!1)},[f.pathname]),m.useEffect(()=>{const g=setTimeout(()=>{o.trim()&&h(`/search?q=${encodeURIComponent(o.trim())}`)},500);return()=>clearTimeout(g)},[o,h]),m.useEffect(()=>{f.pathname!=="/search"&&c("")},[f.pathname]),m.useEffect(()=>{const g=()=>{(localStorage.getItem("theme")||"light")==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return g(),window.addEventListener("themeChange",g),()=>window.removeEventListener("themeChange",g)},[]);const p=((b=e==null?void 0:e.user_metadata)==null?void 0:b.full_name)||((y=e==null?void 0:e.email)==null?void 0:y.split("@")[0])||"Smeyye encan",x=t||(r?"Ynetici":"alan");return s.jsxs("div",{className:"flex min-h-screen bg-[#F8F9FC] dark:bg-[#020617] transition-colors duration-300",children:[s.jsx(N2,{}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[s.jsxs("header",{className:"h-16 bg-white dark:bg-[#0F172A] border-b border-gray-200 dark:border-slate-800 px-8 flex items-center justify-between sticky top-0 z-10 transition-colors duration-300",children:[s.jsx("div",{className:"flex-1 max-w-xl",children:s.jsxs("div",{className:"relative",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500"}),s.jsx("input",{type:"text",readOnly:!0,placeholder:"Proje, grev veya kii ara... (Ctrl + K)",className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-900 border-none rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none text-gray-900 dark:text-gray-100 placeholder-gray-400 transition-colors cursor-pointer",onClick:()=>window.dispatchEvent(new CustomEvent("open-command-center")),onFocus:()=>window.dispatchEvent(new CustomEvent("open-command-center"))})]})}),s.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(U,{variant:"ghost",size:"icon",className:"relative text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",onClick:()=>u(!d),children:[s.jsx(X0,{className:"w-5 h-5"}),n>0&&s.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 bg-red-500 text-white text-[10px] font-bold rounded-full border-2 border-white dark:border-[#0F172A]",children:n})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)})," ",s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-slate-900 rounded-xl shadow-2xl border border-gray-200 dark:border-slate-800 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200 origin-top-right",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-slate-800 flex justify-between items-center bg-gray-50/50 dark:bg-slate-950/50 backdrop-blur-sm",children:[s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Bildirimler"}),n>0&&s.jsx("button",{onClick:l,className:"text-xs text-primary hover:text-primary/80 font-medium transition-colors",children:"Tmn Oku"})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:a.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(X0,{className:"w-8 h-8 text-gray-200 dark:text-slate-700 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500 dark:text-slate-500 text-sm",children:"Henz bildiriminiz yok."})]}):s.jsx("div",{className:"divide-y divide-gray-50 dark:divide-slate-800",children:a.map(g=>s.jsx("div",{onClick:()=>{i(g.id),g.link&&(h(g.link),u(!1))},className:`p-4 hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer relative group ${g.is_read?"":"bg-blue-50/40 dark:bg-blue-900/10"}`,children:s.jsxs("div",{className:"flex gap-3 items-start",children:[s.jsx("div",{className:`mt-1.5 w-2 h-2 rounded-full shrink-0 transition-colors ${g.is_read?"bg-gray-200 dark:bg-slate-700":"bg-blue-600 shadow-sm shadow-blue-500/50"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm mb-0.5 ${g.is_read?"font-medium text-gray-700 dark:text-slate-300":"font-semibold text-gray-900 dark:text-white"}`,children:g.title}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 line-clamp-2 leading-relaxed",children:g.message}),s.jsx("p",{className:"text-[10px] text-gray-400 dark:text-slate-600 mt-1.5 font-medium",children:new Date(g.created_at).toLocaleDateString("tr-TR",{hour:"2-digit",minute:"2-digit"})})]})]})},g.id))})})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-gray-200 dark:border-slate-800",children:[s.jsxs("div",{className:"text-right hidden md:block",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-200",children:p}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:x})]}),s.jsx("div",{className:"w-9 h-9 rounded-full bg-purple-600 text-white flex items-center justify-center font-medium shadow-sm",children:p.substring(0,2).toUpperCase()})]})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-8",children:s.jsx(Pk,{})})]}),s.jsx(BS,{})]})}function Ln(e){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(e)}function Me(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function de(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function xe(e){de(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ln(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Wv(e,t){de(2,arguments);var r=xe(e),a=Me(t);return isNaN(a)?new Date(NaN):(a&&r.setDate(r.getDate()+a),r)}function ah(e,t){de(2,arguments);var r=xe(e),a=Me(t);if(isNaN(a))return new Date(NaN);if(!a)return r;var n=r.getDate(),i=new Date(r.getTime());i.setMonth(r.getMonth()+a+1,0);var l=i.getDate();return n>=l?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}function HS(e,t){de(2,arguments);var r=xe(e).getTime(),a=Me(t);return new Date(r+a)}var VS={};function Is(){return VS}function Al(e,t){var r,a,n,i,l,o,c,d;de(1,arguments);var u=Is(),h=Me((r=(a=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&n!==void 0?n:u.weekStartsOn)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=xe(e),p=f.getDay(),x=(p<h?7:0)+p-h;return f.setDate(f.getDate()-x),f.setHours(0,0,0,0),f}function GS(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function jf(e){de(1,arguments);var t=xe(e);return t.setHours(0,0,0,0),t}var sh=6e4,Hv=36e5;function nh(e,t){de(2,arguments);var r=jf(e),a=jf(t);return r.getTime()===a.getTime()}function qS(e){return de(1,arguments),e instanceof Date||Ln(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function KS(e){if(de(1,arguments),!qS(e)&&typeof e!="number")return!1;var t=xe(e);return!isNaN(Number(t))}function YS(e,t){return de(2,arguments),xe(e).getTime()-xe(t).getTime()}var Nf={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},JS="trunc";function QS(e){return e?Nf[e]:Nf[JS]}function XS(e,t,r){de(2,arguments);var a=YS(e,t)/sh;return QS(void 0)(a)}function Ad(e){de(1,arguments);var t=xe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Rd(e){de(1,arguments);var t=xe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function _f(e,t){var r,a,n,i,l,o,c,d;de(1,arguments);var u=Is(),h=Me((r=(a=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&n!==void 0?n:u.weekStartsOn)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=xe(e),p=f.getDay(),x=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+x),f.setHours(23,59,59,999),f}function ZS(e,t){de(2,arguments);var r=Me(t);return HS(e,-r)}var e5=864e5;function t5(e){de(1,arguments);var t=xe(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var a=t.getTime(),n=r-a;return Math.floor(n/e5)+1}function Rl(e){de(1,arguments);var t=1,r=xe(e),a=r.getUTCDay(),n=(a<t?7:0)+a-t;return r.setUTCDate(r.getUTCDate()-n),r.setUTCHours(0,0,0,0),r}function Vv(e){de(1,arguments);var t=xe(e),r=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(r+1,0,4),a.setUTCHours(0,0,0,0);var n=Rl(a),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var l=Rl(i);return t.getTime()>=n.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function r5(e){de(1,arguments);var t=Vv(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var a=Rl(r);return a}var a5=6048e5;function s5(e){de(1,arguments);var t=xe(e),r=Rl(t).getTime()-r5(t).getTime();return Math.round(r/a5)+1}function Ml(e,t){var r,a,n,i,l,o,c,d;de(1,arguments);var u=Is(),h=Me((r=(a=(n=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&n!==void 0?n:u.weekStartsOn)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=xe(e),p=f.getUTCDay(),x=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-x),f.setUTCHours(0,0,0,0),f}function Gv(e,t){var r,a,n,i,l,o,c,d;de(1,arguments);var u=xe(e),h=u.getUTCFullYear(),f=Is(),p=Me((r=(a=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&n!==void 0?n:f.firstWeekContainsDate)!==null&&a!==void 0?a:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(h+1,0,p),x.setUTCHours(0,0,0,0);var b=Ml(x,t),y=new Date(0);y.setUTCFullYear(h,0,p),y.setUTCHours(0,0,0,0);var g=Ml(y,t);return u.getTime()>=b.getTime()?h+1:u.getTime()>=g.getTime()?h:h-1}function n5(e,t){var r,a,n,i,l,o,c,d;de(1,arguments);var u=Is(),h=Me((r=(a=(n=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(l=t.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&n!==void 0?n:u.firstWeekContainsDate)!==null&&a!==void 0?a:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),f=Gv(e,t),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var x=Ml(p,t);return x}var i5=6048e5;function l5(e,t){de(1,arguments);var r=xe(e),a=Ml(r,t).getTime()-n5(r,t).getTime();return Math.round(a/i5)+1}function fe(e,t){for(var r=e<0?"-":"",a=Math.abs(e).toString();a.length<t;)a="0"+a;return r+a}var jr={y:function(t,r){var a=t.getUTCFullYear(),n=a>0?a:1-a;return fe(r==="yy"?n%100:n,r.length)},M:function(t,r){var a=t.getUTCMonth();return r==="M"?String(a+1):fe(a+1,2)},d:function(t,r){return fe(t.getUTCDate(),r.length)},a:function(t,r){var a=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(t,r){return fe(t.getUTCHours()%12||12,r.length)},H:function(t,r){return fe(t.getUTCHours(),r.length)},m:function(t,r){return fe(t.getUTCMinutes(),r.length)},s:function(t,r){return fe(t.getUTCSeconds(),r.length)},S:function(t,r){var a=r.length,n=t.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,a-3));return fe(i,r.length)}},Fa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},o5={G:function(t,r,a){var n=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(t,r,a){if(r==="yo"){var n=t.getUTCFullYear(),i=n>0?n:1-n;return a.ordinalNumber(i,{unit:"year"})}return jr.y(t,r)},Y:function(t,r,a,n){var i=Gv(t,n),l=i>0?i:1-i;if(r==="YY"){var o=l%100;return fe(o,2)}return r==="Yo"?a.ordinalNumber(l,{unit:"year"}):fe(l,r.length)},R:function(t,r){var a=Vv(t);return fe(a,r.length)},u:function(t,r){var a=t.getUTCFullYear();return fe(a,r.length)},Q:function(t,r,a){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return fe(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,r,a){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return fe(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,r,a){var n=t.getUTCMonth();switch(r){case"M":case"MM":return jr.M(t,r);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(t,r,a){var n=t.getUTCMonth();switch(r){case"L":return String(n+1);case"LL":return fe(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(t,r,a,n){var i=l5(t,n);return r==="wo"?a.ordinalNumber(i,{unit:"week"}):fe(i,r.length)},I:function(t,r,a){var n=s5(t);return r==="Io"?a.ordinalNumber(n,{unit:"week"}):fe(n,r.length)},d:function(t,r,a){return r==="do"?a.ordinalNumber(t.getUTCDate(),{unit:"date"}):jr.d(t,r)},D:function(t,r,a){var n=t5(t);return r==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):fe(n,r.length)},E:function(t,r,a){var n=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(t,r,a,n){var i=t.getUTCDay(),l=(i-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return fe(l,2);case"eo":return a.ordinalNumber(l,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,a,n){var i=t.getUTCDay(),l=(i-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return fe(l,r.length);case"co":return a.ordinalNumber(l,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,a){var n=t.getUTCDay(),i=n===0?7:n;switch(r){case"i":return String(i);case"ii":return fe(i,r.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(t,r,a){var n=t.getUTCHours(),i=n/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,a){var n=t.getUTCHours(),i;switch(n===12?i=Fa.noon:n===0?i=Fa.midnight:i=n/12>=1?"pm":"am",r){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,a){var n=t.getUTCHours(),i;switch(n>=17?i=Fa.evening:n>=12?i=Fa.afternoon:n>=4?i=Fa.morning:i=Fa.night,r){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,a){if(r==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return jr.h(t,r)},H:function(t,r,a){return r==="Ho"?a.ordinalNumber(t.getUTCHours(),{unit:"hour"}):jr.H(t,r)},K:function(t,r,a){var n=t.getUTCHours()%12;return r==="Ko"?a.ordinalNumber(n,{unit:"hour"}):fe(n,r.length)},k:function(t,r,a){var n=t.getUTCHours();return n===0&&(n=24),r==="ko"?a.ordinalNumber(n,{unit:"hour"}):fe(n,r.length)},m:function(t,r,a){return r==="mo"?a.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):jr.m(t,r)},s:function(t,r,a){return r==="so"?a.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):jr.s(t,r)},S:function(t,r){return jr.S(t,r)},X:function(t,r,a,n){var i=n._originalDate||t,l=i.getTimezoneOffset();if(l===0)return"Z";switch(r){case"X":return Ef(l);case"XXXX":case"XX":return ua(l);case"XXXXX":case"XXX":default:return ua(l,":")}},x:function(t,r,a,n){var i=n._originalDate||t,l=i.getTimezoneOffset();switch(r){case"x":return Ef(l);case"xxxx":case"xx":return ua(l);case"xxxxx":case"xxx":default:return ua(l,":")}},O:function(t,r,a,n){var i=n._originalDate||t,l=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Sf(l,":");case"OOOO":default:return"GMT"+ua(l,":")}},z:function(t,r,a,n){var i=n._originalDate||t,l=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Sf(l,":");case"zzzz":default:return"GMT"+ua(l,":")}},t:function(t,r,a,n){var i=n._originalDate||t,l=Math.floor(i.getTime()/1e3);return fe(l,r.length)},T:function(t,r,a,n){var i=n._originalDate||t,l=i.getTime();return fe(l,r.length)}};function Sf(e,t){var r=e>0?"-":"+",a=Math.abs(e),n=Math.floor(a/60),i=a%60;if(i===0)return r+String(n);var l=t;return r+String(n)+l+fe(i,2)}function Ef(e,t){if(e%60===0){var r=e>0?"-":"+";return r+fe(Math.abs(e)/60,2)}return ua(e,t)}function ua(e,t){var r=t||"",a=e>0?"-":"+",n=Math.abs(e),i=fe(Math.floor(n/60),2),l=fe(n%60,2);return a+i+r+l}var Cf=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},qv=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},c5=function(t,r){var a=t.match(/(P+)(p+)?/)||[],n=a[1],i=a[2];if(!i)return Cf(t,r);var l;switch(n){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",Cf(n,r)).replace("{{time}}",qv(i,r))},d5={p:qv,P:c5},u5=["D","DD"],h5=["YY","YYYY"];function f5(e){return u5.indexOf(e)!==-1}function m5(e){return h5.indexOf(e)!==-1}function Tf(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var g5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},p5=function(t,r,a){var n,i=g5[t];return typeof i=="string"?n=i:r===1?n=i.one:n=i.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function xs(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,a=e.formats[r]||e.formats[e.defaultWidth];return a}}var x5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},v5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},y5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b5={date:xs({formats:x5,defaultWidth:"full"}),time:xs({formats:v5,defaultWidth:"full"}),dateTime:xs({formats:y5,defaultWidth:"full"})},w5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k5=function(t,r,a,n){return w5[t]};function Kt(e){return function(t,r){var a=r!=null&&r.context?String(r.context):"standalone",n;if(a==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;n=e.formattingValues[l]||e.formattingValues[i]}else{var o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[c]||e.values[o]}var d=e.argumentCallback?e.argumentCallback(t):t;return n[d]}}var j5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},N5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},S5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},C5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},T5=function(t,r){var a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},P5={ordinalNumber:T5,era:Kt({values:j5,defaultWidth:"wide"}),quarter:Kt({values:N5,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Kt({values:_5,defaultWidth:"wide"}),day:Kt({values:S5,defaultWidth:"wide"}),dayPeriod:Kt({values:E5,defaultWidth:"wide",formattingValues:C5,defaultFormattingWidth:"wide"})};function Yt(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.width,n=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;var l=i[0],o=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?A5(o,function(h){return h.test(l)}):O5(o,function(h){return h.test(l)}),d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;var u=t.slice(l.length);return{value:d,rest:u}}}function O5(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function A5(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Kv(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.match(e.matchPattern);if(!a)return null;var n=a[0],i=t.match(e.parsePattern);if(!i)return null;var l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;var o=t.slice(n.length);return{value:l,rest:o}}}var R5=/^(\d+)(th|st|nd|rd)?/i,M5=/\d+/i,D5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},I5={any:[/^b/i,/^(a|c)/i]},$5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},L5={any:[/1/i,/2/i,/3/i,/4/i]},z5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},B5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},W5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V5={ordinalNumber:Kv({matchPattern:R5,parsePattern:M5,valueCallback:function(t){return parseInt(t,10)}}),era:Yt({matchPatterns:D5,defaultMatchWidth:"wide",parsePatterns:I5,defaultParseWidth:"any"}),quarter:Yt({matchPatterns:$5,defaultMatchWidth:"wide",parsePatterns:L5,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Yt({matchPatterns:z5,defaultMatchWidth:"wide",parsePatterns:U5,defaultParseWidth:"any"}),day:Yt({matchPatterns:F5,defaultMatchWidth:"wide",parsePatterns:B5,defaultParseWidth:"any"}),dayPeriod:Yt({matchPatterns:W5,defaultMatchWidth:"any",parsePatterns:H5,defaultParseWidth:"any"})},G5={code:"en-US",formatDistance:p5,formatLong:b5,formatRelative:k5,localize:P5,match:V5,options:{weekStartsOn:0,firstWeekContainsDate:1}},q5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,K5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y5=/^'([^]*?)'?$/,J5=/''/g,Q5=/[a-zA-Z]/;function le(e,t,r){var a,n,i,l,o,c,d,u,h,f,p,x,b,y,g,v,w,j;de(2,arguments);var k=String(t),_=Is(),N=(a=(n=r==null?void 0:r.locale)!==null&&n!==void 0?n:_.locale)!==null&&a!==void 0?a:G5,E=Me((i=(l=(o=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(d=r.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:_.firstWeekContainsDate)!==null&&l!==void 0?l:(h=_.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=Me((p=(x=(b=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(g=r.locale)===null||g===void 0||(v=g.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&b!==void 0?b:_.weekStartsOn)!==null&&x!==void 0?x:(w=_.locale)===null||w===void 0||(j=w.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&p!==void 0?p:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var A=xe(e);if(!KS(A))throw new RangeError("Invalid time value");var R=GS(A),C=ZS(A,R),G={firstWeekContainsDate:E,weekStartsOn:T,locale:N,_originalDate:A},X=k.match(K5).map(function($){var M=$[0];if(M==="p"||M==="P"){var W=d5[M];return W($,N.formatLong)}return $}).join("").match(q5).map(function($){if($==="''")return"'";var M=$[0];if(M==="'")return X5($);var W=o5[M];if(W)return!(r!=null&&r.useAdditionalWeekYearTokens)&&m5($)&&Tf($,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&f5($)&&Tf($,t,String(e)),W(C,$,N.localize,G);if(M.match(Q5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return $}).join("");return X}function X5(e){var t=e.match(Y5);return t?t[1].replace(J5,"'"):e}function Z5(e){de(1,arguments);var t=xe(e),r=t.getFullYear(),a=t.getMonth(),n=new Date(0);return n.setFullYear(r,a+1,0),n.setHours(0,0,0,0),n.getDate()}function eE(e,t){de(2,arguments);var r=xe(e),a=xe(t);return r.getTime()>a.getTime()}function Dl(e,t,r){de(2,arguments);var a=Al(e,r),n=Al(t,r);return a.getTime()===n.getTime()}function Yv(e,t){de(2,arguments);var r=xe(e),a=xe(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function tE(e){return de(1,arguments),nh(e,Date.now())}function Jv(e,t){de(2,arguments);var r=Me(t);return Wv(e,-r)}function ue(e,t){var r;de(1,arguments);var a=Me((r=void 0)!==null&&r!==void 0?r:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var n=nE(e),i;if(n.date){var l=iE(n.date,a);i=lE(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),c=0,d;if(n.time&&(c=oE(n.time),isNaN(c)))return new Date(NaN);if(n.timezone){if(d=cE(n.timezone),isNaN(d))return new Date(NaN)}else{var u=new Date(o+c),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(o+c+d)}var Ci={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rE=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,aE=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sE=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nE(e){var t={},r=e.split(Ci.dateTimeDelimiter),a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],Ci.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ci.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){var n=Ci.timezone.exec(a);n?(t.time=a.replace(n[1],""),t.timezone=n[1]):t.time=a}return t}function iE(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};var n=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?n:i*100,restDateString:e.slice((a[1]||a[2]).length)}}function lE(e,t){if(t===null)return new Date(NaN);var r=e.match(rE);if(!r)return new Date(NaN);var a=!!r[4],n=Ks(r[1]),i=Ks(r[2])-1,l=Ks(r[3]),o=Ks(r[4]),c=Ks(r[5])-1;if(a)return mE(t,o,c)?dE(t,o,c):new Date(NaN);var d=new Date(0);return!hE(t,i,l)||!fE(t,n)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(n,l)),d)}function Ks(e){return e?parseInt(e):1}function oE(e){var t=e.match(aE);if(!t)return NaN;var r=ac(t[1]),a=ac(t[2]),n=ac(t[3]);return gE(r,a,n)?r*Hv+a*sh+n*1e3:NaN}function ac(e){return e&&parseFloat(e.replace(",","."))||0}function cE(e){if(e==="Z")return 0;var t=e.match(sE);if(!t)return 0;var r=t[1]==="+"?-1:1,a=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return pE(a,n)?r*(a*Hv+n*sh):NaN}function dE(e,t,r){var a=new Date(0);a.setUTCFullYear(e,0,4);var n=a.getUTCDay()||7,i=(t-1)*7+r+1-n;return a.setUTCDate(a.getUTCDate()+i),a}var uE=[31,null,31,30,31,30,31,31,30,31,30,31];function Qv(e){return e%400===0||e%4===0&&e%100!==0}function hE(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(uE[t]||(Qv(e)?29:28))}function fE(e,t){return t>=1&&t<=(Qv(e)?366:365)}function mE(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function gE(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function pE(e,t){return t>=0&&t<=59}function xE(e,t){de(2,arguments);var r=xe(e),a=Me(t),n=r.getFullYear(),i=r.getDate(),l=new Date(0);l.setFullYear(n,a,15),l.setHours(0,0,0,0);var o=Z5(l);return r.setMonth(a,Math.min(i,o)),r}function vE(e,t){if(de(2,arguments),Ln(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var r=xe(e);return isNaN(r.getTime())?new Date(NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=xE(r,t.month)),t.date!=null&&r.setDate(Me(t.date)),t.hours!=null&&r.setHours(Me(t.hours)),t.minutes!=null&&r.setMinutes(Me(t.minutes)),t.seconds!=null&&r.setSeconds(Me(t.seconds)),t.milliseconds!=null&&r.setMilliseconds(Me(t.milliseconds)),r)}function gt(e,t){de(2,arguments);var r=Me(t);return ah(e,-r)}var yE={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarm dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklak 1 saat",other:"yaklak {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gn",other:"{{count}} gn"},aboutXWeeks:{one:"yaklak 1 hafta",other:"yaklak {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yaklak 1 ay",other:"yaklak {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklak 1 yl",other:"yaklak {{count}} yl"},xYears:{one:"1 yl",other:"{{count}} yl"},overXYears:{one:"1 yldan fazla",other:"{{count}} yldan fazla"},almostXYears:{one:"neredeyse 1 yl",other:"neredeyse {{count}} yl"}},bE=function(t,r,a){var n,i=yE[t];return typeof i=="string"?n=i:r===1?n=i.one:n=i.other.replace("{{count}}",r.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?n+" sonra":n+" nce":n},wE={full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},kE={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},jE={full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NE={date:xs({formats:wE,defaultWidth:"full"}),time:xs({formats:kE,defaultWidth:"full"}),dateTime:xs({formats:jE,defaultWidth:"full"})},_E={lastWeek:"'geen hafta' eeee 'saat' p",yesterday:"'dn saat' p",today:"'bugn saat' p",tomorrow:"'yarn saat' p",nextWeek:"eeee 'saat' p",other:"P"},SE=function(t,r,a,n){return _E[t]},EE={narrow:["M","MS"],abbreviated:["M","MS"],wide:["Milattan nce","Milattan Sonra"]},CE={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:["lk eyrek","kinci eyrek","nc eyrek","Son eyrek"]},TE={narrow:["O","","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],wide:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"]},PE={narrow:["P","P","S","","P","C","C"],short:["Pz","Pt","Sa","a","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","ar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"]},OE={narrow:{am:"",pm:"s",midnight:"gy",noon:"",morning:"sa",afternoon:"s",evening:"ak",night:"ge"},abbreviated:{am:"",pm:"S",midnight:"gece yars",noon:"le",morning:"sabah",afternoon:"leden sonra",evening:"akam",night:"gece"},wide:{am:"..",pm:".S.",midnight:"gece yars",noon:"le",morning:"sabah",afternoon:"leden sonra",evening:"akam",night:"gece"}},AE={narrow:{am:"",pm:"s",midnight:"gy",noon:"",morning:"sa",afternoon:"s",evening:"ak",night:"ge"},abbreviated:{am:"",pm:"S",midnight:"gece yars",noon:"len",morning:"sabahleyin",afternoon:"leden sonra",evening:"akamleyin",night:"geceleyin"},wide:{am:"..",pm:".s.",midnight:"gece yars",noon:"len",morning:"sabahleyin",afternoon:"leden sonra",evening:"akamleyin",night:"geceleyin"}},RE=function(t,r){var a=Number(t);return a+"."},ME={ordinalNumber:RE,era:Kt({values:EE,defaultWidth:"wide"}),quarter:Kt({values:CE,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Kt({values:TE,defaultWidth:"wide"}),day:Kt({values:PE,defaultWidth:"wide"}),dayPeriod:Kt({values:OE,defaultWidth:"wide",formattingValues:AE,defaultFormattingWidth:"wide"})},DE=/^(\d+)(\.)?/i,IE=/\d+/i,$E={narrow:/^(m|ms)/i,abbreviated:/^(m|ms)/i,wide:/^(milattan nce|milattan sonra)/i},LE={any:[/(^m|^milattan nce)/i,/(^ms|^milattan sonra)/i]},zE={narrow:/^[1234]/i,abbreviated:/^[1234]/i,wide:/^((i|)lk|(i|)kinci|nc|son) eyrek/i},UE={any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1/i,/2/i,/3/i,/4/i],wide:[/^(i|)lk eyrek/i,/(i|)kinci eyrek/i,/nc eyrek/i,/son eyrek/i]},FE={narrow:/^[omnhtaek]/i,abbreviated:/^(oca|ub|mar|nis|may|haz|tem|au|eyl|eki|kas|ara)/i,wide:/^(ocak|ubat|mart|nisan|mays|haziran|temmuz|austos|eyll|ekim|kasm|aralk)/i},BE={narrow:[/^o/i,/^/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^a/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},WE={narrow:/^[psc]/i,short:/^(pz|pt|sa|a|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|ar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|sal|aramba|perembe|cuma(?!rtesi)|cumartesi)/i},HE={narrow:[/^p/i,/^p/i,/^s/i,/^/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^a/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^sal/i,/^aramba/i,/^perembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},VE={narrow:/^(|s|gy||sa|s|ak|ge)/i,any:/^(\.?\s?[s]\.?|leden sonra|gece yars|le|(sabah||akam|gece)(leyin))/i},GE={any:{am:/^\.?\.?/i,pm:/^\.?s\.?/i,midnight:/^(gy|gece yars)/i,noon:/^/i,morning:/^sa/i,afternoon:/^leden sonra/i,evening:/^ak/i,night:/^ge/i}},qE={ordinalNumber:Kv({matchPattern:DE,parsePattern:IE,valueCallback:function(t){return parseInt(t,10)}}),era:Yt({matchPatterns:$E,defaultMatchWidth:"wide",parsePatterns:LE,defaultParseWidth:"any"}),quarter:Yt({matchPatterns:zE,defaultMatchWidth:"wide",parsePatterns:UE,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Yt({matchPatterns:FE,defaultMatchWidth:"wide",parsePatterns:BE,defaultParseWidth:"any"}),day:Yt({matchPatterns:WE,defaultMatchWidth:"wide",parsePatterns:HE,defaultParseWidth:"any"}),dayPeriod:Yt({matchPatterns:VE,defaultMatchWidth:"any",parsePatterns:GE,defaultParseWidth:"any"})},Fe={code:"tr",formatDistance:bE,formatLong:NE,formatRelative:SE,localize:ME,match:qE,options:{weekStartsOn:1,firstWeekContainsDate:1}};function KE({user:e}){const[t,r]=m.useState(!0),[a,n]=m.useState([]),[i,l]=m.useState(0);m.useEffect(()=>{if(!e)return;const c=async()=>{try{r(!0);const u=new Date,h=le(u,"yyyy-MM-dd"),{data:f}=await z.from("external_tasks").select("id, title, due_date").gte("due_date",h+"T00:00:00").lte("due_date",h+"T23:59:59"),{data:p}=await z.from("calendar_events").select("id, title, start_time, end_time, type").gte("start_time",h+"T00:00:00").lte("start_time",h+"T23:59:59"),x=[];f==null||f.forEach((y,g)=>{const v=vE(u,{hours:14+g,minutes:0});x.push({id:y.id,title:y.title,time:v,type:"task",duration:15})}),p==null||p.forEach(y=>{x.push({id:y.id,title:y.title,time:new Date(y.start_time),type:y.type||"event",duration:XS(new Date(y.end_time),new Date(y.start_time))||30})}),o();const b=setInterval(()=>o(),6e4);return n(x.sort((y,g)=>y.time-g.time)),r(!1),()=>clearInterval(b)}catch(u){console.error("Briefing error:",u),r(!1)}};c();const d=z.channel("public:calendar_events").on("postgres_changes",{event:"*",schema:"public",table:"calendar_events"},c).subscribe();return()=>{z.removeChannel(d)}},[e]);const o=(c,d)=>{const u=new Date,h=u.getHours()*60+u.getMinutes(),f=24*60;l(h/f*100)};return t?s.jsx("div",{className:"h-40 rounded-3xl bg-slate-100 dark:bg-slate-800 animate-pulse"}):s.jsxs("div",{className:"col-span-1 lg:col-span-3 bg-white dark:bg-slate-900 rounded-3xl p-6 shadow-sm border border-slate-200 dark:border-slate-800 relative overflow-hidden flex flex-col justify-center",children:[s.jsxs("div",{className:"flex justify-between items-end mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[s.jsx(Ut,{className:"w-6 h-6 text-violet-600"}),"Bugnn Zaman Tneli"]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:a.length>0?`${a.length} aktivite planland.`:"Bugn takvim bo grnyor."})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:"text-3xl font-black text-slate-900 dark:text-white font-mono tracking-wider",children:le(new Date,"HH:mm")})})]}),s.jsx("div",{className:"relative w-full h-32 bg-slate-50 dark:bg-slate-950 rounded-2xl border border-slate-100 dark:border-slate-800 overflow-hidden group/timeline",children:s.jsx("div",{className:"overflow-x-auto h-full w-full scrollbar-hide cursor-grab active:cursor-grabbing pb-2",style:{scrollBehavior:"smooth"},children:s.jsxs("div",{className:"relative min-w-[200%] h-full",children:[" ",s.jsx("div",{className:"absolute inset-0 flex justify-between px-8 items-end pb-2 pointer-events-none z-10",children:Array.from({length:25}).map((c,d)=>d).filter(c=>c%2===0).map(c=>s.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-30 absolute top-0 h-full",style:{left:`${c/24*100}%`},children:[s.jsx("div",{className:"h-full w-px bg-slate-300 dark:bg-slate-600 border-l border-dashed h-24"}),s.jsxs("span",{className:"text-xs font-mono font-bold absolute bottom-2",children:[c.toString().padStart(2,"0"),":00"]})]},c))}),a.map(c=>{const u=(c.time.getHours()+c.time.getMinutes()/60)/24*100;return s.jsxs("div",{className:`absolute top-1/2 -translate-y-1/2 px-3 py-1.5 rounded-lg text-xs font-bold shadow-sm whitespace-nowrap z-20 cursor-pointer transition-all hover:scale-110 hover:z-30 border ${c.type==="meeting"?"bg-violet-100 text-violet-700 border-violet-200 dark:bg-violet-900 dark:text-violet-100 dark:border-violet-700":c.type==="task"?"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900 dark:text-emerald-100 dark:border-emerald-700":"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900 dark:text-amber-100 dark:border-amber-700"}`,style:{left:`${u}%`},title:`${c.title} at ${le(c.time,"HH:mm")}`,children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${c.type==="meeting"?"bg-violet-500":c.type==="task"?"bg-emerald-500":"bg-amber-500"}`}),c.title]}),s.jsx("div",{className:"text-[9px] opacity-70 font-mono mt-0.5 ml-3",children:le(c.time,"HH:mm")})]},c.id)}),s.jsxs("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-30 shadow-[0_0_10px_rgba(239,68,68,0.5)] transition-all duration-1000 ease-linear",style:{left:`${i}%`},children:[s.jsx("div",{className:"absolute top-0 -translate-x-1/2 -translate-y-1/2 w-3 h-3 bg-red-500 rounded-full shadow-sm"}),s.jsx("div",{className:"absolute bottom-0 -translate-x-1/2 translate-y-1/2 w-3 h-3 bg-red-500 rounded-full shadow-sm"})]})]})})})]})}function Pf(){var n;const e=xr(),{user:t}=Le(),[r,a]=m.useState({total_clients:0,total_projects:0,active_projects:0,my_pending_tasks:0,weekly_revenue:0,projects_raw:[],sessions_raw:[]});return m.useEffect(()=>{if(!t)return;(async()=>{try{const{data:l,error:o}=await z.rpc("get_dashboard_stats");if(o)throw o;const{data:c}=await z.from("projects").select("*, profiles(full_name)").limit(100),{data:d}=await z.from("work_sessions").select("*, profiles(full_name)").limit(100),{data:u}=await z.from("profiles").select("full_name");a({...l,projects_raw:c||[],sessions_raw:d||[],all_users:u||[]})}catch(l){console.error("Dashboard turbo fetch error:",l)}})()},[t]),t?s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tighter transition-colors",children:["Ho geldin, ",s.jsx("span",{className:"bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent",children:(n=t.email)==null?void 0:n.split("@")[0]})," "]}),s.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-2 flex items-center gap-2 font-medium transition-colors",children:[s.jsx(vN,{className:"w-4 h-4 text-violet-500"}),le(new Date,"d MMMM yyyy EEEEE",{locale:Fe}),s.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300 dark:bg-slate-600"}),"Bugn harika iler karacaz."]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-900 p-1.5 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm transition-colors duration-300",children:[s.jsx(sc,{icon:at,label:"Proje",onClick:()=>e("/projects"),count:r.total_projects}),s.jsx(sc,{icon:qr,label:" Emrim",onClick:()=>e("/work-orders"),count:r.my_pending_tasks}),s.jsx(sc,{icon:$e,label:"Mteri",onClick:()=>e("/clients"),count:r.total_clients})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx(KE,{user:t}),s.jsxs("div",{className:"space-y-8",children:[s.jsx(YE,{user:t}),s.jsx(ZE,{user:t}),s.jsx(tC,{user:t})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsx(QE,{projects:r.projects_raw,sessions:r.sessions_raw,all_users:r.all_users}),s.jsx(XE,{projects:r.projects_raw,sessions:r.sessions_raw,all_users:r.all_users}),s.jsx(JE,{projects:r.projects_raw,sessions:r.sessions_raw})]}),s.jsx(eC,{user:t})]})]})]}):s.jsx("div",{className:"p-10 text-center text-slate-500",children:"Ykleniyor..."})}function sc({icon:e,label:t,onClick:r,count:a}){return s.jsxs("button",{onClick:r,className:"relative group p-3 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-800 transition-all text-slate-500 dark:text-slate-400 hover:text-violet-600 dark:hover:text-violet-400",children:[s.jsx(e,{className:"w-6 h-6"}),s.jsx("span",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 px-2 py-1 bg-slate-900 text-white text-[10px] rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-20",children:t}),a!==void 0&&a>0&&s.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-violet-500 rounded-full border border-white dark:border-slate-900"})]})}function YE({user:e}){const[t,r]=m.useState(!1),[a,n]=m.useState(!1),[i,l]=m.useState(0),[o,c]=m.useState("Ofis"),[d,u]=m.useState(null),[h,f]=m.useState(0),[p,x]=m.useState(null),[b,y]=m.useState(!1),[g,v]=m.useState(""),w=m.useRef(null);m.useEffect(()=>{try{const E=localStorage.getItem(`timer_state_${e.id}`);if(E){const T=JSON.parse(E);if(r(T.isActive),n(T.isPaused),c(T.location),u(T.startTimestamp),f(T.totalPausedTime||0),x(T.pauseStartTimestamp),T.isActive){const A=Date.now(),R=T.startTimestamp||A,C=T.totalPausedTime||0;if(T.isPaused&&T.pauseStartTimestamp){const G=T.pauseStartTimestamp-R-C;l(Math.max(0,Math.floor(G/1e3)))}else{const G=A-R-C;l(Math.max(0,Math.floor(G/1e3)))}}}}catch(E){console.error("Timer load error",E)}},[e.id]),m.useEffect(()=>(t&&!a&&d?w.current=setInterval(()=>{const T=Date.now()-d-h;l(Math.floor(T/1e3))},1e3):clearInterval(w.current),()=>clearInterval(w.current)),[t,a,d,h]),m.useEffect(()=>{if(t){const E={isActive:t,isPaused:a,location:o,startTimestamp:d,totalPausedTime:h,pauseStartTimestamp:p};localStorage.setItem(`timer_state_${e.id}`,JSON.stringify(E))}else!t&&d===null&&localStorage.removeItem(`timer_state_${e.id}`)},[t,a,o,d,h,p,e.id]);const j=()=>{if(t)if(!a)x(Date.now()),n(!0);else{const T=Date.now()-p;f(A=>A+T),x(null),n(!1)}else{const E=Date.now();u(E),f(0),r(!0),n(!1)}},k=()=>{y(!0)},_=async()=>{const E=Date.now();let T=0;const A=d||Date.now(),R=h||0;a&&p?T=Math.floor((p-A-R)/1e3):T=Math.floor((E-A-R)/1e3),T=Math.max(0,T);try{const{error:C}=await z.from("work_sessions").insert({user_id:e.id,start_time:new Date(A).toISOString(),end_time:new Date(E).toISOString(),duration:T,location:o,description:g});if(C)throw C;r(!1),n(!1),l(0),u(null),x(null),f(0),y(!1),v(""),localStorage.removeItem(`timer_state_${e.id}`),alert("alma oturumu kaydedildi!"),window.location.reload()}catch(C){console.error("Session save failed:",C),alert("Kayedilirken hata olutu: "+C.message)}},N=E=>{(!E||isNaN(E))&&(E=0);const T=Math.floor(E/3600),A=Math.floor(E%3600/60),R=E%60;return`${T.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`};return s.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-3xl p-8 text-white shadow-2xl relative overflow-hidden group",children:[b&&s.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:s.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-xl shadow-2xl w-full max-w-xs overflow-hidden text-center",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Gn Bitir?"}),s.jsx("p",{className:"text-gray-400 mt-2 text-sm",children:"alma sreniz kaydedilip oturum kapatlacak."}),s.jsx("div",{className:"mt-4 text-left",children:s.jsx("textarea",{className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-sm text-slate-200 placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-violet-500/50",placeholder:"zet...",rows:3,value:g,onChange:E=>v(E.target.value)})})]}),s.jsxs("div",{className:"bg-gray-900/50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-300 hover:bg-gray-700 rounded-lg",children:"Vazge"}),s.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-500 rounded-lg",children:"Bitir & Kaydet"})]})]})}),s.jsx("div",{className:B("absolute top-0 right-0 w-64 h-64 bg-violet-600 rounded-full blur-[100px] opacity-20",t&&!a&&"opacity-40 animate-pulse")}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[!t&&s.jsxs("div",{className:"flex bg-white/10 p-1 rounded-full mb-8 backdrop-blur-md border border-white/10",children:[s.jsxs("button",{onClick:()=>c("Ofis"),className:B("px-4 py-1.5 rounded-full text-xs font-medium transition-all flex items-center gap-2",o==="Ofis"?"bg-white text-slate-900 shadow-lg":"text-slate-400 hover:text-white"),children:[s.jsx(Qu,{className:"w-3 h-3"})," Ofis"]}),s.jsxs("button",{onClick:()=>c("Uzaktan"),className:B("px-4 py-1.5 rounded-full text-xs font-medium transition-all flex items-center gap-2",o==="Uzaktan"?"bg-white text-slate-900 shadow-lg":"text-slate-400 hover:text-white"),children:[s.jsx(BN,{className:"w-3 h-3"})," Uzaktan"]})]}),t&&s.jsxs("div",{className:"mb-8 flex items-center gap-2 px-3 py-1 rounded-full bg-violet-500/20 text-violet-200 text-xs font-medium border border-violet-500/30",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-400 animate-pulse"}),o==="Ofis"?"Ofistesin":"Uzaktan alyorsun"]}),s.jsx("div",{className:"text-6xl font-black font-mono tracking-wider mb-8 tabular-nums bg-gradient-to-b from-white to-slate-400 bg-clip-text text-transparent",children:N(i)}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:j,className:B("w-16 h-16 rounded-2xl flex items-center justify-center transition-all shadow-xl active:scale-95 border border-white/10",t&&!a?"bg-amber-500 text-slate-900":"bg-white text-slate-900"),children:t&&!a?s.jsx(Hx,{className:"w-6 h-6 fill-current"}):s.jsx(Gx,{className:"w-6 h-6 fill-current ml-1"})}),t&&s.jsx("button",{onClick:k,className:"w-16 h-16 rounded-2xl bg-red-500/10 text-red-500 border border-red-500/20 flex items-center justify-center transition-all shadow-lg active:scale-95 hover:bg-red-500 hover:text-white",children:s.jsx(LN,{className:"w-6 h-6 fill-current"})})]}),s.jsx("p",{className:"mt-6 text-slate-500 text-xs font-medium uppercase tracking-widest",children:t?a?"Duraklatld":"alma Kaydediliyor...":"Sre Balatlmaya Hazr"})]})]})}function JE({projects:e,sessions:t}){const[r,a]=m.useState(null);return m.useEffect(()=>{if(!e||!t)return;const n={};e.forEach(o=>{var d;const c=(d=o.profiles)==null?void 0:d.full_name;c&&(n[c]=(n[c]||0)+10)}),t.forEach(o=>{var d;const c=(d=o.profiles)==null?void 0:d.full_name;c&&o.duration&&(n[c]=(n[c]||0)+o.duration/3600)});let i=null,l=-1;Object.keys(n).forEach(o=>{n[o]>l&&(l=n[o],i=o)}),a(i?{name:i,score:Math.floor(l)}:{name:"Henz Yok",score:0})},[e,t]),r?s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-800 relative overflow-hidden flex items-center justify-between mb-8 group hover:shadow-xl transition-all",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-amber-100/50 dark:from-amber-900/30 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("p",{className:"text-amber-600 dark:text-amber-500 text-[10px] font-black uppercase tracking-widest mb-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-500 animate-ping"}),"Sat ampiyonu"]}),s.jsx("h3",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:r.name}),s.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["+",r.score," puan"]})]}),s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center text-white shadow-lg",children:s.jsx(io,{className:"w-8 h-8 fill-current"})})]}):null}function QE({projects:e,sessions:t,all_users:r}){const[a,n]=m.useState([]);return m.useEffect(()=>{if(!e||!t)return;const i=new Date,l={};r&&r.forEach(c=>{c.full_name&&(l[c.full_name]=0)}),e.forEach(c=>{var d;if(c.start_date&&Dl(ue(c.start_date),i,{locale:Fe})){const u=(d=c.profiles)==null?void 0:d.full_name;u&&(l[u]=(l[u]||0)+10)}}),t.forEach(c=>{var d;if(c.start_time&&Dl(ue(c.start_time),i,{locale:Fe})){const u=(d=c.profiles)==null?void 0:d.full_name;u&&(l[u]=(l[u]||0)+c.duration/3600)}});const o=Object.entries(l).map(([c,d])=>({name:c,score:Math.floor(d)})).sort((c,d)=>d.score-c.score).slice(0,2);n(o.length>0?o:[{name:"Henz Yok",score:0}])},[e,t]),a.length===0?null:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-800 relative overflow-hidden flex items-center justify-between mb-8 group hover:shadow-xl transition-all",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-violet-100/50 dark:from-violet-900/30 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 w-full pr-16",children:[s.jsxs("p",{className:"text-violet-600 dark:text-violet-400 text-[10px] font-black uppercase tracking-widest mb-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-violet-500 animate-ping"}),"Haftann alkanlar"]}),s.jsx("div",{className:"space-y-4 mt-4",children:a.map((i,l)=>s.jsxs("div",{className:"flex items-center justify-between border-b border-dashed border-slate-100 dark:border-slate-800 last:border-0 pb-1 last:pb-0",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white leading-tight",children:i.name}),s.jsxs("div",{className:"text-[10px] text-slate-500 font-medium",children:["#",l+1,"  ",i.score," puan"]})]}),l===0&&s.jsx("span",{className:"text-lg",children:""})]},l))})]}),s.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 w-12 h-12 bg-gradient-to-br from-violet-400 to-fuchsia-500 rounded-2xl flex items-center justify-center text-white shadow-lg",children:s.jsx(io,{className:"w-6 h-6 fill-current"})})]})}function XE({projects:e,sessions:t,all_users:r}){const[a,n]=m.useState([]);return m.useEffect(()=>{if(!e||!t)return;const i=new Date,l={};r&&r.forEach(c=>{c.full_name&&(l[c.full_name]=0)}),e.forEach(c=>{var d;if(c.start_date&&Dl(ue(c.start_date),i,{locale:Fe})){const u=(d=c.profiles)==null?void 0:d.full_name;u&&(l[u]=(l[u]||0)+10)}}),t.forEach(c=>{var d;if(c.start_time&&Dl(ue(c.start_time),i,{locale:Fe})){const u=(d=c.profiles)==null?void 0:d.full_name;u&&(l[u]=(l[u]||0)+c.duration/3600)}});const o=Object.entries(l).map(([c,d])=>({name:c,score:Math.floor(d)})).sort((c,d)=>c.score-d.score).slice(0,2);n(o.length>0?o:[{name:"Henz Yok",score:0}])},[e,t]),a.length===0?null:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-800 relative overflow-hidden flex items-center justify-between mb-8 group hover:shadow-xl transition-all",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-red-100/50 dark:from-red-900/30 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsxs("div",{className:"relative z-10 w-full pr-16",children:[s.jsxs("p",{className:"text-red-500 dark:text-red-400 text-[10px] font-black uppercase tracking-widest mb-1 flex items-center gap-1",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-red-400 animate-pulse"}),"Haftann En Az Eforu"]}),s.jsx("div",{className:"space-y-4 mt-4",children:a.map((i,l)=>s.jsx("div",{className:"flex items-center justify-between border-b border-dashed border-red-100 dark:border-red-900/20 last:border-0 pb-1 last:pb-0",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white leading-tight",children:i.name}),s.jsxs("div",{className:"text-[10px] text-slate-500 font-medium",children:[i.score," puan"]})]})},l))})]}),s.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 w-12 h-12 bg-gradient-to-br from-red-400 to-rose-500 rounded-2xl flex items-center justify-center text-white shadow-lg",children:s.jsx(ev,{className:"w-6 h-6 fill-current"})})]})}function ZE({user:e}){const[t,r]=m.useState(""),[a,n]=m.useState(!1);m.useEffect(()=>{if(!e)return;(async()=>{const{data:c}=await z.from("personal_notes").select("content").eq("user_id",e.id).single();c&&r(c.content||"")})()},[e]);const i=async o=>{const c=o.target.value;r(c)},l=async()=>{if(!e)return;n(!0);const{error:o}=await z.from("personal_notes").upsert({user_id:e.id,content:t},{onConflict:"user_id"});n(!1)};return s.jsxs("div",{className:"bg-[#FFF9C4] dark:bg-amber-900/30 rounded-3xl p-6 shadow-sm border border-yellow-200/50 dark:border-amber-800/30 relative overflow-hidden group hover:shadow-md transition-all",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-black/5 to-transparent pointer-events-none"}),s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-yellow-800 dark:text-amber-200",children:[s.jsx(Qx,{className:"w-5 h-5"}),s.jsxs("h3",{className:"font-bold",children:["Notlarm ",a&&s.jsx("span",{className:"text-[10px] opacity-50",children:"(Kaydediliyor...)"})]})]}),s.jsx("textarea",{className:"w-full h-40 bg-transparent border-none resize-none focus:outline-none text-gray-800 dark:text-amber-100 placeholder-yellow-700/50 dark:placeholder-amber-700/50 text-sm leading-relaxed",placeholder:"Aklndakileri buraya not al...",value:t,onChange:i,onBlur:l})]})}function eC({user:e}){const[t,r]=m.useState([]),[a,n]=m.useState(!0),i=xr(),l=async()=>{if(e){n(!0);try{const{data:o,error:c}=await z.rpc("get_my_dashboard_tasks");if(c)throw c;r(o||[])}catch(o){console.error("Fetch tasks error:",o)}finally{n(!1)}}};return m.useEffect(()=>(l(),window.addEventListener("taskCreated",l),()=>window.removeEventListener("taskCreated",l)),[e]),s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Grevlerim &  Emirlerim"}),s.jsx("button",{onClick:()=>i("/work-orders"),className:"text-sm font-medium text-violet-600 dark:text-violet-400 hover:underline",children:"Tm"})]}),s.jsx("div",{className:"space-y-3",children:a?s.jsx("div",{className:"flex justify-center p-4",children:s.jsx("div",{className:"w-5 h-5 border-2 border-violet-500 border-t-transparent rounded-full animate-spin"})}):t.length===0?s.jsx("p",{className:"text-slate-500 text-sm",children:"Aktif grev veya i emri bulunmuyor."}):t.map(o=>s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-700 group hover:border-violet-200 dark:hover:border-violet-900/50 transition-all",children:[s.jsx("div",{className:B("w-1.5 h-10 rounded-full",o.source_type===" Emri"?"bg-violet-500":"bg-emerald-500")}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[s.jsx("h4",{className:"font-bold text-slate-900 dark:text-slate-100 text-sm truncate",children:o.title}),s.jsx("span",{className:B("text-[9px] px-1.5 py-0.5 rounded-full font-bold uppercase tracking-wider",o.source_type===" Emri"?"bg-violet-100 text-violet-600 dark:bg-violet-900/30":"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30"),children:o.source_type})]}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:o.description||"Aklama yok"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-[10px] font-bold text-slate-400 block whitespace-nowrap",children:o.due_date?le(ue(o.due_date),"d MMM",{locale:Fe}):le(ue(o.created_at),"d MMM",{locale:Fe})}),s.jsx("span",{className:"text-[9px] text-slate-400/70",children:o.status})]})]},o.id))})]})}function tC({user:e}){const[t,r]=m.useState(""),[a,n]=m.useState(!1),i=async l=>{if(l.key==="Enter"||l.type==="click"){if(!t.trim())return;n(!0);try{const{error:o}=await z.from("external_tasks").insert({title:t.trim(),status:"Bekliyor",assigned_to:[e.id]});if(o)throw console.error("Quick task insert error detail:",o),o;console.log("Quick task created successfully!"),r(""),window.dispatchEvent(new CustomEvent("taskCreated"))}catch(o){console.error("Quick task catch error:",o),alert("Hata: "+(o.message||JSON.stringify(o)))}finally{n(!1)}}};return s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-800 transition-all hover:shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-violet-600 dark:text-violet-400",children:[s.jsx(io,{className:"w-5 h-5 fill-current"}),s.jsx("h3",{className:"font-bold",children:"Hzl Grev Ekle"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:t,onChange:l=>r(l.target.value),onKeyDown:i,disabled:a,placeholder:"Grev bal yaz ve Enter'a bas...",className:"w-full bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-2xl py-3 pl-4 pr-12 text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600"}),s.jsx("button",{onClick:i,disabled:a||!t.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-xl bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-violet-200 dark:shadow-none",children:s.jsx($e,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"mt-3 text-[10px] text-slate-400 dark:text-slate-500 font-medium italic",children:"* Bu grevler 'Harici Grevler' sekmesine kaydedilir."})]})}function rC({isOpen:e,onClose:t,onCreate:r,initialData:a}){const[n,i]=m.useState({firstName:"",lastName:"",email:"",password:"",role:"Mhendis",team:"Teknik Ekip",address:"",iban:"",status:"Aktif",registrationDate:""}),l=!!a;if(m.useEffect(()=>{i(a?{firstName:a.name.split(" ")[0]||"",lastName:a.name.split(" ").slice(1).join(" ")||"",email:a.email||"",password:"",role:a.role||"Mhendis",team:a.team||"Teknik Ekip",address:a.address||"",iban:a.iban||"",status:a.status||"Aktif",registrationDate:a.registrationDate||""}:{firstName:"",lastName:"",email:"",password:"",role:"Mhendis",team:"Teknik Ekip",address:"",iban:"",status:"Aktif",registrationDate:""})},[a,e]),!e)return null;const o=c=>{c.preventDefault(),r({...n,name:`${n.firstName} ${n.lastName}`,registrationDate:n.registrationDate||le(new Date,"dd.MM.yyyy HH:mm")}),t()};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh] border border-slate-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800 shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:l?"Kullanc Dzenle":"Yeni Kullanc Olutur"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:l?"Kullanc bilgilerini gncelleyin":"Kullanc bilgilerini girin"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 dark:hover:bg-slate-800",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-4 overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Ad *"}),s.jsx("input",{required:!0,type:"text",placeholder:"Taner",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-950 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:n.firstName,onChange:c=>i({...n,firstName:c.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Soyad *"}),s.jsx("input",{required:!0,type:"text",placeholder:"Yldrm",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-950 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:n.lastName,onChange:c=>i({...n,lastName:c.target.value})})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"E-posta *"}),s.jsx("input",{required:!0,type:"email",placeholder:"taneryk2022@gmail.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-950 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:n.email,onChange:c=>i({...n,email:c.target.value})}),s.jsxs("div",{className:"flex items-start gap-2 text-xs text-blue-600 dark:text-blue-400 mt-1",children:[s.jsx(_N,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{children:"Trke karakterler otomatik olarak Latin karakterlere dntrlecektir (rn: ar  cagri)"})]})]}),!l&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"ifre *"}),s.jsx("input",{required:!0,type:"password",placeholder:"En az 6 karakter",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-950 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:n.password,onChange:c=>i({...n,password:c.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Rol *"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-white dark:bg-slate-950 text-gray-900 dark:text-white",value:n.role,onChange:c=>i({...n,role:c.target.value}),children:[s.jsx("option",{value:"Ynetici",children:"Ynetici"}),s.jsx("option",{value:"Mhendis",children:"Mhendis"}),s.jsx("option",{value:"Muhasebe",children:"Muhasebe"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Ekip"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-white dark:bg-slate-950 text-gray-900 dark:text-white",value:n.team,onChange:c=>i({...n,team:c.target.value}),children:[s.jsx("option",{value:"Teknik Ekip",children:"Teknik Ekip"}),s.jsx("option",{value:"Yazlm Ekibi",children:"Yazlm Ekibi"}),s.jsx("option",{value:"Pazarlama Ekibi",children:"Pazarlama Ekibi"}),s.jsx("option",{value:"Sat Ekibi",children:"Sat Ekibi"}),s.jsx("option",{value:"Ynetim",children:"Ynetim"}),s.jsx("option",{value:"Dier",children:"Dier"})]})]})]}),l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Durum"}),s.jsxs("div",{className:"flex items-center gap-2 border border-gray-300 dark:border-slate-700 rounded-lg p-2 dark:bg-slate-950",children:[s.jsx("button",{type:"button",onClick:()=>i({...n,status:n.status==="Aktif"?"Pasif":"Aktif"}),className:B("relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer dark:ring-offset-slate-900",n.status==="Aktif"?"bg-black dark:bg-slate-700":"bg-gray-200 dark:bg-slate-700/50"),children:s.jsx("span",{className:B("inline-block h-4 w-4 transform rounded-full bg-white transition-transform",n.status==="Aktif"?"translate-x-6":"translate-x-1")})}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.status})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Kayt Tarihi"}),s.jsx("input",{disabled:!0,type:"text",className:"w-full px-3 py-2 border border-gray-100 dark:border-slate-800 bg-gray-50 dark:bg-slate-800 rounded-lg text-gray-500 dark:text-slate-400 cursor-not-allowed",value:n.registrationDate||"21 Kasm 2025 07:49"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Adres"}),s.jsx("input",{type:"text",placeholder:"RAFET PAA MAHALLES...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-950 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:n.address,onChange:c=>i({...n,address:c.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"IBAN"}),s.jsx("input",{type:"text",placeholder:"TR00 0000 0000 0000 0000 0000 00 (opsiyonel)",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-950 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:n.iban,onChange:c=>i({...n,iban:c.target.value})})]}),s.jsxs("div",{className:"pt-4 flex gap-3 justify-end border-t border-gray-100 dark:border-slate-800 mt-6 shrink-0",children:[s.jsx(U,{type:"button",variant:"secondary",onClick:t,className:"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-300",children:"ptal"}),s.jsx(U,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 shadow-blue-200 dark:shadow-blue-900/40 text-white",style:{backgroundColor:"#6366f1"},children:l?"Gncelle":"Olutur"})]})]})]})})}function aC({isOpen:e,onClose:t,user:r}){const[a,n]=m.useState("overview");return!e||!r?null:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl w-full max-w-lg h-[80vh] flex flex-col border border-slate-200 dark:border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:"Personel Kart"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Sistem zerindeki yetki ve bilgiler"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 dark:hover:bg-slate-800",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex items-center gap-1 px-6 border-b border-gray-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:[{id:"overview",label:"Profil",icon:Zt}].map(i=>{const l=i.icon,o=a===i.id;return s.jsxs("button",{onClick:()=>n(i.id),className:B("flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all relative",o?"text-purple-600 dark:text-purple-400":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"),children:[s.jsx(l,{className:"w-4 h-4"}),i.label,o&&s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-purple-600 dark:bg-purple-400 rounded-t-full"})]},i.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin",children:s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:B("w-20 h-20 rounded-2xl flex items-center justify-center text-white text-2xl font-black shadow-lg shadow-purple-500/20",r.avatarColor||"bg-purple-600"),children:r.name.split(" ").map(i=>i[0]).join("").substring(0,2).toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white",children:r.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:B("inline-flex items-center px-2.5 py-0.5 rounded-lg text-[10px] font-black uppercase tracking-wider",r.role==="Ynetici"?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"),children:r.role}),s.jsx("span",{className:"px-2.5 py-0.5 rounded-lg text-[10px] font-black bg-gray-900 dark:bg-slate-700 text-white uppercase tracking-wider",children:r.status||"Aktif"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-6 p-6 bg-gray-50 dark:bg-slate-800/50 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[s.jsx(Zt,{className:"w-3 h-3"})," Ad Soyad"]}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:r.name})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[s.jsx(Jx,{className:"w-3 h-3"})," E-posta"]}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white break-words",children:r.email})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[s.jsx(Ux,{className:"w-3 h-3"})," IBAN Bilgisi"]}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white font-mono",children:r.iban||"-"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 border dark:border-slate-800 rounded-xl",children:[s.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1",children:"Kayt Tarihi"}),s.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:r.registrationDate||"21.11.2025"})]}),s.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 border dark:border-slate-800 rounded-xl",children:[s.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-1",children:"Adres Bilgisi"}),s.jsx("p",{className:"font-bold text-gray-900 dark:text-white text-xs truncate uppercase",children:r.address||"-"})]})]})]})})]})})}const sC="https://qulzeoytobflgktbtogg.supabase.co",nC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF1bHplb3l0b2JmbGdrdGJ0b2dnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMDMyMTEsImV4cCI6MjA4MDc3OTIxMX0.vn0s8NzjDSDHsy7ufOenkHluWw5Vlbn9gxzliJzCOrM";function iC(){const[e,t]=m.useState([]),[r,a]=m.useState(!0),[n,i]=m.useState(!1),[l,o]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState(""),f=async()=>{try{a(!0);const{data:v,error:w}=await z.from("profiles").select("*").order("created_at",{ascending:!1});if(w)throw w;t(v||[])}catch(v){console.error("Error fetching users:",v)}finally{a(!1)}};m.useEffect(()=>{f()},[]);const p=async v=>{var N;const{name:w,email:j,password:k,role:_}=v;if(c){try{const{error:E}=await z.from("profiles").update({full_name:w,role:_,address:v.address,iban:v.iban}).eq("id",c.id);if(E)throw E;alert("Kullanc gncellendi."),f(),i(!1)}catch(E){alert("Gncelleme hatas: "+E.message)}return}try{const E=Mx(sC,nC,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),{data:T,error:A}=await E.auth.signUp({email:j,password:k,options:{data:{full_name:w,role:_,address:v.address,iban:v.iban}}});if(A)throw A;if(await new Promise(R=>setTimeout(R,1500)),_&&_!=="Mhendis"&&((N=T==null?void 0:T.user)!=null&&N.id)){const{error:R}=await z.from("profiles").update({role:_}).eq("id",T.user.id);R&&console.error("Role update failed:",R)}await f(),alert("Kullanc oluturuldu! (E-posta onay gerekebilir)"),i(!1)}catch(E){console.error("User creation error:",E),alert("Kullanc oluturma hatas: "+E.message)}},x=v=>{d({id:v.id,name:v.full_name,email:"...",role:v.role,address:v.address,iban:v.iban,status:"Aktif"}),i(!0)},b=async v=>{if(confirm("Bu kullancy ve tm verilerini silmek istediinizden emin misiniz? Bu ilem geri alnamaz!"))try{a(!0);const{error:w}=await z.rpc("delete_user_account",{target_user_id:v});if(w)throw w;alert("Kullanc baaryla silindi."),await f()}catch(w){console.error("Delete error:",w),alert("Silme ilemi baarsz: "+w.message)}finally{a(!1)}},y=()=>{d(null),i(!0)},g=e.filter(v=>{var w,j;return(((w=v.full_name)==null?void 0:w.toLowerCase())||"").includes(u.toLowerCase())||(((j=v.role)==null?void 0:j.toLowerCase())||"").includes(u.toLowerCase())});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Kullanc Ynetimi"}),s.jsx("p",{className:"text-gray-500 dark:text-slate-400 mt-1",children:"Sistem kullanclarn ynetin"})]}),s.jsxs(U,{onClick:y,className:"gap-2 bg-blue-600 hover:bg-blue-700 shadow-blue-200 dark:shadow-blue-900/40 text-white",children:[s.jsx($e,{className:"w-5 h-5"}),"Yeni Kullanc"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center justify-between transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-slate-400",children:"Toplam Kullanc"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:e.length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-50 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400",children:s.jsx(gr,{className:"w-6 h-6"})})]})}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-100 dark:border-slate-800 shadow-sm overflow-hidden transition-colors",children:[s.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-slate-800",children:s.jsxs("div",{className:"relative",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Kullanc ara...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-gray-400 dark:placeholder:text-slate-500",value:u,onChange:v=>h(v.target.value)})]})}),r?s.jsx("div",{className:"p-8 flex justify-center",children:s.jsx(st,{className:"w-6 h-6 animate-spin text-blue-600"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-gray-50/50 dark:bg-slate-800/50 text-xs uppercase font-medium text-gray-500 dark:text-slate-400 border-b border-gray-100 dark:border-slate-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4",children:"Kullanc"}),s.jsx("th",{className:"px-6 py-4",children:"Rol"}),s.jsx("th",{className:"px-6 py-4 text-right",children:"lemler"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:g.map(v=>{var w;return s.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:B("w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-medium shadow-sm bg-blue-600"),children:((w=v.full_name)==null?void 0:w.substring(0,2).toUpperCase())||"K"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:v.full_name||"simsiz"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:B("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",v.role==="Ynetici"?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400"),children:v.role})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-400 dark:text-slate-500",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>x(v),className:"w-8 h-8 text-gray-400 dark:text-slate-500 hover:text-blue-600 dark:hover:text-blue-400 dark:hover:bg-slate-800",children:s.jsx(Kn,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>b(v.id),className:"w-8 h-8 text-gray-400 dark:text-slate-500 hover:text-red-600 dark:hover:text-red-400 dark:hover:bg-slate-800",children:s.jsx(yt,{className:"w-4 h-4"})})]})})]},v.id)})})]})})]}),s.jsx(rC,{isOpen:n,onClose:()=>i(!1),onCreate:p,initialData:c}),s.jsx(aC,{isOpen:l,onClose:()=>o(!1),user:c})]})}function lC({isOpen:e,onClose:t,client:r}){const[a,n]=m.useState("overview");return!e||!r?null:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl w-full max-w-2xl h-[80vh] flex flex-col border border-slate-200 dark:border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:r.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:r.company||"Bireysel Mteri"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex items-center gap-1 px-6 border-b border-gray-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:[{id:"overview",label:"Genel Bak",icon:Pl}].map(i=>{const l=i.icon,o=a===i.id;return s.jsxs("button",{onClick:()=>n(i.id),className:B("flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all relative",o?"text-blue-600 dark:text-blue-400":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"),children:[s.jsx(l,{className:"w-4 h-4"}),i.label,o&&s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 dark:bg-blue-400 rounded-t-full"})]},i.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin",children:s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-blue-600 flex items-center justify-center text-white text-xl font-black shadow-lg shadow-blue-500/20",children:r.name.split(" ").map(i=>i[0]).join("").substring(0,2).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Mteri Kart"}),s.jsx("span",{className:"px-2 py-0.5 rounded-lg text-[10px] font-black bg-blue-100 dark:bg-blue-900/30 text-blue-600 uppercase",children:r.status})]}),s.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white",children:r.name})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 p-4 bg-gray-50 dark:bg-slate-800/50 rounded-2xl border border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"E-posta"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:r.email||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Telefon"}),s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:r.phone})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-900 dark:text-white font-bold",children:[s.jsx(Sd,{className:"w-5 h-5 text-blue-500"}),"Aktif Projeler"]}),s.jsxs("div",{className:"border border-gray-100 dark:border-slate-800 rounded-2xl p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-all cursor-pointer group shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform",children:s.jsx(Sd,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-gray-900 dark:text-white group-hover:text-blue-600 transition-colors",children:"Kurumsal Website"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Son Gncelleme: 10.10.2025"})]})]}),s.jsx("span",{className:"px-3 py-1 bg-black dark:bg-slate-700 text-white text-[10px] font-black rounded-lg uppercase",children:"tamamland"})]})]})]})})]})})}function oC({isOpen:e,onClose:t,onCreate:r}){const[a,n]=m.useState({name:"",phone:"",email:"",address:"",status:"Aktif",type:"Normal",notes:""});if(!e)return null;const i=l=>{if(l.preventDefault(),!a.name){alert("Mteri ismi zorunludur");return}r(a),t(),n({name:"",phone:"",email:"",address:"",status:"Aktif",type:"Normal",notes:""})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-xl w-full max-w-lg border border-slate-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Yeni Mteri"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Yeni bir mteri kart oluturun"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:i,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Mteri / Firma Ad"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600",placeholder:"rn: Butik Ajans A..",value:a.name,onChange:l=>n({...a,name:l.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Telefon"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600",placeholder:"05...",value:a.phone,onChange:l=>n({...a,phone:l.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Durum"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white",value:a.status,onChange:l=>n({...a,status:l.target.value}),children:[s.jsx("option",{value:"Aktif",children:"Aktif"}),s.jsx("option",{value:"Pasif",children:"Pasif"}),s.jsx("option",{value:"Skntl",children:"Skntl"})]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"E-posta"}),s.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600",placeholder:"deneme@sirket.com",value:a.email,onChange:l=>n({...a,email:l.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Adres"}),s.jsx("textarea",{rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all resize-none bg-white dark:bg-slate-950 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600",placeholder:"Adres detaylar...",value:a.address,onChange:l=>n({...a,address:l.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Notlar"}),s.jsx("textarea",{rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all resize-none bg-white dark:bg-slate-950 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600",placeholder:"Mteri hakknda notlar...",value:a.notes,onChange:l=>n({...a,notes:l.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-slate-800",children:[s.jsx(U,{type:"button",variant:"ghost",onClick:t,className:"text-gray-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-800",children:"ptal"}),s.jsxs(U,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white gap-2 shadow-blue-200 dark:shadow-blue-900/40",children:[s.jsx(Dn,{className:"w-4 h-4"}),"Kaydet"]})]})]})]})})}function cC(){const[e,t]=m.useState("Tm"),[r,a]=m.useState(""),[n,i]=m.useState(null),[l,o]=m.useState(!1),[c,d]=m.useState([]),[u,h]=m.useState(!0),{user:f,isAdmin:p}=Le(),x=async()=>{try{h(!0);const{data:g,error:v}=await z.from("clients").select("*").order("created_at",{ascending:!1});if(v)throw v;d(g||[])}catch(g){console.error("Error loading clients:",g)}finally{h(!1)}};m.useEffect(()=>{f&&x()},[f]);const b=async g=>{try{const v={name:g.name,type:g.type||"Normal",status:"Aktif",phone:g.phone,email:g.email,address:g.address,notes:g.notes},{error:w}=await z.from("clients").insert(v);if(w)throw w;alert("Mteri baaryla oluturuldu."),o(!1),x()}catch(v){console.error("Create client error:",v),alert("Hata: "+v.message)}},y=c.filter(g=>{if(!g||!g.name)return!1;const v=g.name.toLowerCase().includes(r.toLowerCase())||g.phone&&g.phone.includes(r);return e==="Tm"?v:v&&g.status===e});return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Mteriler"}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 font-medium",children:[s.jsx("p",{children:"Mteri portfynz ve bakiyelerini ynetin."}),s.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300 dark:bg-slate-600"}),s.jsxs("span",{className:"text-violet-600 dark:text-violet-400 font-bold",children:[c.length," Kayt"]})]})]}),s.jsxs(U,{onClick:()=>o(!0),className:"bg-violet-600 hover:bg-violet-700 text-white shadow-lg shadow-violet-500/20 gap-2 px-6 dark:shadow-violet-900/40",children:[s.jsx(gr,{className:"w-5 h-5"}),"Yeni Mteri"]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"sim, telefon veya adres ara...",className:"w-full pl-10 pr-4 py-3 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 shadow-sm",value:r,onChange:g=>a(g.target.value)})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:["Tm","Aktif","Pasif","Skntl"].map(g=>s.jsx("button",{onClick:()=>t(g),className:B("px-4 py-2 rounded-xl text-sm font-bold transition-all whitespace-nowrap",e===g?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 shadow-lg shadow-slate-900/20 dark:shadow-white/10":"bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 border border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800 hover:border-slate-300 dark:hover:border-slate-700"),children:g},g))})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:u?s.jsx("div",{className:"col-span-full flex justify-center py-20",children:s.jsx(st,{className:"w-8 h-8 animate-spin text-violet-600"})}):y.length===0?s.jsxs("div",{className:"col-span-full py-20 bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 border-dashed text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(gr,{className:"w-8 h-8 text-slate-300 dark:text-slate-600"})}),s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Mteri Bulunamad"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Arama kriterlerinize uygun kayt yok."})]}):y.map(g=>s.jsxs("div",{className:"group bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6 hover:shadow-xl hover:border-violet-200 dark:hover:border-violet-900 transition-all duration-300 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute top-0 right-0 p-6 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[s.jsx("button",{onClick:()=>i(g),className:"p-2 bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-violet-50 dark:hover:bg-violet-900/30 rounded-lg transition-colors",children:s.jsx(Pa,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:s.jsx(Kn,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-700 flex items-center justify-center text-slate-500 dark:text-slate-400 font-bold text-lg",children:g.name.charAt(0)}),s.jsxs("div",{className:"flex-1 pr-16",children:[s.jsx("h3",{className:"font-bold text-slate-900 dark:text-white leading-tight mb-1 group-hover:text-violet-700 dark:group-hover:text-violet-400 transition-colors line-clamp-2",children:g.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:B("px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border",g.status==="Aktif"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border-emerald-100 dark:border-emerald-900/50":g.status==="Pasif"?"bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border-slate-100 dark:border-slate-700":g.status==="Skntl"?"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-100 dark:border-red-900/50":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 border-indigo-100 dark:border-indigo-900/50"),children:g.status}),s.jsx("span",{className:"text-xs font-mono text-slate-400 dark:text-slate-500",children:g.type})]})]})]}),s.jsxs("div",{className:"space-y-3 border-t border-slate-100 dark:border-slate-800 pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-slate-400 dark:text-slate-500 font-medium",children:"Telefon"}),s.jsx("span",{className:"font-mono text-slate-700 dark:text-slate-300",children:g.phone||"-"})]}),s.jsxs("div",{className:"flex items-start justify-between text-sm gap-4",children:[s.jsx("span",{className:"text-slate-400 dark:text-slate-500 font-medium whitespace-nowrap",children:"Adres"}),s.jsx("span",{className:"text-slate-600 dark:text-slate-400 text-right truncate max-w-[180px]",title:g.address,children:g.address||"-"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm bg-slate-50 dark:bg-slate-800/50 p-3 rounded-xl",children:[s.jsx("span",{className:"text-slate-500 dark:text-slate-400 font-bold",children:"Bakiye"}),s.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"0,00"})]})]})]},g.id))}),s.jsx(lC,{isOpen:!!n,onClose:()=>i(null),client:n}),s.jsx(oC,{isOpen:l,onClose:()=>o(!1),onCreate:b})]})}function dC({isOpen:e,onClose:t,onSubmit:r}){const[a,n]=m.useState([]),[i,l]=m.useState([]),[o,c]=m.useState(!1);m.useEffect(()=>{if(!e)return;(async()=>{c(!0);try{const{data:g}=await z.from("clients").select("id, name").order("name"),{data:v}=await z.from("profiles").select("id, full_name").order("full_name");l(g||[]),n(v||[])}catch(g){console.error("Fetch modal data error:",g)}finally{c(!1)}})()},[e]);const[d,u]=m.useState({name:"",customer:"",customerId:"",description:"",status:"Hazrlk",priority:"Normal",startDate:new Date().toISOString().split("T")[0],endDate:"",assignee:"",team:[],links:[],price:"0.00"}),[h,f]=m.useState({label:"",url:""}),p=()=>{h.label&&h.url&&(u({...d,links:[...d.links||[],h]}),f({label:"",url:""}))},x=y=>{const g=[...d.links];g.splice(y,1),u({...d,links:g})};if(!e)return null;const b=y=>{if(y.preventDefault(),!d.customerId){alert("Ltfen bir mteri seiniz.");return}r(d)};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in-95 duration-200 border border-slate-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800 sticky top-0 bg-white dark:bg-slate-900 z-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Yeni Proje Olutur"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Proje bilgilerini girin"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Proje Ad *"}),s.jsx("input",{required:!0,type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white",value:d.name,onChange:y=>u({...d,name:y.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Mteri *"}),s.jsxs("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white",value:d.customerId,onChange:y=>{const g=i.find(v=>v.id===y.target.value);u({...d,customerId:y.target.value,customer:(g==null?void 0:g.name)||""})},children:[s.jsx("option",{value:"",children:o?"Ykleniyor...":"Mteri Seiniz..."}),i.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Aklama"}),s.jsx("textarea",{rows:3,placeholder:"Proje hakknda detayl aklama...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all resize-none bg-white dark:bg-slate-950 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600",value:d.description,onChange:y=>u({...d,description:y.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Durum"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white",value:d.status,onChange:y=>u({...d,status:y.target.value}),children:[s.jsx("option",{value:"Planlama",children:"Planlama"}),s.jsx("option",{value:"Devam Ediyor",children:"Devam Ediyor"}),s.jsx("option",{value:"Tamamland",children:"Tamamland"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"ncelik"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white",value:d.priority,onChange:y=>u({...d,priority:y.target.value}),children:[s.jsx("option",{value:"dk",children:"dk"}),s.jsx("option",{value:"orta",children:"orta"}),s.jsx("option",{value:"yksek",children:"yksek"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Balang Tarihi"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white",value:d.startDate,onChange:y=>u({...d,startDate:y.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Biti Tarihi"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white",value:d.endDate,onChange:y=>u({...d,endDate:y.target.value})})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Proje Ekibi / Atanan Personeller"}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white",onChange:y=>{y.target.value&&!d.team.includes(y.target.value)&&u({...d,team:[...d.team,y.target.value]}),y.target.value=""},children:[s.jsx("option",{value:"",children:o?"Ykleniyor...":"Personel Seiniz..."}),a.map(y=>s.jsx("option",{value:y.id,children:y.full_name},y.id))]})}),d.team.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2 p-2 bg-gray-50 dark:bg-slate-800/50 rounded-lg border border-gray-100 dark:border-slate-800",children:d.team.map((y,g)=>{const v=a.find(w=>w.id===y);return s.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-800 px-2 py-1 rounded-md border border-gray-200 dark:border-slate-700 text-sm text-gray-700 dark:text-slate-300 shadow-sm",children:[s.jsx("span",{children:(v==null?void 0:v.full_name)||"Bilinmeyen"}),s.jsx("button",{type:"button",onClick:()=>u({...d,team:d.team.filter(w=>w!==y)}),className:"text-gray-400 hover:text-red-500",children:s.jsx(Ee,{className:"w-3 h-3"})})]},g)})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Projeyi Kim Getirdi?"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white",value:d.assignee,onChange:y=>u({...d,assignee:y.target.value}),children:[s.jsx("option",{value:"",children:o?"Ykleniyor...":"Seiniz..."}),a.map(y=>s.jsx("option",{value:y.id,children:y.full_name},y.id))]})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-50 dark:border-slate-800",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Proje Dosyalar / Linkler"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Balk (rn: Figma)",className:"w-1/3 px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white dark:bg-slate-950 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600",value:h.label,onChange:y=>f({...h,label:y.target.value})}),s.jsx("input",{type:"url",placeholder:"https://...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white dark:bg-slate-950 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600",value:h.url,onChange:y=>f({...h,url:y.target.value})}),s.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-slate-900 rounded-lg text-sm font-medium hover:bg-gray-800 dark:hover:bg-gray-100",children:"Ekle"})]}),d.links&&d.links.length>0&&s.jsx("div",{className:"space-y-2 mt-2",children:d.links.map((y,g)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-slate-800/50 rounded-lg border border-gray-100 dark:border-slate-800 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[s.jsxs("span",{className:"font-semibold text-gray-700 dark:text-slate-300 whitespace-nowrap",children:[y.label,":"]}),s.jsx("a",{href:y.url,target:"_blank",rel:"noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline truncate",children:y.url})]}),s.jsx("button",{type:"button",onClick:()=>x(g),className:"text-gray-400 hover:text-red-500",children:s.jsx(Ee,{className:"w-4 h-4"})})]},g))})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-green-700 dark:text-green-500 flex items-center gap-1",children:"ANLAILAN FYAT ()"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-slate-900 dark:text-white",value:d.price,onChange:y=>u({...d,price:y.target.value})})]}),s.jsxs("div",{className:"pt-4 flex gap-3 justify-end border-t border-gray-100 dark:border-slate-800 mt-6",children:[s.jsx(U,{type:"button",variant:"secondary",onClick:t,className:"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-300",children:"ptal"}),s.jsx(U,{type:"submit",className:"bg-[#6366f1] hover:bg-[#4f46e5] shadow-indigo-200 dark:shadow-indigo-900/40 text-white",children:"Proje Olutur"})]})]})]})})}function uC({isOpen:e,onClose:t,project:r,onDelete:a,onUpdate:n}){var ne;const{user:i}=Le(),[l,o]=m.useState("overview"),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState(!1),[x,b]=m.useState([]),[y,g]=m.useState([]),[v,w]=m.useState([]),[j,k]=m.useState([]),[_,N]=m.useState([]),[E,T]=m.useState(""),[A,R]=m.useState({name:"",url:"",type:"link"}),[C,G]=m.useState(""),X=m.useRef(null);if(m.useEffect(()=>{if(e&&r){o("overview"),b([]),g([]),w([]),h({...r,startDate:r.start_date?r.start_date.split("T")[0]:"",endDate:r.end_date?r.end_date.split("T")[0]:"",team_ids:r.team_ids||[]}),d(!1),(async()=>{p(!0);const{data:ce}=await z.from("clients").select("id, name"),{data:ae}=await z.from("profiles").select("id, full_name, avatar_url");N(ce||[]),k(ae||[]);const{data:Bt}=await z.from("project_subtasks").select("*").eq("project_id",r.id).order("created_at");b(Bt||[]);const{data:yr}=await z.from("project_files").select("*").eq("project_id",r.id).order("created_at",{ascending:!1});g(yr||[]);const{data:Jn}=await z.from("project_activity").select("*, profiles(full_name)").eq("project_id",r.id).order("created_at",{ascending:!0});w(Jn||[]),p(!1)})();const se=z.channel(`project-${r.id}`).on("postgres_changes",{event:"*",schema:"public",filter:`project_id=eq.${r.id}`},ce=>{}).subscribe();return()=>{z.removeChannel(se)}}},[e,r]),m.useEffect(()=>{l==="activity"&&X.current&&(X.current.scrollTop=X.current.scrollHeight)},[v,l]),!e||!r||!u)return null;const $=()=>{n({...u,start_date:u.startDate?new Date(u.startDate).toISOString():null,end_date:u.endDate?new Date(u.endDate).toISOString():null,price:typeof u.price=="string"?parseFloat(u.price.replace(/\./g,"").replace(",","."))||0:parseFloat(u.price)||0}),d(!1),M("Proje bilgilerini gncelledi.")},M=async(V,se="log")=>{if(!i)return;const{error:ce}=await z.from("project_activity").insert({project_id:r.id,user_id:i.id,message:V,type:se});if(!ce){const ae={id:Date.now(),project_id:r.id,user_id:i.id,message:V,type:se,created_at:new Date().toISOString(),profiles:{full_name:"Ben"}};w([...v,ae])}},W=async V=>{if(V.preventDefault(),!E.trim())return;const{data:se,error:ce}=await z.from("project_subtasks").insert({project_id:r.id,title:E,is_completed:!1}).select().single();!ce&&se&&(b([...x,se]),T(""),M(`Yeni grev ekledi: ${E}`))},S=async V=>{const{error:se}=await z.from("project_subtasks").update({is_completed:!V.is_completed}).eq("id",V.id);se||b(x.map(ce=>ce.id===V.id?{...ce,is_completed:!ce.is_completed}:ce))},L=async V=>{await z.from("project_subtasks").delete().eq("id",V),b(x.filter(se=>se.id!==V))},K=async V=>{if(V.preventDefault(),!A.url||!A.name)return;const{data:se,error:ce}=await z.from("project_files").insert({project_id:r.id,name:A.name,url:A.url,type:A.type,uploaded_by:i==null?void 0:i.id}).select().single();!ce&&se&&(g([se,...y]),R({name:"",url:"",type:"link"}),M(`Yeni dosya ekledi: ${A.name}`))},P=async V=>{await z.from("project_files").delete().eq("id",V),g(y.filter(se=>se.id!==V))},O=async V=>{V.preventDefault(),C.trim()&&(await M(C,"comment"),G(""))},F=V=>{switch(V){case"Devam Ediyor":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"Tamamland":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30";case"Hazrlk":case"Planlama":return"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30";default:return"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300"}},D=()=>{var V,se,ce;return s.jsx("div",{className:"space-y-6 animate-in fade-in duration-300",children:c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Proje Ad"}),s.jsx("input",{className:"w-full input-primary",value:u.name,onChange:ae=>h({...u,name:ae.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:"Mteri"}),s.jsxs("select",{className:"w-full input-primary",value:u.client_id,onChange:ae=>h({...u,client_id:ae.target.value}),children:[s.jsx("option",{value:"",children:"Seiniz..."}),_.map(ae=>s.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:"Durum"}),s.jsxs("select",{className:"w-full input-primary",value:u.status,onChange:ae=>h({...u,status:ae.target.value}),children:[s.jsx("option",{children:"Hazrlk"}),s.jsx("option",{children:"Devam Ediyor"}),s.jsx("option",{children:"Tamamland"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:"Aklama"}),s.jsx("textarea",{rows:3,className:"w-full input-primary resize-none",value:u.description,onChange:ae=>h({...u,description:ae.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:"Balang"}),s.jsx("input",{type:"date",className:"w-full input-primary",value:u.startDate,onChange:ae=>h({...u,startDate:ae.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:"Biti"}),s.jsx("input",{type:"date",className:"w-full input-primary",value:u.endDate,onChange:ae=>h({...u,endDate:ae.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:"Bte ()"}),s.jsx("input",{type:"text",className:"w-full input-primary",value:u.price,onChange:ae=>h({...u,price:ae.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label-text",children:"Ekip"}),s.jsxs("select",{className:"w-full input-primary",onChange:ae=>{ae.target.value&&!u.team_ids.includes(ae.target.value)&&h({...u,team_ids:[...u.team_ids,ae.target.value]}),ae.target.value=""},children:[s.jsx("option",{value:"",children:"Personel Ekle..."}),j.map(ae=>s.jsx("option",{value:ae.id,children:ae.full_name},ae.id))]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.team_ids.map(ae=>{var Bt;return s.jsxs("div",{className:"badge-chip",children:[(Bt=j.find(yr=>yr.id===ae))==null?void 0:Bt.full_name,s.jsx(Ee,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>h({...u,team_ids:u.team_ids.filter(yr=>yr!==ae)})})]},ae)})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(U,{variant:"ghost",onClick:()=>d(!1),children:"ptal"}),s.jsx(U,{onClick:$,children:"Kaydet"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[s.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Proje Bilgileri"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Mteri:"}),s.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:((V=r.clients)==null?void 0:V.name)||"Yok"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Ynetici:"}),s.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:((se=j.find(ae=>ae.id===r.manager_id))==null?void 0:se.full_name)||"-"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Tarihler:"}),s.jsxs("p",{className:"font-semibold text-slate-900 dark:text-white text-sm",children:[r.start_date?le(ue(r.start_date),"d MMM",{locale:Fe}):"?"," -",r.end_date?le(ue(r.end_date),"d MMM yyyy",{locale:Fe}):"?"]})]})]})]}),s.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800",children:[s.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Finans & Durum"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("span",{className:B("px-2.5 py-1 rounded-lg text-xs font-bold border",F(r.status)),children:r.status})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Bte:"}),s.jsxs("p",{className:"text-xl font-black text-emerald-600 dark:text-emerald-400",children:["",(ce=r.price)==null?void 0:ce.toLocaleString()]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Aklama"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl",children:r.description||"Aklama yok."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Proje Ekibi"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(r.team_ids||[]).map(ae=>{var Bt,yr,Jn;return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-sm",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-violet-100 dark:bg-violet-900 text-violet-600 dark:text-violet-300 flex items-center justify-center text-xs font-bold",children:((yr=(Bt=j.find(ho=>ho.id===ae))==null?void 0:Bt.full_name)==null?void 0:yr.charAt(0))||"U"}),s.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:(Jn=j.find(ho=>ho.id===ae))==null?void 0:Jn.full_name})]},ae)})})]})]})})},I=()=>s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.jsxs("form",{onSubmit:W,className:"flex gap-2",children:[s.jsx("input",{autoFocus:!0,placeholder:"Yeni bir grev ekle...",className:"flex-1 input-primary",value:E,onChange:V=>T(V.target.value)}),s.jsxs(U,{type:"submit",disabled:!E.trim(),children:[s.jsx($e,{className:"w-4 h-4 mr-2"})," Ekle"]})]}),s.jsx("div",{className:"space-y-1",children:x.length===0?s.jsxs("div",{className:"text-center py-10 text-slate-400 dark:text-slate-600",children:[s.jsx(ef,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Henz i maddesi eklenmemi."})]}):x.map(V=>s.jsxs("div",{className:"flex items-start gap-3 p-3 group hover:bg-slate-50 dark:hover:bg-slate-900/50 rounded-lg transition-colors",children:[s.jsx("button",{onClick:()=>S(V),className:B("mt-0.5 w-5 h-5 rounded border flex items-center justify-center transition-all",V.is_completed?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-600 hover:border-violet-500 text-transparent"),children:s.jsx(et,{className:"w-3.5 h-3.5"})}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:B("text-sm transition-all",V.is_completed?"text-slate-400 line-through":"text-slate-800 dark:text-slate-200"),children:V.title})}),s.jsx("button",{onClick:()=>L(V.id),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-red-500 transition-opacity",children:s.jsx(yt,{className:"w-4 h-4"})})]},V.id))})]}),J=()=>s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[s.jsxs("form",{onSubmit:K,className:"bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{placeholder:"Dosya Ad (rn: Szleme)",className:"input-primary text-sm",value:A.name,onChange:V=>R({...A,name:V.target.value})}),s.jsxs("select",{className:"input-primary text-sm",value:A.type,onChange:V=>R({...A,type:V.target.value}),children:[s.jsx("option",{value:"link",children:"Harici Link"}),s.jsx("option",{value:"drive",children:"Google Drive"}),s.jsx("option",{value:"figma",children:"Figma"}),s.jsx("option",{value:"file",children:"Dosya"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{placeholder:"URL veya Dosya Linki",className:"flex-1 input-primary text-sm",value:A.url,onChange:V=>R({...A,url:V.target.value})}),s.jsx(U,{type:"submit",size:"sm",disabled:!A.url,children:"Ekle"})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:y.length===0?s.jsxs("div",{className:"text-center py-10 text-slate-400 dark:text-slate-600",children:[s.jsx(af,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Dosya bulunmuyor."})]}):y.map(V=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 hover:shadow-sm transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-600 flex items-center justify-center",children:V.type==="link"?s.jsx(TN,{className:"w-5 h-5"}):s.jsx(qr,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:V.name}),s.jsx("a",{href:V.url,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-500 hover:underline max-w-[200px] truncate block opacity-80",children:V.url})]})]}),s.jsx("button",{onClick:()=>P(V.id),className:"text-slate-400 hover:text-red-500 p-2",children:s.jsx(yt,{className:"w-4 h-4"})})]},V.id))})]}),Y=()=>s.jsxs("div",{className:"flex flex-col h-[500px] animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 p-2",ref:X,children:[v.length===0&&s.jsxs("div",{className:"text-center py-20 text-slate-400 dark:text-slate-600",children:[s.jsx(rf,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Henz bir aktivite yok."})]}),v.map(V=>{var ae,Bt;const se=V.type==="log",ce=V.user_id===(i==null?void 0:i.id);return se?s.jsxs("div",{className:"flex items-center justify-center gap-2 my-4",children:[s.jsx("div",{className:"h-px w-8 bg-slate-200 dark:bg-slate-800"}),s.jsxs("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:[V.message,"  ",le(ue(V.created_at),"HH:mm")]}),s.jsx("div",{className:"h-px w-8 bg-slate-200 dark:bg-slate-800"})]},V.id):s.jsxs("div",{className:B("flex gap-3 max-w-[85%]",ce?"ml-auto flex-row-reverse":""),children:[s.jsx("div",{className:B("w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold shrink-0",ce?"bg-violet-600 text-white":"bg-slate-200 text-slate-600"),children:((Bt=(ae=V.profiles)==null?void 0:ae.full_name)==null?void 0:Bt.charAt(0))||"?"}),s.jsxs("div",{className:B("p-3 rounded-2xl text-sm",ce?"bg-violet-600 text-white rounded-tr-none":"bg-slate-100 dark:bg-slate-800 text-slate-800 dark:text-slate-200 rounded-tl-none"),children:[s.jsx("p",{children:V.message}),s.jsx("span",{className:B("text-[10px] block mt-1 opacity-70",ce?"text-violet-200":"text-slate-400"),children:le(ue(V.created_at),"HH:mm",{locale:Fe})})]})]},V.id)})]}),s.jsxs("form",{onSubmit:O,className:"pt-4 border-t border-slate-100 dark:border-slate-800 flex gap-2",children:[s.jsx("input",{placeholder:"Yorum yaz...",className:"flex-1 input-primary",value:C,onChange:V=>G(V.target.value)}),s.jsx(U,{type:"submit",size:"icon",className:"bg-violet-600",children:s.jsx($N,{className:"w-4 h-4"})})]})]});return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl w-full max-w-2xl h-[85vh] flex flex-col border border-slate-200 dark:border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-black text-gray-900 dark:text-white flex items-center gap-2",children:[r.name,!c&&s.jsx(Kn,{className:"w-4 h-4 text-slate-400 cursor-pointer hover:text-violet-600",onClick:()=>d(!0)})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-0.5",children:(ne=r.clients)==null?void 0:ne.name})]}),s.jsxs("div",{className:"flex gap-2",children:[!c&&s.jsx(U,{variant:"ghost",size:"icon",className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{confirm("Sil?")&&a(r.id)},children:s.jsx(yt,{className:"w-5 h-5"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(Ee,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex items-center gap-1 px-6 border-b border-gray-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:[{id:"overview",label:"Genel Bak",icon:Pl},{id:"tasks",label:" Listesi",icon:ef},{id:"files",label:"Dosyalar",icon:af},{id:"activity",label:"Gnlk",icon:rf}].map(V=>{const se=V.icon,ce=l===V.id;return s.jsxs("button",{onClick:()=>o(V.id),className:B("flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all relative",ce?"text-violet-600 dark:text-violet-400":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"),children:[s.jsx(se,{className:"w-4 h-4"}),V.label,ce&&s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-violet-600 dark:bg-violet-400 rounded-t-full"})]},V.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin",children:f?s.jsx("div",{className:"text-center py-20 text-slate-400",children:"Ykleniyor..."}):s.jsxs(s.Fragment,{children:[l==="overview"&&D(),l==="tasks"&&I(),l==="files"&&J(),l==="activity"&&Y()]})})]})})}function hC(){const[e,t]=m.useState([]),[r,a]=m.useState(!0),{user:n,isAdmin:i}=Le(),[l,o]=m.useState("Tm"),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState(""),[x,b]=m.useState("Tm Durumlar"),[y,g]=m.useState({total:0,ongoing:0,completed:0,planning:0}),v=async()=>{try{a(!0);const{data:E,error:T}=await z.from("projects").select("*, clients(name)");if(T)throw T;const A=(E||[]).map(C=>{var G;return{...C,customer:((G=C.clients)==null?void 0:G.name)||"Bilinmiyor"}});t(A);const R={total:A.length,ongoing:A.filter(C=>C.status==="Devam Ediyor").length,completed:A.filter(C=>C.status==="Tamamland").length,planning:A.filter(C=>C.status==="Hazrlk"||C.status==="Planlama").length};g(R)}catch(E){console.error("Projects fetch error:",E)}finally{a(!1)}};m.useEffect(()=>{n&&v()},[n]);const w=async E=>{try{let T=null;const{data:A}=await z.from("clients").select("id").eq("name",E.customer).single();if(A)T=A.id;else{const{data:G,error:X}=await z.from("clients").insert({name:E.customer,type:"Normal",status:"Aktif"}).select().single();X||(T=G.id)}const R={name:E.name,client_id:T,status:E.status,price:parseFloat(E.price)||0,description:E.description,start_date:E.startDate?new Date(E.startDate).toISOString():null,end_date:E.endDate?new Date(E.endDate).toISOString():null,manager_id:E.assignee||null,team_ids:E.team||[]},{error:C}=await z.from("projects").insert(R);if(C)throw C;alert("Proje oluturuldu."),d(!1),v()}catch(T){console.error("Create project error:",T),alert("Hata: "+T.message)}},j=async E=>{try{const{error:T}=await z.from("projects").delete().eq("id",E);if(T)throw T;v()}catch(T){alert("Silme hatas: "+T.message)}},k=async E=>{try{const{error:T}=await z.from("projects").update({status:E.status}).eq("id",E.id);if(T)throw T;v()}catch(T){console.error(T)}},_=E=>{switch(E){case"Devam Ediyor":return"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-400 border-amber-200 dark:border-amber-900/50";case"Tamamland":return"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-400 border-emerald-200 dark:border-emerald-900/50";case"Planlama":case"Hazrlk":return"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-400 border-indigo-200 dark:border-indigo-900/50";default:return"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-400 border-slate-200 dark:border-slate-700"}},N=e.filter(E=>{const T=E.customer||"",A=E.name.toLowerCase().includes(f.toLowerCase())||T.toLowerCase().includes(f.toLowerCase()),R=E.status==="Hazrlk"?"Planlama":E.status;return A&&(x==="Tm Durumlar"||R===x)});return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Projeler"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium",children:"Tm projeleri buradan takip et ve ynet."})]}),s.jsxs(U,{onClick:()=>d(!0),className:"bg-violet-600 hover:bg-violet-700 text-white shadow-lg shadow-violet-500/20 dark:shadow-violet-900/40",children:[s.jsx($e,{className:"w-4 h-4 mr-2"})," Yeni Proje"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border dark:border-slate-800 shadow-sm hover:shadow-md transition-all bg-violet-50 dark:bg-violet-900/20 border-violet-100 dark:border-violet-900/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Toplam Proje"}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:y.total})]}),s.jsx("div",{className:"p-3 bg-white dark:bg-slate-950/30 rounded-xl shadow-sm",children:s.jsx(Sd,{className:"w-6 h-6 text-violet-600 dark:text-violet-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border dark:border-slate-800 shadow-sm hover:shadow-md transition-all bg-amber-50 dark:bg-amber-900/20 border-amber-100 dark:border-amber-900/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Devam Eden"}),s.jsx("h3",{className:"text-2xl font-bold",children:y.ongoing})]}),s.jsx("div",{className:"p-3 bg-white/50 rounded-xl",children:s.jsx(Ut,{className:"w-6 h-6 text-amber-600"})})]})}),s.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border dark:border-slate-800 shadow-sm hover:shadow-md transition-all bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-900/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Tamamlanan"}),s.jsx("h3",{className:"text-2xl font-bold",children:y.completed})]}),s.jsx("div",{className:"p-3 bg-white/50 rounded-xl",children:s.jsx(et,{className:"w-6 h-6 text-emerald-600"})})]})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Proje veya mteri ara...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600",value:f,onChange:E=>p(E.target.value)})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Yu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500 w-4 h-4"}),s.jsxs("select",{className:"pl-10 pr-8 py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 bg-white dark:bg-slate-900 font-medium text-slate-700 dark:text-slate-200 appearance-none cursor-pointer",value:x,onChange:E=>b(E.target.value),children:[s.jsx("option",{children:"Tm Durumlar"}),s.jsx("option",{children:"Devam Ediyor"}),s.jsx("option",{children:"Planlama"}),s.jsx("option",{children:"Tamamland"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r?s.jsx("div",{className:"col-span-full flex justify-center py-20",children:s.jsx(st,{className:"w-8 h-8 animate-spin text-violet-600"})}):N.map(E=>{var T;return s.jsxs("div",{onClick:()=>h(E),className:"group bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-6 hover:shadow-xl hover:border-violet-200 dark:hover:border-violet-900 transition-all duration-300 cursor-pointer relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-violet-500 scale-y-0 group-hover:scale-y-100 transition-transform duration-300 origin-top"}),s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"flex gap-2",children:s.jsx("span",{className:B("px-2.5 py-1 rounded-lg text-xs font-bold border",_(E.status)),children:E.status})}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-400 dark:text-slate-500 group-hover:bg-violet-100 dark:group-hover:bg-violet-900/30 group-hover:text-violet-600 dark:group-hover:text-violet-400 transition-colors",children:s.jsx(Pa,{className:"w-4 h-4"})})]}),s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1 group-hover:text-violet-700 dark:group-hover:text-violet-400 transition-colors",children:E.name}),s.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-5 font-medium flex items-center gap-2",children:[s.jsx(at,{className:"w-3.5 h-3.5"}),E.customer]}),s.jsx("div",{className:"space-y-3 pt-4 border-t border-slate-100 dark:border-slate-800",children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-slate-400 dark:text-slate-500 font-medium",children:"Bte"}),s.jsxs("span",{className:"font-bold text-slate-900 dark:text-white",children:["",(T=E.price)==null?void 0:T.toLocaleString()]})]})})]},E.id)})}),s.jsx(dC,{isOpen:c,onClose:()=>d(!1),onSubmit:w}),s.jsx(uC,{isOpen:!!u,onClose:()=>h(null),project:u,onDelete:j,onUpdate:k})]})}function fC({isOpen:e,onClose:t,staff:r}){const[a,n]=m.useState("overview");return!e||!r?null:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl w-full max-w-lg h-[80vh] flex flex-col border border-slate-200 dark:border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:"Personel Detay"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Personel bilgilerini grntleyin"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex items-center gap-1 px-6 border-b border-gray-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:[{id:"overview",label:"Profil",icon:Zt}].map(i=>{const l=i.icon,o=a===i.id;return s.jsxs("button",{onClick:()=>n(i.id),className:B("flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all relative",o?"text-blue-600 dark:text-blue-400":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"),children:[s.jsx(l,{className:"w-4 h-4"}),i.label,o&&s.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 dark:bg-blue-400 rounded-t-full"})]},i.id)})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin",children:s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:B("w-20 h-20 rounded-2xl flex items-center justify-center text-white text-2xl font-black shadow-lg shadow-blue-500/20",r.avatarColor||"bg-blue-600"),children:r.name.split(" ").map(i=>i[0]).join("").substring(0,2).toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white",children:r.name}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-lg text-[10px] font-black bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 uppercase tracking-wider",children:r.role})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-6 p-6 bg-gray-50 dark:bg-slate-800/50 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Ad Soyad"}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:r.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"E-posta"}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white break-words",children:r.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Rol"}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white font-mono",children:r.role})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Kayt Tarihi"}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:r.joinedDate})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"IBAN Bilgisi"}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white font-mono",children:r.iban||"-"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Adres"}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase",children:r.address||"-"})]})]})]})})]})})}function mC(){const[e,t]=m.useState("Tm"),[r,a]=m.useState(""),[n,i]=m.useState(null),[l,o]=m.useState([]),[c,d]=m.useState(!0),{user:u}=Le(),h=async()=>{try{d(!0);const{data:x,error:b}=await z.from("profiles").select("*").order("created_at",{ascending:!1});if(b)throw b;const y=x.map(g=>({id:g.id,name:g.full_name||"simsiz",email:g.email||"-",role:g.role||"Mhendis",team:g.team||null,joinedDate:g.created_at?le(ue(g.created_at),"dd.MM.yyyy"):"-",address:g.address||"",phone:g.phone||"",avatarColor:f(g.role)}));o(y)}catch(x){console.error("Staff fetch error:",x)}finally{d(!1)}};m.useEffect(()=>{u&&h()},[u]);const f=x=>x==="Ynetici"?"bg-gradient-to-br from-purple-500 to-indigo-600":"bg-gradient-to-br from-blue-500 to-cyan-600",p=l.filter(x=>{const b=x.name||"",y=x.email||"",g=b.toLowerCase().includes(r.toLowerCase())||y.toLowerCase().includes(r.toLowerCase());return e==="Tm"?g:g&&x.role===e});return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Personeller"}),s.jsx("p",{className:"text-gray-500 dark:text-slate-400 mt-1",children:"Kullanc Ynetimi'nden eklenen tm personeller"})]})}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center justify-between transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-slate-400",children:"Toplam Personel"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:p.length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-50 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400",children:s.jsx(gr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-gray-100 dark:border-slate-800 shadow-sm space-y-4 transition-colors",children:[s.jsx("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Personel ara (isim, email, rol)...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:r,onChange:x=>a(x.target.value)})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-500 dark:text-slate-400",children:[s.jsx(Yu,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Rol Filtresi"})]}),["Tm","Ynetici","Mhendis"].map(x=>s.jsx(U,{onClick:()=>t(x),variant:e===x?"default":"ghost",size:"sm",className:B("h-8 transition-all",e===x?"bg-[#6366f1] text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"),children:x},x))]})]}),c?s.jsx("div",{className:"flex justify-center py-20",children:s.jsx(st,{className:"w-8 h-8 animate-spin text-violet-600"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.map(x=>s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-100 dark:border-slate-800 p-6 shadow-sm hover:shadow-md transition-all",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:B("w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg",x.avatarColor),children:x.name.split(" ").map(b=>b[0]).join("").substring(0,2).toUpperCase()}),s.jsx("div",{children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:x.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-slate-400",children:x.role}),x.team&&s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border border-blue-100 dark:border-blue-900/50",children:x.team})]})]})})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-slate-400",children:[s.jsx(Bx,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),s.jsx("span",{className:"truncate",children:x.email})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-slate-400",children:[s.jsx(at,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),s.jsx("span",{children:x.role})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-slate-400",children:[s.jsx(Xt,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),s.jsx("span",{children:x.joinedDate})]}),x.address&&s.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-600 dark:text-slate-400",children:[s.jsx(Qu,{className:"w-4 h-4 text-gray-400 dark:text-slate-500 mt-0.5"}),s.jsx("span",{className:"line-clamp-2",children:x.address})]})]}),s.jsxs(U,{variant:"outline",onClick:()=>i(x),className:"w-full gap-2 border-gray-200 dark:border-slate-800 text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-800",children:[s.jsx(Pa,{className:"w-4 h-4"}),"Grntle"]})]},x.id)),p.length===0&&!c&&s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:"Personel bulunamad."})})]}),s.jsx(fC,{isOpen:!!n,onClose:()=>i(null),staff:n})]})}const gC="https://generativelanguage.googleapis.com/v1beta";async function Xv(e,t,r){var l,o,c,d,u;const a=r==null?void 0:r.trim();if(!a)throw new Error("API Key is missing.");const i=await(await fetch(`${gC}/models/${e}?key=${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();if(i.error)throw console.error("Gemini API Error:",i.error),new Error(i.error.message||"AI Service Error");return(u=(d=(c=(o=(l=i.candidates)==null?void 0:l[0])==null?void 0:o.content)==null?void 0:c.parts)==null?void 0:d[0])==null?void 0:u.text}async function pC(e,t){const r=`
    Role: Professional Project Estimator
    Task: Create 3-6 line items for a proposal based on this description: "${e}"
    Output: JSON Array ONLY. No markdown.
    Schema: [{ "description": string, "quantity": number, "unit_price": number }]
    Currency: TRY (Turkish Lira context)
  `,a="gemini-1.5-flash";console.log(`[AI] Generating proposal items with ${a}...`);const n=await Xv(`${a}:generateContent`,{contents:[{parts:[{text:r}]}],generationConfig:{temperature:.7,maxOutputTokens:1024}},t);if(!n)throw new Error("AI returned no content.");const i=n.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(i)}async function xC(e,t){const r=`
    Analyze meeting notes and extract actionable tasks.
    Output: JSON Array of strings.
    Example: ["Email client", "Update UI"]
    Notes: "${e}"
  `,a=await Xv("gemini-1.5-flash:generateContent",{contents:[{parts:[{text:r}]}],generationConfig:{temperature:.2}},t);if(!a)throw new Error("AI returned no content.");const n=a.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(n)}function vC({proposalId:e,onClose:t,onUpdate:r}){var _;const[a,n]=m.useState(null),[i,l]=m.useState([]),[o,c]=m.useState(!0),[d,u]=m.useState([]),[h,f]=m.useState(!1),[p,x]=m.useState({description:"",quantity:1,unit_price:0});m.useEffect(()=>{b()},[e]);const b=async()=>{c(!0);const{data:N,error:E}=await z.from("proposals").select("*").eq("id",e).single();if(E){console.error("Teklif yklenemedi:",E),alert("Teklif yklenemedi: "+E.message),t();return}const{data:T}=await z.from("proposal_items").select("*").eq("proposal_id",e).order("id"),{data:A}=await z.from("clients").select("id, name");n(N),l(T||[]),u(A||[]),c(!1)},y=async()=>{let N=localStorage.getItem("gemini_api_key");if(!N)if(N=prompt(`Ltfen Google Gemini API Anahtarnz giriniz:
(Taraycnza kaydedilecektir)`),N)localStorage.setItem("gemini_api_key",N);else return;const E=prompt(`Nasl bir proje iin teklif hazrlamak istiyorsunuz?
rn: E-ticaret sitesi, Mobil Uygulama, Logo Tasarm`);if(E){f(!0);try{const T=await pC(E,N),A=[];for(const C of T){const{data:G}=await z.from("proposal_items").insert({proposal_id:e,description:C.description,quantity:C.quantity,unit_price:C.unit_price}).select().single();G&&A.push(G)}const R=[...i,...A];l(R),w(R),alert("AI baaryla "+A.length+" kalem oluturdu!")}catch(T){alert("AI Hatas: "+T.message),T.message.includes("API Key")&&localStorage.removeItem("gemini_api_key")}finally{f(!1)}}},g=async()=>{if(!p.description)return;const{data:N,error:E}=await z.from("proposal_items").insert({proposal_id:e,description:p.description,quantity:p.quantity,unit_price:p.unit_price}).select().single();N&&(l([...i,N]),x({description:"",quantity:1,unit_price:0}),w(i.concat(N)))},v=async N=>{await z.from("proposal_items").delete().eq("id",N);const E=i.filter(T=>T.id!==N);l(E),w(E)},w=async N=>{const E=N.reduce((T,A)=>T+A.unit_price*A.quantity,0);await z.from("proposals").update({total_amount:E}).eq("id",e),n({...a,total_amount:E}),r&&r()},j=()=>{const N=`${window.location.origin}/proposal/${a.access_token}`;navigator.clipboard.writeText(N),alert(`Mteri linki kopyaland! WhatsApp'tan atabilirsiniz.
`+N)},k=async()=>{if(confirm("Bu teklifi Projeye dntrmek istediinize emin misiniz?"))try{const{data:N,error:E}=await z.from("projects").insert({name:a.title,client_id:a.client_id,price:a.total_amount*(1+a.tax_rate/100),status:"Hazrlk",description:`Teklif No: #${a.proposal_number} referansyla oluturuldu.`,start_date:new Date().toISOString()}).select().single();if(E)throw E;await z.from("proposals").update({status:"Onayland"}).eq("id",e),alert("Baarl! Proje oluturuldu."),t(),r&&r()}catch(N){alert("Hata: "+N.message)}};return a?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-4xl h-[90vh] rounded-2xl flex flex-col items-center shadow-2xl overflow-hidden border border-slate-200 dark:border-slate-800",children:[s.jsxs("div",{className:"w-full p-6 border-b border-gray-100 dark:border-slate-800 flex justify-between items-center bg-white dark:bg-slate-900",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-black text-gray-900 dark:text-white flex items-center gap-2",children:["Teklif Dzenleyici",s.jsxs("span",{className:"text-xs bg-violet-100 text-violet-700 px-2 py-1 rounded-full uppercase tracking-wider",children:["#",a.proposal_number]})]}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Hizmetleri ekleyin ve mteriye gnderin."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(U,{variant:"outline",onClick:y,disabled:h,className:"border-indigo-200 text-indigo-600 hover:bg-indigo-50",children:[h?s.jsx(st,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(FN,{className:"w-4 h-4 mr-2"}),"AI Sihirbaz"]}),s.jsxs(U,{variant:"ghost",onClick:j,className:"text-blue-600 hover:bg-blue-50",children:[s.jsx(tf,{className:"w-4 h-4 mr-2"})," Linki Kopyala"]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(Ee,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-1 w-full overflow-hidden flex flex-col md:flex-row",children:[s.jsxs("div",{className:"flex-1 p-6 overflow-y-auto space-y-8 bg-slate-50 dark:bg-slate-950/50",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm uppercase tracking-wide",children:"Temel Bilgiler"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"Balk"}),s.jsx("input",{className:"w-full p-2 rounded border border-gray-300 dark:border-slate-700 bg-transparent text-sm",value:a.title,onChange:async N=>{n({...a,title:N.target.value})},onBlur:async()=>await z.from("proposals").update({title:a.title}).eq("id",a.id)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"Mteri"}),s.jsxs("select",{className:"w-full p-2 rounded border border-gray-300 dark:border-slate-700 bg-transparent text-sm",value:a.client_id||"",onChange:async N=>{n({...a,client_id:N.target.value}),await z.from("proposals").update({client_id:N.target.value}).eq("id",a.id)},children:[s.jsx("option",{value:"",children:"Seiniz"}),d.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"Para Birimi"}),s.jsxs("select",{className:"w-full p-2 rounded border border-gray-300 dark:border-slate-700 bg-transparent text-sm",value:a.currency,onChange:async N=>{n({...a,currency:N.target.value}),await z.from("proposals").update({currency:N.target.value}).eq("id",a.id)},children:[s.jsx("option",{value:"TRY",children:"TRY"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"EUR",children:"EUR"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-gray-500 mb-1 block",children:"KDV Oran (%)"}),s.jsx("input",{className:"w-full p-2 rounded border border-gray-300 dark:border-slate-700 bg-transparent text-sm",type:"number",value:a.tax_rate,onChange:async N=>{n({...a,tax_rate:N.target.value})},onBlur:async()=>await z.from("proposals").update({tax_rate:a.tax_rate}).eq("id",a.id)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm uppercase tracking-wide",children:"Hizmet Kalemleri"})}),s.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"bg-slate-100 dark:bg-slate-800 text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Hizmet"}),s.jsx("th",{className:"p-3 w-20 text-center",children:"Adet"}),s.jsx("th",{className:"p-3 w-32 text-right",children:"Fiyat"}),s.jsx("th",{className:"p-3 w-32 text-right",children:"Toplam"}),s.jsx("th",{className:"p-3 w-10"})]})}),s.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[i.map(N=>s.jsxs("tr",{className:"group hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[s.jsx("td",{className:"p-3 font-medium",children:N.description}),s.jsx("td",{className:"p-3 text-center",children:N.quantity}),s.jsx("td",{className:"p-3 text-right",children:N.unit_price}),s.jsx("td",{className:"p-3 text-right font-bold",children:(N.quantity*N.unit_price).toLocaleString()}),s.jsx("td",{className:"p-3 text-center",children:s.jsx("button",{onClick:()=>v(N.id),className:"text-slate-300 hover:text-red-500",children:s.jsx(yt,{className:"w-4 h-4"})})})]},N.id)),s.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-950",children:[s.jsx("td",{className:"p-2",children:s.jsx("input",{placeholder:"Yeni hizmet...",className:"w-full bg-transparent p-1 outline-none",value:p.description,onChange:N=>x({...p,description:N.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",className:"w-full bg-transparent p-1 outline-none text-center",value:p.quantity,onChange:N=>x({...p,quantity:N.target.value})})}),s.jsx("td",{className:"p-2",children:s.jsx("input",{type:"number",className:"w-full bg-transparent p-1 outline-none text-right",value:p.unit_price,onChange:N=>x({...p,unit_price:N.target.value})})}),s.jsx("td",{className:"p-3"}),s.jsx("td",{className:"p-2",children:s.jsx(U,{size:"sm",onClick:g,disabled:!p.description,children:s.jsx($e,{className:"w-4 h-4"})})})]})]})]})}),s.jsx("div",{className:"flex justify-end pr-4",children:s.jsxs("div",{className:"w-64 space-y-2 text-sm text-right",children:[s.jsxs("div",{className:"flex justify-between text-slate-500",children:[s.jsx("span",{children:"Ara Toplam"}),s.jsxs("span",{children:[(_=a.total_amount)==null?void 0:_.toLocaleString()," ",a.currency]})]}),s.jsxs("div",{className:"flex justify-between text-slate-500",children:[s.jsxs("span",{children:["KDV (%",a.tax_rate,")"]}),s.jsxs("span",{children:[(a.total_amount*(a.tax_rate/100)).toLocaleString()," ",a.currency]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg text-slate-900 dark:text-white border-t pt-2",children:[s.jsx("span",{children:"TOPLAM"}),s.jsxs("span",{children:[(a.total_amount*(1+a.tax_rate/100)).toLocaleString()," ",a.currency]})]})]})})]})]}),s.jsxs("div",{className:"w-full md:w-80 bg-white dark:bg-slate-900 border-l border-gray-100 dark:border-slate-800 p-6 flex flex-col gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-violet-50 dark:bg-violet-900/20 border border-violet-100 dark:border-violet-800 text-center",children:[s.jsx("p",{className:"text-xs font-bold text-violet-500 uppercase mb-1",children:"DURUM"}),s.jsx("p",{className:"text-xl font-black text-violet-800 dark:text-violet-300",children:a.status})]}),a.view_count>0&&s.jsxs("div",{className:"p-4 rounded-xl bg-amber-50 dark:bg-amber-900/20 border border-amber-100 dark:border-amber-800 text-center",children:[s.jsx("p",{className:"text-xs font-bold text-amber-500 uppercase mb-1",children:"GRNTLENME"}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(et,{className:"w-5 h-5 text-amber-600"}),s.jsxs("span",{className:"text-lg font-bold text-amber-800 dark:text-amber-300",children:[a.view_count," Kez"]})]})]}),s.jsx("hr",{className:"my-2 border-slate-100 dark:border-slate-800"}),s.jsxs(U,{className:"w-full bg-slate-800 hover:bg-slate-700 text-white",onClick:()=>window.open(`/proposal/${a.access_token}`,"_blank"),children:[s.jsx(qx,{className:"w-4 h-4 mr-2"})," nizle / Yazdr"]}),s.jsxs(U,{className:"w-full bg-violet-600 hover:bg-violet-700 text-white",onClick:j,children:[s.jsx(tf,{className:"w-4 h-4 mr-2"})," Linki Kopyala"]}),a.status!=="Onayland"?s.jsx(U,{variant:"outline",className:"w-full mt-auto",onClick:()=>z.from("proposals").update({status:"Onayland"}).eq("id",a.id).then(()=>b()),children:"Manuel Onayla"}):s.jsxs(U,{className:"w-full mt-auto bg-green-600 hover:bg-green-700 text-white",onClick:k,children:[s.jsx(mN,{className:"w-4 h-4 mr-2"})," Projeye evir"]})]})]})]})}):null}function yC(){const{user:e}=Le(),[t,r]=m.useState([]),[a,n]=m.useState(!0),[i,l]=m.useState(""),[o,c]=m.useState(null),[d,u]=m.useState(!1);m.useEffect(()=>{h()},[]);const h=async()=>{n(!0);let x=z.from("proposals").select("*, clients(name)").order("created_at",{ascending:!1});i&&(x=x.ilike("title",`%${i}%`));const{data:b,error:y}=await x;y&&console.error(y),r(b||[]),n(!1)},f=async()=>{if(!e){alert("Oturum amanz gerekiyor.");return}try{const{data:x,error:b}=await z.from("proposals").insert({title:"Yeni Taslak Teklif",status:"Taslak",user_id:e.id}).select().single();if(b)throw b;x&&(c(x.id),u(!0))}catch(x){console.error("Teklif oluturma hatas:",x),alert("Teklif oluturulamad: "+x.message+`
Ltfen veritaban kurulumunu yaptnzdan emin olun.`)}},p={Taslak:"bg-gray-100 text-gray-600",Gnderildi:"bg-blue-100 text-blue-600",Onayland:"bg-green-100 text-green-600",Reddedildi:"bg-red-100 text-red-600"};return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-400 bg-clip-text text-transparent",children:"Teklif Ynetimi"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Profesyonel teklifler hazrlayn ve satlar takip edin."})]}),s.jsxs(U,{onClick:f,className:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shadow-indigo-600/20",children:[s.jsx($e,{className:"w-4 h-4 mr-2"})," Yeni Teklif Olutur"]})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500",placeholder:"Teklif ara...",value:i,onChange:x=>l(x.target.value),onKeyDown:x=>x.key==="Enter"&&h()})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(x=>{var b,y;return s.jsxs("div",{onClick:()=>{c(x.id),u(!0)},className:"group bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl p-6 hover:shadow-xl hover:border-indigo-500/30 transition-all cursor-pointer relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase tracking-wider ${p[x.status]||"bg-gray-100"}`,children:x.status}),s.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["#",x.proposal_number]})]}),s.jsx("h3",{className:"font-bold text-lg mb-1 truncate",children:x.title}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:((b=x.clients)==null?void 0:b.name)||"Mteri Seilmedi"}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Toplam Tutar"}),s.jsxs("p",{className:"font-bold text-xl text-gray-900 dark:text-white",children:[(y=x.total_amount)==null?void 0:y.toLocaleString()," ",x.currency]})]}),s.jsx("div",{className:"flex gap-2 text-gray-400",children:x.view_count>0&&s.jsxs("div",{className:"flex items-center gap-1 text-amber-500",title:"Grntlendi",children:[s.jsx(Pa,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-bold",children:x.view_count})]})})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-50 dark:border-slate-800 flex justify-between text-xs text-gray-400",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ut,{className:"w-3 h-3"})," ",le(new Date(x.created_at),"dd MMM",{locale:Fe})]})})]},x.id)}),t.length===0&&!a&&s.jsxs("div",{className:"col-span-full py-20 text-center text-gray-400",children:[s.jsx(qr,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"Henz hi teklif oluturmadnz."})]})]}),d&&s.jsx(vC,{proposalId:o,onClose:()=>{u(!1),c(null),h()},onUpdate:h})]})}function Of({isOpen:e,onClose:t,onCreate:r,initialData:a,availablePersonnel:n=[],availableProjects:i=[]}){const[l,o]=m.useState({title:"",project_id:"",description:"",assignees:[],dueDate:"",status:"beklemede",priority:"orta"}),c=!!a,[d,u]=m.useState(!1),h=dr.useRef(null);if(m.useEffect(()=>{function x(b){h.current&&!h.current.contains(b.target)&&u(!1)}return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),m.useEffect(()=>{if(e){if(a){let x="";a.due_date&&(x=a.due_date.substring(0,10)),o({title:a.title||"",project_id:a.project_id||"",description:a.description||"",assignees:a.assigned_to||[],dueDate:x,status:a.status?a.status.toLowerCase():"beklemede",priority:a.priority?a.priority.toLowerCase():"orta"})}else o({title:"",project_id:"",description:"",assignees:[],dueDate:"",status:"beklemede",priority:"orta"});u(!1)}},[e,a]),!e)return null;const f=x=>{x.preventDefault(),r(l),t()},p=x=>{l.assignees.includes(x)?o({...l,assignees:l.assignees.filter(b=>b!==x)}):o({...l,assignees:[...l.assignees,x]})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh] border border-slate-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800 shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c?" Emri Dzenle":"Yeni  Emri"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:c?"Grev bilgilerini gncelleyin":"Yeni grev oluturun"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:s.jsxs("form",{id:"create-order-form",onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Balk *"}),s.jsx("input",{required:!0,type:"text",placeholder:"rn: API Entegrasyonu",className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all text-sm bg-white dark:bg-slate-950 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600",value:l.title,onChange:x=>o({...l,title:x.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Proje *"}),i.length>0||c?s.jsxs("select",{required:!0,className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all bg-white dark:bg-slate-950 text-sm text-slate-900 dark:text-white",value:l.project_id,onChange:x=>o({...l,project_id:x.target.value}),children:[s.jsx("option",{value:"",children:"Proje sein"}),i.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]}):s.jsxs("div",{children:[s.jsx("input",{type:"text",placeholder:"nce Projeler sayfasndan proje ekleyin",disabled:!0,className:"w-full px-3 py-2.5 border border-gray-200 dark:border-slate-800 bg-gray-50 dark:bg-slate-800 rounded-lg text-gray-500 dark:text-slate-400 text-sm focus:outline-none focus:border-gray-300 transition-all placeholder:text-gray-400 dark:placeholder:text-slate-600 cursor-not-allowed",value:l.project}),s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Ltfen nce Projeler sayfasna giderek bir proje oluturun."})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Aklama"}),s.jsx("textarea",{rows:3,placeholder:" emri detaylar...",className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all resize-none text-sm bg-white dark:bg-slate-950 text-slate-900 dark:text-white placeholder:text-slate-400 dark:placeholder:text-slate-600",value:l.description,onChange:x=>o({...l,description:x.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5 relative",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Atanan Kiiler"}),s.jsxs("div",{className:"relative",ref:h,children:[s.jsxs("div",{className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-950 flex items-center justify-between cursor-pointer min-h-[42px] hover:border-purple-400 transition-colors",onClick:()=>u(!d),children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-white truncate select-none",children:l.assignees.length>0?l.assignees.map(x=>{var b;return((b=n.find(y=>y.id===x))==null?void 0:b.full_name)||"..."}).join(", "):s.jsx("span",{className:"text-gray-400 dark:text-slate-500",children:"Kii seiniz..."})}),s.jsxs("div",{className:"flex items-center gap-2",children:[l.assignees.length>0&&s.jsx("span",{className:"bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 text-xs px-2 py-0.5 rounded-full font-medium",children:l.assignees.length}),s.jsx(tv,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"})]})]}),d&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-lg shadow-xl max-h-56 overflow-y-auto z-50",children:[n.map(x=>s.jsxs("div",{className:"flex items-center px-3 py-2.5 hover:bg-gray-50 dark:hover:bg-slate-800 cursor-pointer border-b border-gray-50 dark:border-slate-800/50 last:border-0",onClick:()=>p(x.id),children:[s.jsx("div",{className:B("w-4 h-4 border rounded mr-3 flex items-center justify-center transition-all",l.assignees.includes(x.id)?"bg-purple-600 border-purple-600":"border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-950"),children:l.assignees.includes(x.id)&&s.jsx($x,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-sm text-gray-700 dark:text-slate-200 font-medium",children:x.full_name})]},x.id)),n.length===0&&s.jsx("div",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400 text-center",children:"Personel bulunamad."})]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Teslim Tarihi"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"date",className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all text-sm bg-white dark:bg-slate-950 text-slate-900 dark:text-white",value:l.dueDate,onChange:x=>o({...l,dueDate:x.target.value})})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Durum"}),s.jsxs("select",{className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all bg-white dark:bg-slate-950 text-sm text-slate-900 dark:text-white",value:l.status,onChange:x=>o({...l,status:x.target.value}),children:[s.jsx("option",{value:"beklemede",children:"beklemede"}),s.jsx("option",{value:"devam ediyor",children:"devam ediyor"}),s.jsx("option",{value:"tamamlandi",children:"tamamland"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"ncelik"}),s.jsxs("select",{className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all bg-white dark:bg-slate-950 text-sm text-slate-900 dark:text-white",value:l.priority,onChange:x=>o({...l,priority:x.target.value}),children:[s.jsx("option",{value:"dk",children:"dk"}),s.jsx("option",{value:"orta",children:"orta"}),s.jsx("option",{value:"yksek",children:"yksek"})]})]})]}),s.jsx("div",{className:"h-6"})]})}),s.jsxs("div",{className:"p-6 border-t border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 shrink-0 flex justify-end gap-3 rounded-b-xl",children:[s.jsx(U,{type:"button",variant:"secondary",onClick:t,className:"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-300 px-6",children:"ptal"}),s.jsx(U,{type:"submit",form:"create-order-form",className:B("px-6 font-bold shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-[#8b5cf6] hover:bg-[#7c3aed] shadow-purple-200 dark:shadow-purple-900/40 focus:ring-purple-500 text-white"),children:c?"Gncelle":"Olutur"})]})]})})}function bC(){const[e,t]=m.useState([]),[r,a]=m.useState(!0),{user:n}=Le(),[i,l]=m.useState({}),[o,c]=m.useState([]),[d,u]=m.useState([]),[h,f]=m.useState(!1),[p,x]=m.useState(!1),[b,y]=m.useState(!1),[g,v]=m.useState(null),[w,j]=m.useState(""),[k,_]=m.useState("Tm Durumlar"),[N,E]=m.useState("Tm Zamanlar"),T=async()=>{const{data:S}=await z.from("profiles").select("id, full_name"),{data:L}=await z.from("projects").select("id, name"),K={};return S&&S.forEach(P=>K[P.id]=P.full_name),l(K),c(S||[]),u(L||[]),K},A=async(S=null)=>{try{a(!0);const{data:L,error:K}=await z.from("work_orders").select(`
                *,
                projects (name)
            `).order("due_date",{ascending:!0});if(K)throw K;const P=S||i,O=L.map(F=>{var D;return{...F,project:((D=F.projects)==null?void 0:D.name)||"Bilinmiyor",assignedToNames:(F.assigned_to||[]).map(I=>P[I]||"Bilinmiyor")}});t(O)}catch(L){console.error(L)}finally{a(!1)}};m.useEffect(()=>{n&&T().then(S=>{A(S)})},[n]);const R=async S=>{try{const L={title:S.title,status:$(S.status),priority:S.priority,project_id:S.project_id||null,assigned_to:S.assignees||[],due_date:S.dueDate?new Date(S.dueDate).toISOString():null,description:S.description},{error:K}=await z.from("work_orders").insert(L);if(K)throw K;f(!1),A()}catch(L){alert("Hata: "+L.message)}},C=async S=>{try{const{error:L}=await z.from("work_orders").update({title:S.title,status:$(S.status),priority:S.priority,project_id:S.project_id||null,due_date:S.dueDate?new Date(S.dueDate).toISOString():g.due_date,description:S.description,assigned_to:S.assignees||[]}).eq("id",g.id);if(L)throw L;x(!1),v(null),A()}catch(L){alert("Gncelleme hatas: "+L.message)}},G=async S=>{if(confirm("Bu i emrini silmek istediinize emin misiniz?")){const{error:L}=await z.from("work_orders").delete().eq("id",S);L||A()}},X=async(S,L)=>{const{error:K}=await z.from("work_orders").update({status:$(L)}).eq("id",S);K||A()},$=S=>{if(!S)return"Bekliyor";const L=S.toLowerCase();return L==="beklemede"||L==="bekliyor"?"Bekliyor":L.includes("devam")?"Devam Ediyor":L.includes("tamam")?"Tamamland":L==="iptal"?"ptal":L==="geciken"?"Geciken":S},M=[{label:"Toplam",value:e.length,icon:Tl,color:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-900/20 border-violet-100 dark:border-violet-900/50"},{label:"Bekliyor",value:e.filter(S=>S.status==="Bekliyor").length,icon:Ut,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-900/20 border-amber-100 dark:border-amber-900/50"},{label:"Devam Eden",value:e.filter(S=>S.status==="Devam Ediyor").length,icon:st,color:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-100 dark:border-indigo-900/50"},{label:"Geciken",value:e.filter(S=>S.status==="Geciken").length,icon:no,color:"text-red-600 dark:text-red-400",bg:"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900/50"}],W=e.filter(S=>{const L=S.assignedToNames.join(" ");S.status==="Bekliyor"||S.status;const K=S.title.toLowerCase().includes(w.toLowerCase())||(S.project||"").toLowerCase().includes(w.toLowerCase())||L.toLowerCase().includes(w.toLowerCase());let P=k;k==="Beklemede"&&(P="Bekliyor");const O=k==="Tm Durumlar"||S.status===P;let F=!0;if(N!=="Tm Zamanlar"&&S.due_date){const D=new Date(S.due_date),J=Math.abs(new Date-D),Y=Math.ceil(J/(1e3*60*60*24));N==="Son 1 Hafta"&&(F=Y<=7),N==="Son 1 Ay"&&(F=Y<=30)}return K&&O&&F});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:" Emirleri"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium",children:" emirlerini oluturun ve detayl takibini yapn."})]}),s.jsxs(U,{onClick:()=>f(!0),className:"bg-violet-600 hover:bg-violet-700 text-white shadow-lg shadow-violet-500/20 gap-2 dark:shadow-violet-900/40",children:[s.jsx($e,{className:"w-4 h-4"}),"Yeni  Emri"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:M.map(S=>{const L=S.icon;return s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-slate-400",children:S.label}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:S.value})]}),s.jsx("div",{className:B("w-12 h-12 rounded-full flex items-center justify-center",S.bg,S.color),children:s.jsx(L,{className:"w-6 h-6"})})]},S.label)})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:" emri, proje veya personel ara...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 transition-all font-medium text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-600 bg-white dark:bg-slate-900",value:w,onChange:S=>j(S.target.value)})]}),s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[s.jsxs("div",{className:"relative min-w-[160px]",children:[s.jsx(Yu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500 w-4 h-4"}),s.jsxs("select",{className:"w-full pl-10 pr-8 py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 bg-white dark:bg-slate-900 font-medium text-slate-700 dark:text-slate-200 appearance-none cursor-pointer",value:k,onChange:S=>_(S.target.value),children:[s.jsx("option",{children:"Tm Durumlar"}),s.jsx("option",{children:"Devam Ediyor"}),s.jsx("option",{children:"Beklemede"}),s.jsx("option",{children:"Tamamland"}),s.jsx("option",{children:"Geciken"}),s.jsx("option",{children:"ptal"})]})]}),s.jsxs("div",{className:"relative min-w-[160px]",children:[s.jsx(Ut,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500 w-4 h-4"}),s.jsxs("select",{className:"w-full pl-10 pr-8 py-2.5 rounded-xl border border-slate-200 dark:border-slate-800 focus:outline-none focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 bg-white dark:bg-slate-900 font-medium text-slate-700 dark:text-slate-200 appearance-none cursor-pointer",value:N,onChange:S=>E(S.target.value),children:[s.jsx("option",{children:"Tm Zamanlar"}),s.jsx("option",{children:"Son 1 Hafta"}),s.jsx("option",{children:"Son 1 Ay"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:r?s.jsx("div",{className:"text-center py-10",children:s.jsx(st,{className:"w-8 h-8 animate-spin mx-auto text-violet-600"})}):W.length===0?s.jsxs("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 border-dashed",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Tl,{className:"w-8 h-8 text-slate-300 dark:text-slate-600"})}),s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Sonu Bulunamad"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Arama kriterlerinize uygun i emri yok."})]}):W.map(S=>s.jsx("div",{className:"group bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-1 hover:shadow-lg hover:border-violet-200 dark:hover:border-violet-900 transition-all duration-300",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-5",children:[s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white group-hover:text-violet-700 dark:group-hover:text-violet-400 transition-colors",children:S.title}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:B("px-2.5 py-1 rounded-lg text-xs font-bold border",S.status==="Devam Ediyor"?"bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-100 dark:border-amber-900/50":S.status==="Tamamland"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border-emerald-100 dark:border-emerald-900/50":S.status==="Geciken"?"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-100 dark:border-red-900/50":S.status==="Beklemede"||S.status==="Bekliyor"?"bg-orange-50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 border-orange-100 dark:border-orange-900/50":"bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border-slate-100 dark:border-slate-700"),children:S.status}),s.jsx("span",{className:B("px-2.5 py-1 rounded-lg text-xs font-bold border",S.priority==="Yksek"?"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-100 dark:border-red-900/50":S.priority==="Orta"?"bg-orange-50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 border-orange-100 dark:border-orange-900/50":"bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border-slate-100 dark:border-slate-700"),children:S.priority})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm text-slate-500 dark:text-slate-400 font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-slate-400 dark:text-slate-500"}),S.project]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"w-4 h-4 text-slate-400 dark:text-slate-500"}),s.jsx("span",{className:"truncate",children:S.assignedToNames.join(", ")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"w-4 h-4 text-slate-400 dark:text-slate-500"}),S.due_date?le(ue(S.due_date),"dd.MM.yyyy"):"-"]})]}),S.description&&s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-2 line-clamp-2 bg-slate-50 dark:bg-slate-800/50 p-3 rounded-lg border border-slate-100 dark:border-slate-800",children:S.description})]}),s.jsxs("div",{className:"flex flex-row md:flex-col items-end justify-between gap-4 min-w-[140px] border-t md:border-t-0 md:border-l border-slate-100 dark:border-slate-800 pt-4 md:pt-0 md:pl-6",children:[s.jsxs("div",{className:"flex items-center gap-2 w-full justify-end",children:[s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{v(S),y(!0)},className:"h-8 w-8 p-0",children:s.jsx(Pa,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{v(S),x(!0)},className:"h-8 w-8 p-0",children:s.jsx(Kn,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"sm",onClick:()=>G(S.id),className:"h-8 w-8 p-0 text-red-500",children:s.jsx(yt,{className:"w-4 h-4"})})]}),s.jsxs("select",{className:"w-full text-xs font-bold px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:outline-none cursor-pointer",value:S.status.toLowerCase().replace(" ","-"),onChange:L=>X(S.id,L.target.value),children:[s.jsx("option",{value:"devam-ediyor",children:"devam-ediyor"}),s.jsx("option",{value:"beklemede",children:"beklemede"}),s.jsx("option",{value:"tamamlandi",children:"tamamland"}),s.jsx("option",{value:"iptal",children:"iptal"})]})]})]})},S.id))}),s.jsx(Of,{isOpen:h,onClose:()=>f(!1),onCreate:R,availablePersonnel:o,availableProjects:d}),s.jsx(Of,{isOpen:p,onClose:()=>x(!1),onCreate:C,initialData:g,availablePersonnel:o,availableProjects:d}),b&&g&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>y(!1),children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-200 dark:border-slate-800",onClick:S=>S.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:" Emri Detay"}),s.jsxs("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mt-1 uppercase tracking-wider",children:[" Emri ID: #",g.id.substring(0,8)]})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 bg-white/50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white leading-tight mb-2",children:g.title}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:B("px-2.5 py-1 rounded-lg text-xs font-bold border",g.status==="Devam Ediyor"?"bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-100 dark:border-amber-900/50":g.status==="Tamamland"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border-emerald-100 dark:border-emerald-900/50":"bg-orange-50 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 border-orange-100 dark:border-orange-900/50"),children:g.status}),s.jsxs("span",{className:B("px-2.5 py-1 rounded-lg text-xs font-bold border",g.priority==="Yksek"?"bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-100 dark:border-red-900/50":"bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-400 border-slate-100 dark:border-slate-700"),children:[g.priority," lekli"]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("p",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest",children:"AIKLAMA"}),s.jsx("div",{className:"bg-slate-50 dark:bg-slate-950 p-4 rounded-xl text-slate-700 dark:text-slate-300 text-sm border border-slate-100 dark:border-slate-800/80 leading-relaxed font-medium",children:g.description||"Herhangi bir aklama girilmemi."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 rounded-xl border border-slate-100 dark:border-slate-800",children:[s.jsx("h4",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-1",children:"Proje"}),s.jsxs("p",{className:"font-bold text-slate-900 dark:text-white text-sm flex items-center gap-2",children:[s.jsx(qr,{className:"w-3.5 h-3.5 text-violet-500"}),g.project]})]}),s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 rounded-xl border border-slate-100 dark:border-slate-800",children:[s.jsx("h4",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-1",children:"Teslim Tarihi"}),s.jsxs("p",{className:"font-bold text-slate-900 dark:text-white text-sm flex items-center gap-2",children:[s.jsx(Xt,{className:"w-3.5 h-3.5 text-amber-500"}),g.due_date?le(ue(g.due_date),"dd MMMM yyyy",{locale:Fe}):"-"]})]})]}),s.jsxs("div",{className:"bg-indigo-50/50 dark:bg-indigo-900/20 p-4 rounded-xl border border-indigo-100/50 dark:border-indigo-900/50",children:[s.jsx("h4",{className:"text-[10px] font-bold text-indigo-400 dark:text-indigo-400 uppercase tracking-widest mb-2",children:"GREVL PERSONELLER"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.assignedToNames.map((S,L)=>s.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-900 px-3 py-1.5 rounded-lg border border-indigo-100 dark:border-indigo-900/50 shadow-sm",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-indigo-500 flex items-center justify-center text-[10px] text-white font-bold",children:S.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-200",children:S})]},L))})]})]}),s.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/30 border-t border-slate-100 dark:border-slate-800 flex justify-end",children:s.jsx(U,{onClick:()=>y(!1),variant:"secondary",className:"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:"Kapat"})})]})})]})}const wC={meeting:{label:"Toplant",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:at},task:{label:"Grev",color:"bg-blue-100 text-blue-700 border-blue-200",icon:et},personal:{label:"Kiisel",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:Zt},break:{label:"Mola",color:"bg-orange-100 text-orange-700 border-orange-200",icon:Ku}};function kC({isOpen:e,onClose:t,date:r,onAdd:a,taskTypes:n=wC}){const[i,l]=m.useState({title:"",description:"",time:"09:00",priority:"Normal",type:"task"});if(!e)return null;const o=c=>{c.preventDefault(),a({...i,date:r}),l({title:"",description:"",time:"09:00",priority:"Normal",type:"task"}),t()};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-lg animate-in fade-in zoom-in-95 duration-200 overflow-hidden border border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-900/50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Yeni Etkinlik Ekle"}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:[r," tarihinde planla"]})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-white dark:hover:bg-slate-800",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-5",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Balk"}),s.jsx("input",{required:!0,type:"text",placeholder:"rn: Pazarlama Toplants",className:"w-full px-4 py-2.5 border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-950 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm font-medium text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:i.title,onChange:c=>l({...i,title:c.target.value}),autoFocus:!0})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Etkinlik Tipi"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Object.entries(n).map(([c,d])=>{const u=d.icon,h=i.type===c;return d.color.split(" ")[1],d.color.split(" ")[0],s.jsxs("button",{type:"button",onClick:()=>l({...i,type:c}),className:B("flex flex-col items-center justify-center gap-2 p-3 rounded-xl border transition-all text-xs font-medium",h?B(d.color,"border-current ring-1 ring-offset-1 ring-current bg-opacity-100"):"bg-white dark:bg-slate-950 border-gray-200 dark:border-slate-800 text-gray-500 dark:text-slate-500 hover:bg-gray-50 dark:hover:bg-slate-800"),children:[s.jsx(u,{className:"w-5 h-5"}),d.label]},c)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Saat"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"time",className:"w-full px-4 py-2.5 border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-950 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm text-gray-900 dark:text-white [color-scheme:light] dark:[color-scheme:dark]",value:i.time,onChange:c=>l({...i,time:c.target.value})}),s.jsx(Ut,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-slate-500 pointer-events-none"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"ncelik"}),s.jsxs("select",{className:"w-full px-4 py-2.5 border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-950 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm text-gray-900 dark:text-white",value:i.priority,onChange:c=>l({...i,priority:c.target.value}),children:[s.jsx("option",{value:"Dk",children:"Dk"}),s.jsx("option",{value:"Normal",children:"Normal"}),s.jsx("option",{value:"Yksek",children:"Yksek"}),s.jsx("option",{value:"Acil",children:"Acil"})]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Aklama (Opsiyonel)"}),s.jsx("textarea",{rows:3,placeholder:"Detaylar...",className:"w-full px-4 py-2.5 border border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-950 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all resize-none text-sm text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:i.description,onChange:c=>l({...i,description:c.target.value})})]}),s.jsxs("div",{className:"pt-4 flex gap-3 justify-end border-t border-gray-100 dark:border-slate-800 mt-6",children:[s.jsx(U,{type:"button",variant:"secondary",onClick:t,className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-300",children:"ptal"}),s.jsx(U,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shadow-indigo-200 dark:shadow-indigo-900/40",children:"Etkinlik Olutur"})]})]})]})})}const nc={meeting:{label:"Toplant",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:at},task:{label:"Grev",color:"bg-blue-100 text-blue-700 border-blue-200",icon:et},personal:{label:"Kiisel",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:Zt},break:{label:"Mola",color:"bg-orange-100 text-orange-700 border-orange-200",icon:Ku}};function jC({isOpen:e,onClose:t,task:r,onUpdate:a,onDelete:n}){if(!e||!r)return null;const[i,l]=m.useState(!1),[o,c]=m.useState({...r});m.useEffect(()=>{c({...r})},[r]);const d=()=>{a({...o}),l(!1),t()},u=()=>{window.confirm("Bu etkinlii silmek istediinize emin misiniz?")&&(n(r),t())},h=nc[r.type||"task"]||nc.task;return s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:t,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in-95 duration-200",onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gray-50/50",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i?"Etkinlii Dzenle":"Etkinlik Detay"}),!i&&s.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center gap-2",children:[s.jsx(Xt,{className:"w-4 h-4"})," ",r.date||"Tarih Yok"]})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-white",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"p-6",children:i?s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Balk"}),s.jsx("input",{type:"text",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm font-medium",value:o.title,onChange:f=>c({...o,title:f.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Etkinlik Tipi"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Object.entries(nc).map(([f,p])=>{const x=p.icon,b=o.type===f,y=p.color.split(" ")[1]||"text-gray-700",g=p.color.split(" ")[0]||"bg-gray-100";return s.jsxs("button",{type:"button",onClick:()=>c({...o,type:f}),className:B("flex flex-col items-center justify-center gap-2 p-3 rounded-xl border transition-all text-xs font-medium",b?B(g,y,"border-current ring-1 ring-offset-1 ring-current"):"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"),children:[s.jsx(x,{className:"w-5 h-5"}),p.label]},f)})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Saat"}),s.jsx("input",{type:"time",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all text-sm",value:o.time,onChange:f=>c({...o,time:f.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"ncelik"}),s.jsxs("select",{className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all bg-white text-sm",value:o.priority,onChange:f=>c({...o,priority:f.target.value}),children:[s.jsx("option",{value:"Dk",children:"Dk"}),s.jsx("option",{value:"Normal",children:"Normal"}),s.jsx("option",{value:"Yksek",children:"Yksek"}),s.jsx("option",{value:"Acil",children:"Acil"})]})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Aklama"}),s.jsx("textarea",{rows:3,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all resize-none text-sm",value:o.description,onChange:f=>c({...o,description:f.target.value})})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[s.jsx(U,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"ptal"}),s.jsx(U,{onClick:d,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shadow-indigo-200",children:"Kaydet"})]})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-start gap-5",children:[s.jsx("div",{className:B("w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 shadow-sm border",h.color),children:s.jsx(h.icon,{className:"w-7 h-7"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:B("text-xs font-bold px-2 py-0.5 rounded uppercase tracking-wide",h.color.replace("text-","bg-opacity-20 bg-").replace("border-","border-transparent ")),children:h.label}),s.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded bg-gray-100 text-gray-600 border border-gray-200",children:r.priority||"Normal"})]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 leading-tight",children:r.title}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-2 font-medium",children:[s.jsx(Ut,{className:"w-4 h-4 text-gray-400"}),r.time]})]})]}),s.jsxs("div",{className:"bg-gray-50/80 rounded-2xl p-6 border border-gray-100/80",children:[s.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Aklama"}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:r.description||"Bu etkinlik iin herhangi bir aklama girilmemi."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(U,{variant:"outline",onClick:()=>l(!0),className:"flex-1 gap-2 hover:bg-gray-50 border-gray-200 text-gray-700",children:[s.jsx(DN,{className:"w-4 h-4"})," Dzenle"]}),s.jsxs(U,{variant:"danger",onClick:u,className:"flex-1 gap-2 bg-white text-red-600 border border-red-100 hover:bg-red-50 hover:border-red-200 shadow-sm",children:[s.jsx(yt,{className:"w-4 h-4"})," Sil"]})]}),s.jsx(U,{onClick:()=>{a({...r,isCompleted:!r.isCompleted}),t()},className:B("w-full gap-2 py-6 text-base shadow-lg transition-all active:scale-[0.98]",r.isCompleted?"bg-white border-2 border-gray-200 text-gray-500 hover:border-gray-300 hover:bg-gray-50 shadow-none":"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white shadow-emerald-200"),children:r.isCompleted?s.jsxs(s.Fragment,{children:[s.jsx(IN,{className:"w-5 h-5"})," Tekrar Aktif Et"]}):s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"w-5 h-5"})," Tamamland Olarak aretle"]})})]})]})})]})})}const Ys={meeting:{label:"Toplant",color:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 border-indigo-200 dark:border-indigo-800",icon:at},task:{label:"Grev",color:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800",icon:et},event:{label:"Kiisel/Olay",color:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-800",icon:Zt},break:{label:"Mola",color:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 border-emerald-200 dark:border-emerald-800",icon:Ku}};function NC(){const{user:e}=Le(),[t,r]=m.useState(new Date),[a,n]=m.useState({}),[i,l]=m.useState(!1),[o,c]=m.useState(!1),[d,u]=m.useState(null),[h,f]=m.useState(null),[p,x]=m.useState(!1),b=async()=>{if(!e)return;l(!0);const C=Al(Rd(t),{weekStartsOn:1}).toISOString(),G=_f(Ad(t),{weekStartsOn:1}).toISOString();try{const X={},{data:$}=await z.from("calendar_events").select("*").gte("start_time",C).lte("start_time",G);$==null||$.forEach(W=>{const S=new Date(W.start_time).toISOString().split("T")[0],L=le(new Date(W.start_time),"HH:mm");X[S]||(X[S]=[]),X[S].push({id:W.id,title:W.title,time:L,date:S,type:W.type||"event",description:W.description,priority:W.priority,source:"calendar_events",original:W})});const{data:M}=await z.from("external_tasks").select("*").gte("due_date",C).lte("due_date",G);M==null||M.forEach(W=>{const S=new Date(W.due_date).toISOString().split("T")[0],L=W.due_date.includes("T")?le(new Date(W.due_date),"HH:mm"):"09:00";X[S]||(X[S]=[]),X[S].push({id:W.id,title:W.title,time:L,date:S,type:"task",priority:W.priority,description:W.description,isCompleted:W.status==="Tamamland",source:"external_tasks",original:W})}),Object.keys(X).forEach(W=>{X[W].sort((S,L)=>S.time.localeCompare(L.time))}),n(X)}catch(X){console.error("Calendar fetch error:",X)}finally{l(!1)}};m.useEffect(()=>{b()},[t,e]);const y=()=>r(gt(t,1)),g=()=>r(ah(t,1)),v=()=>r(new Date),w=async C=>{if(!e){alert("Ltfen nce giri yapn.");return}try{const G=new Date(`${C.date}T${C.time}:00`);let X=null;const $=new Date(G.getTime()+60*60*1e3),{error:M}=await z.from("calendar_events").insert({user_id:e.id,title:C.title,description:C.description,start_time:G.toISOString(),end_time:$.toISOString(),type:C.type||"event",priority:C.priority});if(X=M,X)throw X;b(),c(!1)}catch(G){console.error("Add task error:",G),alert("Hata: "+(G.message||G.error_description||"Bilinmeyen hata"))}},j=async C=>{if(confirm("Silmek istediinize emin misiniz?"))try{const G=C.source;if(G==="meeting_notes"){alert("Toplant notlarn 'Toplant Notlar' sayfasndan silebilirsiniz.");return}const{error:X}=await z.from(G).delete().eq("id",C.id);if(X)throw X;b(),x(!1)}catch(G){console.error("Delete error:",G),alert("Silinemedi.")}},k=async C=>{if(e)try{const G=new Date(`${C.date}T${C.time}:00`);if(C.source==="calendar_events"){const X=new Date(G.getTime()+36e5);await z.from("calendar_events").update({title:C.title,description:C.description,type:C.type,priority:C.priority,start_time:G.toISOString(),end_time:X.toISOString()}).eq("id",C.id)}else if(C.source==="external_tasks")await z.from("external_tasks").update({title:C.title,description:C.description,priority:C.priority,due_date:G.toISOString(),status:C.isCompleted?"Tamamland":"Beklemede"}).eq("id",C.id);else if(C.source==="meeting_notes"){alert("Toplant notlarn buradan dzenleyemezsiniz.");return}b(),x(!1)}catch(G){console.error("Update error:",G),alert("Gncellenemedi.")}},_=C=>{const G=le(C,"yyyy-MM-dd");u(G),c(!0)},N=(C,G)=>{C.stopPropagation(),f(G),x(!0)},E=(C,G)=>G?"bg-gray-100 dark:bg-slate-800 text-gray-400 dark:text-slate-500 line-through border-gray-200 dark:border-slate-700 grayscale":(Ys[C]||Ys.event).color,T=()=>{const C=Rd(t),G=Ad(C),X=Al(C,{weekStartsOn:1}),$=_f(G,{weekStartsOn:1}),M=[];let W=[],S=X;for(;S<=$;){for(let L=0;L<7;L++){const K=S,P=le(S,"yyyy-MM-dd"),O=a[P]||[],F=Yv(S,C),D=tE(S);W.push(s.jsxs("div",{onClick:()=>_(K),className:B("min-h-[140px] border-b border-r border-gray-100 dark:border-slate-800 p-2 relative group transition-all duration-200 hover:bg-gray-50/80 dark:hover:bg-slate-800/50 cursor-pointer overflow-hidden",F?"bg-white dark:bg-slate-900":"bg-gray-50/30 dark:bg-slate-950/50 text-gray-400 dark:text-slate-600",D?"bg-indigo-50/30 dark:bg-indigo-900/10 ring-1 ring-inset ring-indigo-200 dark:ring-indigo-800 z-10":""),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:B("w-8 h-8 flex items-center justify-center rounded-full text-sm font-medium transition-colors",D?"bg-indigo-600 text-white shadow-md shadow-indigo-200 dark:shadow-indigo-900/40":"text-gray-700 dark:text-slate-300",!F&&"text-gray-400 dark:text-slate-600"),children:le(S,"d")}),s.jsx(U,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 h-6 w-6 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 transition-all rounded-full",children:s.jsx($e,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"space-y-1.5 pl-1",children:O.map((I,J)=>{const Y=I.type==="meeting"?"meeting":I.type==="task"?"task":"event",ne=Ys[Y].icon||Ys.event.icon;return s.jsxs("div",{onClick:V=>N(V,I),className:B("px-2 py-1.5 rounded-lg text-xs border shadow-sm truncate transition-all hover:scale-[1.02] active:scale-95 flex items-center gap-2",E(Y,I.isCompleted)),children:[s.jsx(ne,{className:"w-3 h-3 shrink-0"}),s.jsxs("span",{className:"truncate flex-1 font-medium",children:[I.time," ",I.title]})]},J)})})]},S)),S=Wv(S,1)}M.push(s.jsx("div",{className:"grid grid-cols-7 border-l border-gray-100 dark:border-slate-800 last:border-b-0",children:W},S)),W=[]}return s.jsx("div",{className:"border-t border-gray-100 dark:border-slate-800 rounded-b-xl overflow-hidden shadow-sm",children:M})},R=(()=>{const C=[],G=new Date;return Object.entries(a).forEach(([X,$])=>{(eE(ue(X),G)||nh(ue(X),G))&&$.forEach(M=>{M.isCompleted||C.push({...M,date:X})})}),C.sort((X,$)=>(X.date+X.time).localeCompare($.date+$.time)).slice(0,5)})();return Object.values(a).flat().length,Object.values(a).flat().filter(C=>C.isCompleted).length,s.jsxs("div",{className:"min-h-screen bg-gray-50/50 dark:bg-slate-950 pb-10 transition-colors",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8 animate-in fade-in slide-in-from-top-4 duration-500",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Kiisel Ajanda"}),s.jsx("p",{className:"text-gray-500 dark:text-slate-400 mt-2 font-medium",children:"Toplant, grev ve etkinlikleriniz tek yerde."})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(U,{onClick:()=>_(new Date),className:"bg-gray-900 dark:bg-white text-white dark:text-slate-900 hover:bg-black dark:hover:bg-slate-200 shadow-lg shadow-gray-200 dark:shadow-none",children:[s.jsx($e,{className:"w-4 h-4 mr-2"}),"Hzl Ekle"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[s.jsx("div",{className:"xl:col-span-3 space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-sm overflow-hidden transition-colors",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-800 flex items-center justify-between bg-white dark:bg-slate-900 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white capitalize",children:le(t,"MMMM yyyy",{locale:Fe})}),s.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-slate-800 p-1 rounded-lg",children:[s.jsx(U,{variant:"ghost",size:"sm",onClick:y,className:"h-8 w-8 p-0",children:s.jsx(Lx,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"sm",onClick:g,className:"h-8 w-8 p-0",children:s.jsx(zx,{className:"w-4 h-4"})})]})]}),s.jsx(U,{onClick:v,variant:"outline",className:"hidden sm:flex border-gray-200 dark:border-slate-700 dark:text-slate-200",children:"Bugne Dn"})]}),s.jsx("div",{className:"grid grid-cols-7 border-b border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-900/50",children:["Pzt","Sal","ar","Per","Cum","Cmt","Paz"].map(C=>s.jsx("div",{className:"py-3 text-center text-xs font-semibold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:C},C))}),s.jsx("div",{className:"bg-white dark:bg-slate-900",children:i?s.jsx("div",{className:"p-20 text-center text-slate-400",children:"Ykleniyor..."}):T()})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-800 shadow-sm p-6 relative overflow-hidden transition-colors",children:[s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-6",children:"Yaklaan Etkinlikler"}),s.jsx("div",{className:"space-y-4 relative z-10",children:R.length>0?R.map((C,G)=>s.jsxs("div",{className:"flex gap-4 group cursor-pointer",onClick:X=>N(X,C),children:[s.jsx("div",{className:"flex flex-col items-center",children:s.jsx("div",{className:B("w-3 h-3 rounded-full border-2 border-white shadow-sm shrink-0 mt-1",E(C.type==="meeting"?"meeting":C.type==="task"?"task":"event",C.isCompleted).split(" ")[0].replace("bg-","bg-")),style:{backgroundColor:"currentColor"}})}),s.jsxs("div",{className:"pb-4 flex-1 border-b border-gray-50 last:border-0",children:[s.jsxs("p",{className:"text-xs font-medium text-gray-400 dark:text-slate-500 mb-0.5",children:[le(ue(C.date),"d MMMM, EEEE",{locale:Fe}),"  ",C.time]}),s.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-slate-200",children:C.title})]})]},G)):s.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Plan bulunmuyor."})})]})})]}),s.jsx(kC,{isOpen:o,onClose:()=>c(!1),date:d,onAdd:w,taskTypes:Ys}),s.jsx(jC,{isOpen:p,onClose:()=>x(!1),task:h,onUpdate:k,onDelete:j})]})}function _C(){const[e,t]=m.useState(new Date),[r,a]=m.useState([]),[n,i]=m.useState(!0),{user:l}=Le(),[o,c]=m.useState([]),d=async()=>{try{i(!0);const{data:M,error:W}=await z.from("transactions").select("*").order("date",{ascending:!0});if(W)throw W;a(M||[]);const{data:S}=await z.from("profiles").select("id, full_name");S&&c(S.map(L=>({id:L.id,name:L.full_name})))}catch(M){console.error("Finance load error:",M)}finally{i(!1)}};m.useEffect(()=>{l&&d()},[l]);const{monthlyCollections:u,monthlyExpenses:h,openingBalance:f}=m.useMemo(()=>{const M=Rd(e),W=Ad(e);let S=0;const L=[],K=[];return r.forEach(P=>{const O=ue(P.date);O<M?P.type==="income"?S+=parseFloat(P.amount):S-=parseFloat(P.amount):O<=W&&(P.type==="income"?L.push({...P,isSaved:!0}):K.push({...P,isSaved:!0}))}),{monthlyCollections:L,monthlyExpenses:K,openingBalance:S}},[r,e]),[p,x]=m.useState([]),[b,y]=m.useState([]),[g,v]=m.useState([]),[w,j]=m.useState([]);m.useEffect(()=>{v(u),j(h)},[u,h]);const k=M=>{t(W=>M>0?ah(W,1):gt(W,1))},_=()=>{v([...g,{id:`temp_${Date.now()}`,date:le(e,"yyyy-MM-dd"),amount:0,category:"",payer:"",type:"income",isSaved:!1}])},N=()=>{j([...w,{id:`temp_${Date.now()}`,detail:"",date:le(e,"yyyy-MM-dd"),amount:0,payer:"",method:"Nakit",type:"expense",isSaved:!1}])},E=(M,W,S,L)=>{(M?v:j)((M?g:w).map(O=>O.id===W?{...O,[S]:L,isSaved:!1}:O))},T=async M=>{try{const W={date:M.date||new Date().toISOString().split("T")[0],amount:parseFloat(M.amount)||0,type:M.type,category:M.category||"Genel",description:M.detail||M.description||"",payer:M.payer||M.customer||"-",method:M.method||"Nakit"};if(M.id.toString().startsWith("temp_")){const{error:S}=await z.from("transactions").insert(W);if(S)throw S;if(M.type==="expense"&&M.method==="Havale"){const K=(W.amount*.0629).toFixed(2),P={...W,amount:K,description:`${W.description} (Banka Komisyonu - %6.29)`,payer:"Banka",category:"Banka Giderleri"},{error:O}=await z.from("transactions").insert(P);O&&console.error("Komisyon eklenirken hata:",O)}}else{const{error:S}=await z.from("transactions").update(W).eq("id",M.id);if(S)throw S}await d()}catch(W){alert("Kaydetme hatas: "+W.message)}},A=async M=>{if(M.toString().startsWith("temp_"))v(g.filter(W=>W.id!==M)),j(w.filter(W=>W.id!==M));else{if(!confirm("Silmek istediinize emin misiniz?"))return;const{error:W}=await z.from("transactions").delete().eq("id",M);W||d()}},R=g.reduce((M,W)=>M+(parseFloat(W.amount)||0),0),C=w.reduce((M,W)=>M+(parseFloat(W.amount)||0),0),G=w.filter(M=>M.method==="Nakit").reduce((M,W)=>M+(parseFloat(W.amount)||0),0),X=R+f-C,$=new Intl.DateTimeFormat("tr-TR",{month:"long",year:"numeric"}).format(e);return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Aylk Kasa"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium",children:"Gelir ve giderlerinizi aylk olarak ynetin ve raporlayn."})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-1.5 rounded-xl shadow-sm",children:[s.jsx("button",{onClick:()=>k(-1),className:"p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg transition-colors text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:s.jsx(Lx,{className:"w-5 h-5"})}),s.jsx("div",{className:"px-4 font-bold text-slate-700 dark:text-slate-200 min-w-[160px] text-center capitalize text-lg",children:$}),s.jsx("button",{onClick:()=>k(1),className:"p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg transition-colors text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:s.jsx(zx,{className:"w-5 h-5"})})]}),s.jsxs(U,{variant:"outline",className:"gap-2 hidden md:flex border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-white bg-white dark:bg-slate-900",children:[s.jsx(qx,{className:"w-4 h-4"})," Yazdr"]})]})]}),n?s.jsx("div",{className:"flex justify-center py-20",children:s.jsx(st,{className:"w-8 h-8 animate-spin text-violet-600"})}):s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-900/30 p-4 rounded-t-xl flex justify-between items-center transition-colors",children:s.jsxs("div",{className:"flex items-center gap-2 text-emerald-800 dark:text-emerald-400 font-bold text-lg",children:[s.jsx(Es,{className:"w-5 h-5"}),s.jsx("span",{children:"Aylk Genel Gelirler"})]})}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-b-xl shadow-sm overflow-hidden flex-1 flex flex-col transition-colors",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 text-emerald-900 dark:text-emerald-300 font-semibold border-b border-emerald-100 dark:border-emerald-900/20",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-center w-12",children:"SIRA"}),s.jsx("th",{className:"p-3",children:"MTER SM"}),s.jsx("th",{className:"p-3 w-40",children:"TARH"}),s.jsx("th",{className:"p-3 min-w-[140px] text-right",children:"TUTAR"}),s.jsx("th",{className:"p-3 w-12",children:"LEM"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:[g.map((M,W)=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"p-3 text-center text-gray-500 dark:text-slate-500 font-mono",children:W+1}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"relative",children:[s.jsx(Be,{className:"w-3 h-3 text-gray-400 dark:text-slate-500 absolute left-3 top-1/2 -translate-y-1/2"}),s.jsx("input",{type:"text",placeholder:"Mteri ara...",className:"w-full pl-8 pr-2 py-1.5 border border-gray-200 dark:border-slate-700 dark:bg-slate-950 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-200 dark:focus:ring-emerald-900",value:M.payer||M.customer||"",onChange:S=>E(!0,M.id,"payer",S.target.value)})]})}),s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"date",className:"w-full px-2 py-1.5 border border-gray-200 dark:border-slate-700 dark:bg-slate-950 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:border-emerald-500",value:M.date,onChange:S=>E(!0,M.id,"date",S.target.value)})}),s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-2 py-1.5 border border-gray-200 dark:border-slate-700 dark:bg-slate-950 rounded-lg text-sm text-right font-medium text-emerald-700 dark:text-emerald-400 focus:outline-none focus:border-emerald-500",value:M.amount,onChange:S=>E(!0,M.id,"amount",S.target.value)})}),s.jsx("td",{className:"p-3 text-center flex gap-1 justify-center",children:M.isSaved?s.jsx("button",{onClick:()=>A(M.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Sil",children:s.jsx(yt,{className:"w-4 h-4"})}):s.jsx("button",{onClick:()=>T(M),className:"p-1.5 text-emerald-600 dark:text-emerald-500 hover:text-emerald-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 rounded transition-colors",title:"Kaydet",children:s.jsx(Dn,{className:"w-4 h-4"})})})]},M.id)),g.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-500 dark:text-slate-500 border-dashed border-2 border-gray-100 dark:border-slate-800 rounded-lg m-4",children:"Henz tahsilat eklenmedi."})})]})]})}),s.jsx("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 border-t border-gray-200 dark:border-slate-800",children:s.jsxs(U,{onClick:_,variant:"outline",className:"w-full border-dashed border-emerald-300 dark:border-emerald-700 text-emerald-700 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:border-emerald-500 dark:hover:border-emerald-600 bg-white dark:bg-slate-900",children:[s.jsx($e,{className:"w-4 h-4 mr-2"})," Satr Ekle"]})})]}),s.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/10 rounded-xl p-4 border border-emerald-100 dark:border-emerald-900/20 space-y-3 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm font-semibold text-emerald-900 dark:text-emerald-300 border-b border-emerald-100 dark:border-emerald-900/20 pb-2",children:[s.jsx("span",{children:"AYLIK TAHSLAT TOPLAMI"}),s.jsxs("span",{className:"font-bold text-lg",children:["",R.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm text-emerald-800 dark:text-emerald-400",children:[s.jsx("span",{children:"GEEN AYDAN DEVR"}),s.jsxs("span",{className:"font-mono",children:["",f.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:"flex justify-between items-center text-base font-bold text-emerald-950 dark:text-emerald-200 pt-2 border-t border-emerald-100 dark:border-emerald-900/20",children:[s.jsx("span",{children:"AYLIK KASA TOPLAMI"}),s.jsxs("span",{className:"text-xl",children:["",X.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/30 p-4 rounded-t-xl flex justify-between items-center transition-colors",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800 dark:text-red-400 font-bold text-lg",children:[s.jsx(Es,{className:"w-5 h-5 rotate-180"}),s.jsx("span",{children:"Aylk Genel Harcamalar"})]})}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-b-xl shadow-sm overflow-hidden flex-1 flex flex-col transition-colors",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-red-50/50 dark:bg-red-900/10 text-red-900 dark:text-red-300 font-semibold border-b border-red-100 dark:border-red-900/20",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 text-center w-12",children:"SIRA"}),s.jsx("th",{className:"p-3",children:"HARCAMA DETAYI"}),s.jsx("th",{className:"p-3 w-40",children:"TARH / F"}),s.jsx("th",{className:"p-3 min-w-[140px] text-right",children:"TUTAR"}),s.jsx("th",{className:"p-3",children:"DEMEY YAPAN"}),s.jsx("th",{className:"p-3 w-28",children:"YNTEM"}),s.jsx("th",{className:"p-3 w-12",children:"LEM"})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:[w.map((M,W)=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"p-3 text-center text-gray-500 dark:text-slate-500 font-mono",children:W+1}),s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"text",placeholder:"Harcama detay...",className:"w-full px-2 py-1.5 border border-gray-200 dark:border-slate-700 dark:bg-slate-950 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:border-red-500",value:M.detail||M.description||"",onChange:S=>E(!1,M.id,"detail",S.target.value)})}),s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"date",className:"w-full px-2 py-1.5 border border-gray-200 dark:border-slate-700 dark:bg-slate-950 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:border-red-500",value:M.date,onChange:S=>E(!1,M.id,"date",S.target.value)})}),s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"number",placeholder:"0.00",className:"w-full px-2 py-1.5 border border-gray-200 dark:border-slate-700 dark:bg-slate-950 rounded-lg text-sm text-right font-medium text-red-700 dark:text-red-400 focus:outline-none focus:border-red-500",value:M.amount,onChange:S=>E(!1,M.id,"amount",S.target.value)})}),s.jsx("td",{className:"p-3",children:s.jsxs("select",{className:"w-full px-2 py-1.5 border border-gray-200 dark:border-slate-700 dark:bg-slate-950 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:border-red-500 bg-white dark:bg-slate-950",value:M.payer||"",onChange:S=>E(!1,M.id,"payer",S.target.value),children:[s.jsx("option",{value:"",children:"Seiniz"}),o.map(S=>s.jsx("option",{value:S.name,children:S.name},S.id))]})}),s.jsx("td",{className:"p-3",children:s.jsxs("select",{className:"w-full px-2 py-1.5 border border-gray-200 dark:border-slate-700 dark:bg-slate-950 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:border-red-500 bg-white dark:bg-slate-950",value:M.method,onChange:S=>E(!1,M.id,"method",S.target.value),children:[s.jsx("option",{children:"Nakit"}),s.jsx("option",{children:"Kredi Kart"}),s.jsx("option",{children:"Havale"}),s.jsx("option",{children:"Cebinden"})]})}),s.jsx("td",{className:"p-3 text-center flex gap-1 justify-center",children:M.isSaved?s.jsx("button",{onClick:()=>A(M.id),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Sil",children:s.jsx(yt,{className:"w-4 h-4"})}):s.jsx("button",{onClick:()=>T(M),className:"p-1.5 text-red-600 dark:text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Kaydet",children:s.jsx(Dn,{className:"w-4 h-4"})})})]},M.id)),w.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-500 dark:text-slate-500 border-dashed border-2 border-gray-100 dark:border-slate-800 rounded-lg m-4",children:"Henz harcama eklenmedi."})})]})]})}),s.jsx("div",{className:"p-3 bg-gray-50 dark:bg-slate-800/50 border-t border-gray-200 dark:border-slate-800",children:s.jsxs(U,{onClick:N,variant:"outline",className:"w-full border-dashed border-red-300 dark:border-red-700 text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:border-red-500 dark:hover:border-red-600 bg-white dark:bg-slate-900",children:[s.jsx($e,{className:"w-4 h-4 mr-2"})," Satr Ekle"]})})]}),s.jsxs("div",{className:"bg-red-50/50 dark:bg-red-900/10 rounded-xl p-4 border border-red-100 dark:border-red-900/20 space-y-3 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm font-semibold text-red-900 dark:text-red-300 border-b border-red-100 dark:border-red-900/20 pb-2",children:[s.jsx("span",{children:"AYLIK DENEN GDERLER (Nakit)"}),s.jsxs("span",{className:"font-bold text-lg",children:["",G.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm text-red-800 dark:text-red-400",children:[s.jsx("span",{children:"TOPLAM GDERLER (Tm)"}),s.jsxs("span",{children:["",C.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})]})]})]})}function SC({isOpen:e,onClose:t,onCreate:r}){const[a,n]=m.useState({type:"income",amount:"",category:"",date:new Date().toISOString().split("T")[0],project:"general",payer:"",description:""});if(!e)return null;const i=l=>{l.preventDefault();const o=a.amount.toString().replace(/\./g,"").replace(",","."),c=parseFloat(o)||0;r({...a,amount:a.type==="expense"?-Math.abs(c):Math.abs(c)}),t()};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-xl w-full max-w-lg overflow-hidden border border-slate-200 dark:border-slate-800 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Yeni Finans Kayd"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"Gelir veya gider kayd ekleyin"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 dark:hover:bg-slate-800",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:i,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Tr *"}),s.jsxs("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-gray-900 dark:text-white",value:a.type,onChange:l=>n({...a,type:l.target.value}),children:[s.jsx("option",{value:"income",children:"Gelir"}),s.jsx("option",{value:"expense",children:"Gider"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Tutar () *"}),s.jsx("input",{required:!0,type:"text",placeholder:"rn: 150.000",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:a.amount,onChange:l=>n({...a,amount:l.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:a.type==="income"?"Mteri / deyen":"Muhatap / Kime"}),s.jsx("input",{type:"text",placeholder:a.type==="income"?"rn: Ahmet Ylmaz":"rn: Trendyol Maazas",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:a.payer,onChange:l=>n({...a,payer:l.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Kategori *"}),s.jsx("input",{required:!0,type:"text",placeholder:"Proje demesi, Maa, vs.",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:a.category,onChange:l=>n({...a,category:l.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Tarih *"}),s.jsx("input",{required:!0,type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:a.date,onChange:l=>n({...a,date:l.target.value})})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Proje"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all bg-white dark:bg-slate-950 text-gray-900 dark:text-white",value:a.project,onChange:l=>n({...a,project:l.target.value}),children:[s.jsx("option",{value:"general",children:"Genel"}),s.jsx("option",{value:"crm",children:"CRM Gelitirme"}),s.jsx("option",{value:"ecommerce",children:"E-Ticaret Sitesi"}),s.jsx("option",{value:"social",children:"Sosyal Medya Ynetimi"}),s.jsx("option",{value:"ads",children:"Meta Reklam Ynetimi"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Aklama"}),s.jsx("textarea",{rows:3,placeholder:"Detayl aklama...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all resize-none bg-white dark:bg-slate-950 text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:a.description,onChange:l=>n({...a,description:l.target.value})})]}),s.jsxs("div",{className:"pt-4 flex gap-3 justify-end border-t border-gray-100 dark:border-slate-800 mt-6",children:[s.jsx(U,{type:"button",variant:"secondary",onClick:t,className:"bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-slate-200",children:"ptal"}),s.jsx(U,{type:"submit",className:"bg-[#8b5cf6] hover:bg-[#7c3aed] shadow-purple-200",children:"Kaydet"})]})]})]})})}function EC(){const[e,t]=m.useState([]),[r,a]=m.useState(!0),{user:n}=Le(),[i,l]=m.useState(!1),[o,c]=m.useState(""),[d,u]=m.useState("Tm"),h=async()=>{try{a(!0);const{data:k,error:_}=await z.from("transactions").select(`
                  *,
                  projects (name)
              `).order("date",{ascending:!1});if(_)throw _;const N=k.map(E=>{var T;return{...E,project_name:((T=E.projects)==null?void 0:T.name)||"Genel",amount:parseFloat(E.amount)}});t(N)}catch(k){console.error(k)}finally{a(!1)}};m.useEffect(()=>{n&&h()},[n]);const f=e.filter(k=>k.type==="income").reduce((k,_)=>k+_.amount,0),p=e.filter(k=>k.type==="expense").reduce((k,_)=>k+_.amount,0),x=f-p,b=[{label:"Toplam Gelir",value:f.toLocaleString("tr-TR"),icon:Es,color:"text-green-600 dark:text-green-400",bg:"bg-green-50 dark:bg-green-900/20"},{label:"Toplam Gider",value:p.toLocaleString("tr-TR"),icon:ev,color:"text-red-600 dark:text-red-400",bg:"bg-red-50 dark:bg-red-900/20"},{label:"Net Bakiye",value:x.toLocaleString("tr-TR"),icon:er,color:x>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",bg:"bg-blue-50 dark:bg-blue-900/20"}],y=m.useMemo(()=>{const k={};return e.forEach(_=>{if(_.type==="expense"&&_.method==="Cebinden"&&!_.is_paid){const N=_.payer||"Bilinmiyor";k[N]||(k[N]={name:N,amount:0,count:0,items:[]}),k[N].amount+=_.amount,k[N].count+=1,k[N].items.push(_)}}),Object.values(k)},[e]),g=y.reduce((k,_)=>k+_.amount,0),v=async k=>{try{let _=null;k.project&&k.project;const N={date:k.date,type:k.type,category:k.category,amount:parseFloat(k.amount),description:k.description,payer:k.payer||"-",method:"Nakit",project_id:_},{error:E}=await z.from("transactions").insert(N);if(E)throw E;l(!1),h()}catch(_){alert("Hata: "+_.message)}},w=async(k,_,N)=>{if(confirm(`${k} isimli personelin ${_} tutarndaki borcu denecek. Onaylyor musunuz?`))try{const E=N.map(C=>C.id),{error:T}=await z.from("transactions").update({is_paid:!0}).in("id",E);if(T)throw T;const A={date:new Date().toISOString().split("T")[0],type:"expense",category:"Bor demesi",amount:_,description:`${k} - Bor demesi`,payer:"irket",method:"Nakit",is_paid:!0},{error:R}=await z.from("transactions").insert(A);if(R)throw R;h()}catch(E){alert("deme hatas: "+E.message)}},j=e.filter(k=>{const _=(k.category||"").toLowerCase().includes(o.toLowerCase())||(k.project_name||"").toLowerCase().includes(o.toLowerCase())||(k.description||"").toLowerCase().includes(o.toLowerCase())||(k.payer||"").toLowerCase().includes(o.toLowerCase()),N=k.type==="income"?"Gelir":"Gider";return _&&(d==="Tm"||N===d)});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Finans"}),s.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm mt-1",children:"Gelir ve gider kaytlarnz ynetin"})]}),s.jsxs(U,{onClick:()=>l(!0),className:"gap-2 bg-purple-600 hover:bg-purple-700 shadow-purple-200 dark:text-white",children:[s.jsx($e,{className:"w-4 h-4"}),"Yeni Kayt"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:b.map((k,_)=>s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm flex items-center justify-between transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-slate-400",children:k.label}),s.jsxs("p",{className:B("text-3xl font-bold mt-2",k.color),children:[_===2&&x>=0?"+":"","",k.value]})]}),s.jsx("div",{className:B("p-4 rounded-full",k.bg),children:s.jsx(k.icon,{className:B("w-6 h-6",k.color)})})]},_))}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm flex flex-col md:flex-row gap-4 transition-colors",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Kategori, aklama veya proje ara...",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500",value:o,onChange:k=>c(k.target.value)})]}),s.jsxs("div",{className:"relative min-w-[200px]",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-2 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-lg text-sm text-gray-600 dark:text-slate-300 focus:outline-none focus:border-purple-500 cursor-pointer",value:d,onChange:k=>u(k.target.value),children:[s.jsx("option",{value:"Tm",children:"Tm"}),s.jsx("option",{value:"Gelir",children:"Gelir"}),s.jsx("option",{value:"Gider",children:"Gider"})]}),s.jsx(yN,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),y.length>0&&s.jsxs("div",{className:"bg-orange-50/50 dark:bg-orange-900/10 border border-orange-100 dark:border-orange-900/30 rounded-xl p-6 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(er,{className:"w-5 h-5 text-orange-600 dark:text-orange-500"}),s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"irket Bor Durumu"})]}),s.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm mb-6",children:"Cebinden para veren kiilere irketin borlar"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-lg border border-orange-100/50 dark:border-orange-900/20 shadow-sm",children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 font-medium",children:"Toplam Bor"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-500 mt-1",children:["",g.toLocaleString("tr-TR")]})]}),y.map(k=>s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-lg border border-orange-100/50 dark:border-orange-900/20 shadow-sm flex items-center justify-between transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400",children:k.name.substring(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:k.name}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:[k.count," ilem - Cebinden deme yapt"]})]})]}),s.jsxs("div",{className:"text-right flex items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-orange-600 dark:text-orange-500",children:["",k.amount.toLocaleString("tr-TR")]}),s.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Bor"})]}),s.jsx(U,{onClick:()=>w(k.name,k.amount,k.items),className:"bg-purple-600 hover:bg-purple-700 h-8 text-sm px-4 dark:text-white",children:"de"})]})]},k.name))]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm overflow-hidden transition-colors",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-800",children:[s.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Kaytlar"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Tm gelir ve gider kaytlar"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50/50 dark:bg-slate-950/50 text-xs font-semibold text-gray-500 dark:text-slate-400 border-b border-gray-100 dark:border-slate-800",children:[s.jsx("th",{className:"py-3 px-6",children:"Tarih"}),s.jsx("th",{className:"py-3 px-6",children:"Tr"}),s.jsx("th",{className:"py-3 px-6",children:"Kategori"}),s.jsx("th",{className:"py-3 px-6",children:"Proje"}),s.jsx("th",{className:"py-3 px-6",children:"Paray Veren"}),s.jsx("th",{className:"py-3 px-6",children:"Aklama"}),s.jsx("th",{className:"py-3 px-6 text-right",children:"Tutar"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-5 dark:divide-slate-800",children:r?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"py-10 text-center",children:s.jsx(st,{className:"w-6 h-6 animate-spin mx-auto text-violet-600"})})}):j.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"py-12 text-center text-gray-500 dark:text-slate-400",children:"Kayt bulunamad."})}):j.map(k=>s.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-colors text-sm",children:[s.jsx("td",{className:"py-3 px-6 text-gray-600 dark:text-slate-300",children:k.date}),s.jsx("td",{className:"py-3 px-6",children:s.jsx("span",{className:B("px-2 py-0.5 rounded text-xs font-medium",k.type==="income"?"bg-black dark:bg-slate-700 text-white":"bg-pink-100 dark:bg-pink-900/30 text-pink-700 dark:text-pink-400"),children:k.type==="income"?"Gelir":"Gider"})}),s.jsx("td",{className:"py-3 px-6 text-gray-900 dark:text-white font-medium",children:k.category}),s.jsx("td",{className:"py-3 px-6 text-gray-500 dark:text-slate-400",children:k.project_name}),s.jsx("td",{className:"py-3 px-6",children:k.payer!=="-"?s.jsx("span",{className:"px-2 py-1 bg-black dark:bg-slate-700 text-white text-xs rounded-lg",children:k.payer}):s.jsx("span",{className:"text-gray-400 dark:text-slate-600",children:"-"})}),s.jsx("td",{className:"py-3 px-6 text-gray-500 dark:text-slate-400 max-w-xs truncate",children:k.description}),s.jsxs("td",{className:B("py-3 px-6 text-right font-medium",k.type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[k.type==="income"?"+":"-","",k.amount.toLocaleString("tr-TR")]})]},k.id))})]})})]}),s.jsx(SC,{isOpen:i,onClose:()=>l(!1),onCreate:v})]})}function CC({isOpen:e,onClose:t,customer:r,onConfirm:a}){const[n,i]=m.useState("");if(m.useEffect(()=>{e&&r&&i(r.totalRemaining.toString())},[e,r]),!e||!r)return null;const l=o=>{o.preventDefault();const c=n.toString().replace(/\./g,"").replace(",","."),d=parseFloat(c);if(isNaN(d)||d<=0){alert("Geerli bir tutar giriniz.");return}if(d>r.totalRemaining+1){alert("Tutar kalan bakiyeden fazla olamaz.");return}a(d),t()};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-xl w-full max-w-md border border-gray-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Tahsilat Al"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:r.name})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:["Tutar (Kalan: ",r.totalRemaining.toLocaleString("tr-TR",{minimumFractionDigits:2}),")"]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-slate-400",children:""}),s.jsx("input",{type:"text",placeholder:"rn: 150.000",className:"w-full pl-8 pr-4 py-2 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/20 focus:border-green-500 bg-white dark:bg-slate-950 text-gray-900 dark:text-white",value:n,onChange:o=>i(o.target.value),autoFocus:!0})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(U,{type:"button",variant:"ghost",onClick:t,className:"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800",children:"ptal"}),s.jsxs(U,{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white gap-2 shadow-green-200 dark:shadow-green-900/40",children:[s.jsx(er,{className:"w-4 h-4"}),"Tahsil Et"]})]})]})]})})}function TC({isOpen:e,onClose:t,customer:r}){var a,n,i;return!e||!r?null:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-xl w-full max-w-2xl overflow-hidden max-h-[90vh] flex flex-col border border-gray-200 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800 shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:r.phone})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 p-4 rounded-xl border border-gray-100 dark:border-slate-700",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-slate-400 mb-1",children:"Toplam Anlalan"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["",((a=r.totalAgreed)==null?void 0:a.toLocaleString("tr-TR"))||"0"]})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-xl border border-green-100 dark:border-green-900/30",children:[s.jsx("p",{className:"text-xs font-medium text-green-700 dark:text-green-400 mb-1",children:"Tahsil Edilen"}),s.jsxs("p",{className:"text-lg font-bold text-green-700 dark:text-green-400",children:["",((n=r.totalPaid)==null?void 0:n.toLocaleString("tr-TR"))||"0"]})]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-xl border border-red-100 dark:border-red-900/30",children:[s.jsx("p",{className:"text-xs font-medium text-red-700 dark:text-red-400 mb-1",children:"Kalan Bakiye"}),s.jsxs("p",{className:"text-lg font-bold text-red-700 dark:text-red-400",children:["",((i=r.totalRemaining)==null?void 0:i.toLocaleString("tr-TR"))||"0"]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-1 h-6 bg-blue-600 rounded-full"}),s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Proje Detaylar"})]}),s.jsx("div",{className:"space-y-3",children:r.projects&&r.projects.length>0?r.projects.map(l=>s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-lg p-4 transition-shadow hover:shadow-sm",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg shrink-0",children:s.jsx(Ju,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-base",children:l.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:["Anlalan: ",l.agreed.toLocaleString("tr-TR")]}),s.jsx("span",{className:"w-1 h-1 bg-gray-300 dark:bg-slate-600 rounded-full"}),s.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 dark:bg-slate-800 rounded text-gray-600 dark:text-slate-300 font-medium",children:l.label})]})]})]})}),s.jsxs("div",{className:"flex items-center gap-4 text-sm border-t border-gray-50 dark:border-slate-800 pt-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between mb-1.5",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Tahsilat Durumu"}),s.jsxs("span",{className:"text-xs font-medium text-gray-900 dark:text-white",children:["%",(l.paid/l.agreed*100).toFixed(0)]})]}),s.jsx("div",{className:"w-full bg-gray-100 dark:bg-slate-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${l.paid/l.agreed*100}%`}})})]}),s.jsxs("div",{className:"text-right pl-4 border-l border-gray-100 dark:border-slate-800",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-0.5",children:"Kalan"}),s.jsxs("p",{className:"text-red-600 dark:text-red-400 font-bold",children:["",l.remaining.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})]},l.id)):s.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm text-center py-4",children:"Bu mteriye ait proje bulunmamaktadr."})})]})]})]})})}function PC(){const[e,t]=m.useState(""),[r,a]=m.useState("Tm"),[n,i]=m.useState(!1),[l,o]=m.useState(null),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState([]),[x,b]=m.useState(!0),{user:y}=Le(),g=async()=>{try{b(!0);const{data:R}=await z.from("clients").select("*");if(!R){p([]);return}const{data:C}=await z.from("projects").select("id, client_id, price, name, status"),{data:G}=await z.from("transactions").select("*").eq("type","income"),X=R.map($=>{const M=C?C.filter(P=>P.client_id===$.id):[],W=M.length,S=M.reduce((P,O)=>P+(parseFloat(O.price)||0),0);let L=0;G&&G.forEach(P=>{var F;M.find(D=>D.id===P.project_id)||P.payer&&P.payer.trim().toLowerCase()===$.name.trim().toLowerCase()?L+=parseFloat(P.amount)||0:P.project_id===null&&!P.payer&&((F=P.description)!=null&&F.toLowerCase().includes($.name.toLowerCase()))});const K=S-L;return{...$,projectCount:W,totalAgreed:S,totalPaid:L,totalRemaining:K,projects:M.map(P=>({...P,remaining:Math.max(0,(P.price||0)-0),agreed:P.price}))}});p(X)}catch(R){console.error("Collections fetch error",R)}finally{b(!1)}};m.useEffect(()=>{y&&g()},[y]);const v=(R,C)=>{if(R.stopPropagation(),C.totalRemaining<=0){alert("Bu mterinin borcu bulunmamaktadr.");return}h(C),d(!0)},w=async R=>{const C=u;if(C)try{const G=new Date,{error:X}=await z.from("transactions").insert({date:le(G,"yyyy-MM-dd"),type:"income",category:"Proje demesi",description:`Tahsilat: ${C.name}`,amount:R,payer:C.name,project_id:null,is_paid:!0});if(X)throw X;alert("Tahsilat baaryla kaydedildi."),d(!1),g()}catch(G){console.error("Tahsilat hatas:",G),alert("Bir hata olutu: "+G.message)}},j=R=>{switch(R){case"Aktif":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"Pasif":return"bg-gray-100 text-gray-700 dark:bg-slate-800 dark:text-slate-400";case"Skntl":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"Kurumsal":return"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400";default:return"bg-gray-100 text-gray-700 dark:bg-slate-800 dark:text-slate-400"}},k=f.filter(R=>{const C=(R.name||"").toLowerCase().includes(e.toLowerCase())||(R.phone||"").replace(/\s+/g,"").includes(e.replace(/\s+/g,"")),G=r==="Tm"||R.type===r;return C&&G}),_=f.reduce((R,C)=>R+C.totalPaid,0),N=f.reduce((R,C)=>R+C.totalRemaining,0),E=f.length,T=f.reduce((R,C)=>R+C.projectCount,0),A=[{label:"Toplam Tahsilat",value:`${_.toLocaleString("tr-TR",{minimumFractionDigits:2})}`,icon:er,color:"text-green-600 dark:text-green-400",bg:"bg-green-50 dark:bg-green-900/20"},{label:"Beklenen Tahsilat",value:`${N.toLocaleString("tr-TR",{minimumFractionDigits:2})}`,icon:Ix,color:"text-red-600 dark:text-red-400",bg:"bg-red-50 dark:bg-red-900/20"},{label:"Mteri Says",value:E.toString(),icon:gr,color:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50 dark:bg-orange-900/20"},{label:"Proje Says",value:T.toString(),icon:Ju,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-900/20"}];return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Beklenen Tahsilat"}),s.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm mt-1",children:"Proje demelerini takip edin"})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:A.map((R,C)=>s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 font-medium",children:R.label}),s.jsx("p",{className:B("text-xl font-bold mt-1",R.color),children:R.value})]}),s.jsx("div",{className:B("p-3 rounded-lg",R.bg),children:s.jsx(R.icon,{className:B("w-6 h-6",R.color)})})]},C))}),s.jsx("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm",children:s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-slate-500"}),s.jsx("input",{type:"text",placeholder:"sim veya telefon ile ara...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-slate-950 border border-gray-200 dark:border-slate-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-slate-600",value:e,onChange:R=>t(R.target.value)})]}),s.jsx("div",{className:"flex bg-gray-100 dark:bg-slate-800 rounded-lg p-1 gap-1",children:["Tm","Aktif","Pasif","Skntl","Kurumsal"].map(R=>s.jsx(U,{onClick:()=>a(R),variant:r===R?"secondary":"ghost",size:"sm",className:B("text-xs font-medium shadow-sm transition-all",r===R?"bg-white dark:bg-slate-700 text-gray-900 dark:text-white shadow":"text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-200 hover:bg-white/50 dark:hover:bg-slate-600 shadow-none bg-transparent"),children:R},R))})]})})}),s.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm overflow-hidden",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-100 dark:border-slate-800 bg-white dark:bg-slate-900",children:[s.jsx("th",{className:"py-4 px-6 text-xs font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"MTER ADI"}),s.jsx("th",{className:"py-4 px-6 text-xs font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"TP"}),s.jsx("th",{className:"py-4 px-6 text-xs font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"PROJE SAYISI"}),s.jsx("th",{className:"py-4 px-6 text-xs font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"TAHSL EDLEN"}),s.jsx("th",{className:"py-4 px-6 text-xs font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider",children:"KALAN"}),s.jsx("th",{className:"py-4 px-6 text-xs font-bold text-gray-400 dark:text-slate-500 uppercase tracking-wider text-right",children:"LEMLER"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-5 dark:divide-slate-800",children:k.map(R=>s.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-800/50 transition-colors group",children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm uppercase",children:R.name}),s.jsx("span",{className:"text-xs text-gray-400 dark:text-slate-500 mt-0.5",children:R.phone})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:B("px-2.5 py-1 rounded text-xs font-medium",j(R.type)),children:R.type})}),s.jsxs("td",{className:"py-4 px-6 text-sm text-gray-500 dark:text-slate-400",children:[R.projectCount," Proje"]}),s.jsxs("td",{className:"py-4 px-6 text-sm text-green-600 dark:text-green-400 font-medium",children:["",R.totalPaid.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),s.jsxs("td",{className:"py-4 px-6 text-sm font-bold text-gray-900 dark:text-white",children:["",R.totalRemaining.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-100 sm:opacity-60 sm:group-hover:opacity-100 transition-opacity",children:[s.jsxs(U,{size:"sm",variant:"ghost",className:"h-8 text-xs font-medium text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 dark:text-emerald-400 dark:hover:text-emerald-300 dark:hover:bg-emerald-900/30 gap-1",onClick:C=>v(C,R),title:"Tahsilat Al",disabled:R.totalRemaining<=0,children:[s.jsx(er,{className:"w-3.5 h-3.5"}),"Tahsil Et"]}),s.jsx(U,{size:"icon",variant:"ghost",onClick:()=>{o(R),i(!0)},title:"Detaylar Gr",className:"w-8 h-8 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",children:s.jsx(Pa,{className:"w-4 h-4"})})]})})]},R.id))})]}),f.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 dark:text-slate-400",children:x?"Ykleniyor...":"Kayt bulunamad."})})]})}),s.jsx(TC,{isOpen:n,onClose:()=>i(!1),customer:l}),s.jsx(CC,{isOpen:c,onClose:()=>d(!1),customer:u,onConfirm:w})]})}function Af({isOpen:e,onClose:t,onCreate:r,initialData:a,availablePersonnel:n=[]}){const[i,l]=m.useState({title:"",description:"",assignees:[],dueDate:"",status:"beklemede",priority:"orta"}),o=!!a,[c,d]=m.useState(!1),u=dr.useRef(null);if(m.useEffect(()=>{function p(x){u.current&&!u.current.contains(x.target)&&d(!1)}return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),m.useEffect(()=>{if(e){if(a){const p=Array.isArray(a.assigned_to)?a.assigned_to:[];l({title:a.title||"",description:a.description||"",assignees:p,dueDate:a.due_date||"",status:a.status?a.status.toLowerCase():"beklemede",priority:a.priority?a.priority.toLowerCase():"orta"})}else l({title:"",description:"",assignees:[],dueDate:"",status:"beklemede",priority:"orta"});d(!1)}},[e,a]),!e)return null;const h=p=>{p.preventDefault(),r(i),t()},f=p=>{i.assignees.includes(p)?l({...i,assignees:i.assignees.filter(x=>x!==p)}):l({...i,assignees:[...i.assignees,p]})};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-xl w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh] border border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800 shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:o?"Grevi Dzenle":"Yeni Grev Ekle"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:o?"Grev bilgilerini gncelleyin":"Yeni bir harici grev oluturun"})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:s.jsxs("form",{id:"create-external-task-form",onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Grev Bal *"}),s.jsx("input",{required:!0,type:"text",placeholder:"rn: Ofis Temizlii",className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all text-sm bg-white dark:bg-slate-950 text-gray-900 dark:text-white",value:i.title,onChange:p=>l({...i,title:p.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Aklama"}),s.jsx("textarea",{rows:3,placeholder:"",className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all resize-none text-sm bg-white dark:bg-slate-950 text-gray-900 dark:text-white",value:i.description,onChange:p=>l({...i,description:p.target.value})})]}),s.jsxs("div",{className:"space-y-1.5 relative",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Atama *"}),s.jsxs("div",{className:"relative",ref:u,children:[s.jsxs("div",{className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-950 flex items-center justify-between cursor-pointer min-h-[42px] hover:border-purple-400 transition-colors",onClick:()=>d(!c),children:[s.jsx("span",{className:"text-sm text-gray-700 dark:text-slate-300 truncate select-none",children:i.assignees.length>0?i.assignees.map(p=>{var x;return((x=n.find(b=>b.id===p))==null?void 0:x.full_name)||"..."}).join(", "):s.jsx("span",{className:"text-gray-400 dark:text-slate-500",children:"Kii seiniz..."})}),s.jsxs("div",{className:"flex items-center gap-2",children:[i.assignees.length>0&&s.jsx("span",{className:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs px-2 py-0.5 rounded-full font-medium",children:i.assignees.length}),s.jsx(tv,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"})]})]}),c&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-lg shadow-xl max-h-56 overflow-y-auto z-50",children:[n.map(p=>s.jsxs("div",{className:"flex items-center px-3 py-2.5 hover:bg-gray-50 dark:hover:bg-slate-800 cursor-pointer border-b border-gray-50 dark:border-slate-800 last:border-0 text-gray-700 dark:text-slate-300",onClick:()=>f(p.id),children:[s.jsx("div",{className:B("w-4 h-4 border rounded mr-3 flex items-center justify-center transition-all",i.assignees.includes(p.id)?"bg-purple-600 border-purple-600":"border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800"),children:i.assignees.includes(p.id)&&s.jsx($x,{className:"w-3 h-3 text-white"})}),s.jsx("span",{className:"text-sm font-medium",children:p.full_name})]},p.id)),n.length===0&&s.jsx("div",{className:"px-3 py-4 text-sm text-gray-500 dark:text-slate-400 text-center",children:"Personel bulunamad."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Durum *"}),s.jsxs("select",{className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all bg-white dark:bg-slate-950 text-gray-900 dark:text-white text-sm",value:i.status,onChange:p=>l({...i,status:p.target.value}),children:[s.jsx("option",{value:"beklemede",children:"beklemede"}),s.jsx("option",{value:"devam ediyor",children:"devam ediyor"}),s.jsx("option",{value:"tamamlandi",children:"tamamland"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"ncelik *"}),s.jsxs("select",{className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all bg-white dark:bg-slate-950 text-gray-900 dark:text-white text-sm",value:i.priority,onChange:p=>l({...i,priority:p.target.value}),children:[s.jsx("option",{value:"dk",children:"dk"}),s.jsx("option",{value:"orta",children:"orta"}),s.jsx("option",{value:"yksek",children:"yksek"})]})]}),s.jsxs("div",{className:"space-y-1.5 md:col-span-1 col-span-2",children:[s.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Biti Tarihi *"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"date",className:"w-full px-3 py-2.5 border border-gray-300 dark:border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all text-sm bg-white dark:bg-slate-950 text-gray-900 dark:text-white",value:i.dueDate,onChange:p=>l({...i,dueDate:p.target.value})})})]})]}),s.jsx("div",{className:"h-6"})]})}),s.jsxs("div",{className:"p-6 border-t border-gray-100 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-800/50 shrink-0 flex justify-end gap-3 rounded-b-xl",children:[s.jsx(U,{type:"button",variant:"secondary",onClick:t,className:"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600 text-gray-700 dark:text-white px-6",children:"ptal"}),s.jsx(U,{type:"submit",form:"create-external-task-form",className:B("px-6 font-bold text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 bg-[#8b5cf6] hover:bg-[#7c3aed] shadow-purple-200 dark:shadow-purple-900/40 focus:ring-purple-500"),children:o?"Gncelle":"Ekle"})]})]})})}function OC(){const[e,t]=m.useState([]),[r,a]=m.useState(!0),{user:n}=Le(),[i,l]=m.useState({}),[o,c]=m.useState([]),[d,u]=m.useState(!1),[h,f]=m.useState(!1),[p,x]=m.useState(null),[b,y]=m.useState(""),[g,v]=m.useState("Tm Durumlar"),[w,j]=m.useState("Tm Zamanlar"),k=async()=>{const{data:$}=await z.from("profiles").select("id, full_name"),M={};return $&&$.forEach(W=>M[W.id]=W.full_name),l(M),c($||[]),M},_=async($=null)=>{try{a(!0);const{data:M,error:W}=await z.from("external_tasks").select("*").order("created_at",{ascending:!1});if(W)throw W;const S=$||i,L=M.map(K=>({...K,date:K.created_at?le(ue(K.created_at),"dd.MM.yyyy"):"-",assignedToNames:(K.assigned_to||[]).map(P=>S[P]||"Bilinmiyor")}));t(L)}catch(M){console.error("External tasks fetch error:",M)}finally{a(!1)}};m.useEffect(()=>(n&&k().then($=>{_($)}),window.addEventListener("taskCreated",()=>_()),()=>window.removeEventListener("taskCreated",()=>_())),[n]);const N=async $=>{try{const{error:M}=await z.from("external_tasks").insert({title:$.title,description:$.description,status:C($.status),priority:$.priority,assigned_to:$.assignees||[]});if(M)throw M;_(),u(!1)}catch(M){alert("Ekleme hatas: "+M.message)}},E=async $=>{try{const{error:M}=await z.from("external_tasks").update({title:$.title,description:$.description,status:C($.status),priority:$.priority,assigned_to:$.assignees||[]}).eq("id",p.id);if(M)throw M;_(),f(!1),x(null)}catch(M){alert("Gncelleme hatas: "+M.message)}},[T,A]=m.useState(null),R=$=>{A($)},C=$=>{if(!$)return"Beklemede";const M=$.toLowerCase();return M.includes("bekle")?"Beklemede":M.includes("devam")?"Devam Ediyor":M.includes("tamam")?"Tamamland":$},G=[{label:"Toplam Grev",value:e.length,icon:Tl,color:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-900/20"},{label:"Beklemede",value:e.filter($=>$.status==="Beklemede").length,icon:Ut,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-900/20"},{label:"Devam Eden",value:e.filter($=>$.status==="Devam Ediyor").length,icon:st,color:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/20"},{label:"Tamamlanan",value:e.filter($=>$.status==="Tamamland").length,icon:et,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/20"},{label:"Gecikmi",value:e.filter($=>$.status==="Geciken").length,icon:no,color:"text-red-600 dark:text-red-400",bg:"bg-red-50 dark:bg-red-900/20"}],X=e.filter($=>{const W=($.assignedToNames||[]).join(" "),S=$.title.toLowerCase().includes(b.toLowerCase())||($.description||"").toLowerCase().includes(b.toLowerCase())||W.toLowerCase().includes(b.toLowerCase()),L=g==="Tm Durumlar"||$.status===g;let K=!0;if(w!=="Tm Zamanlar"&&$.created_at){const P=ue($.created_at),F=Math.abs(new Date-P),D=Math.ceil(F/(1e3*60*60*24));w==="Son 1 Hafta"&&(K=D<=7),w==="Son 1 Ay"&&(K=D<=30)}return S&&L&&K});return s.jsxs("div",{className:"space-y-6 relative",children:[r&&s.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-white/50 dark:bg-slate-900/50 backdrop-blur-[1px]",children:s.jsx(st,{className:"w-8 h-8 animate-spin text-violet-600"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"Harici Grevler"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium",children:"Ofis d veya genel ilerin takibi."})]}),s.jsxs(U,{onClick:()=>u(!0),className:"bg-violet-600 hover:bg-violet-700 text-white shadow-lg shadow-violet-500/20 gap-2 dark:shadow-violet-900/40",children:[s.jsx($e,{className:"w-4 h-4"}),"Yeni Grev Ekle"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:G.map($=>{const M=$.icon;return s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:$.label}),s.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white mt-1",children:$.value})]}),s.jsx("div",{className:B("w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg transition-transform hover:scale-105",$.bg,$.color),children:s.jsx(M,{className:"w-6 h-6"})})]},$.label)})}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl border border-slate-100 dark:border-slate-800 shadow-sm p-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Grev veya sorumlu kii ara...",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-violet-500/20 transition-all text-slate-900 dark:text-white",value:b,onChange:$=>y($.target.value)})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("div",{className:"relative",children:s.jsxs("select",{className:"px-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-100 dark:border-slate-800 rounded-xl text-sm text-slate-600 dark:text-slate-300 focus:outline-none appearance-none pr-8 cursor-pointer",value:g,onChange:$=>v($.target.value),children:[s.jsx("option",{children:"Tm Durumlar"}),s.jsx("option",{children:"Beklemede"}),s.jsx("option",{children:"Devam Ediyor"}),s.jsx("option",{children:"Tamamland"}),s.jsx("option",{children:"Geciken"})]})})})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-separate border-spacing-y-2",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:[s.jsx("th",{className:"pb-3 pl-4",children:"Grev / Aklama"}),s.jsx("th",{className:"pb-3",children:"Sorumlu"}),s.jsx("th",{className:"pb-3 text-center",children:"ncelik"}),s.jsx("th",{className:"pb-3 text-center",children:"Durum"}),s.jsx("th",{className:"pb-3 text-right pr-6",children:"lemler"})]})}),s.jsx("tbody",{className:"space-y-2",children:X.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"text-center py-12 text-slate-400 font-medium",children:"Henz harici grev bulunmuyor."})}):X.map($=>{var M;return s.jsxs("tr",{className:"group bg-white dark:bg-slate-900 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all border border-slate-100 dark:border-slate-800 rounded-2xl block mb-2 shadow-sm hover:shadow-md",children:[s.jsxs("td",{className:"py-4 pl-4 rounded-l-2xl w-1/3",children:[s.jsx("div",{className:"font-bold text-slate-900 dark:text-white group-hover:text-violet-600 transition-colors",children:$.title}),$.description&&s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 line-clamp-1 italic",children:$.description})]}),s.jsx("td",{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-xl bg-violet-100 dark:bg-violet-900/30 flex items-center justify-center text-[10px] font-black text-violet-600 dark:text-violet-400 border border-violet-200 dark:border-violet-800",children:((M=$.assignedToNames[0])==null?void 0:M.charAt(0).toUpperCase())||"?"}),s.jsx("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-200 truncate max-w-[120px]",children:$.assignedToNames.join(", ")})]})}),s.jsx("td",{className:"py-4 text-center",children:s.jsx("span",{className:B("inline-block px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-wider border",$.priority==="Yksek"?"bg-red-50 text-red-600 border-red-100 dark:bg-red-900/20":"bg-slate-100 text-slate-600 border-slate-200 dark:bg-slate-800"),children:$.priority||"Normal"})}),s.jsx("td",{className:"py-4 text-center",children:s.jsx("span",{className:B("inline-block px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider text-white shadow-sm",$.status==="Devam Ediyor"?"bg-indigo-500":$.status==="Beklemede"?"bg-amber-500":$.status==="Tamamland"?"bg-emerald-500":$.status==="Geciken"?"bg-red-600":"bg-slate-500"),children:$.status})}),s.jsx("td",{className:"py-4 pr-4 rounded-r-2xl text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>{x($),f(!0)},className:"h-8 w-8 text-violet-600 hover:bg-violet-50 dark:hover:bg-violet-900/20",children:s.jsx(Kn,{className:"w-4 h-4"})}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>R($.id),className:"h-8 w-8 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:s.jsx(yt,{className:"w-4 h-4"})})]})})]},$.id)})})]})})]}),s.jsx(Af,{isOpen:d,onClose:()=>u(!1),onCreate:N,availablePersonnel:o}),s.jsx(Af,{isOpen:h,onClose:()=>f(!1),onCreate:E,initialData:p,availablePersonnel:o})]})}const AC={Proje:at,Mteri:Zt," Emri":at,Personel:Zt,Gelir:er,Gider:er};function RC(){const[e,t]=m.useState(""),[r,a]=m.useState([]),[n,i]=m.useState(!1),l=xr(),[o]=Vk(),c=async u=>{let h=typeof u=="string"?u:e;if(h=(h||"").trim(),!h){a([]);return}i(!0);try{console.log("Searching for:",h);const{data:f,error:p}=await z.rpc("global_search",{search_term:h});if(p)throw console.error("RPC Error:",p),p;console.log("Search results:",f),a(f||[])}catch(f){console.error("Global search error:",f)}finally{i(!1)}};m.useEffect(()=>{const u=setTimeout(()=>{e.trim()?c(e):a([])},400);return()=>clearTimeout(u)},[e]),m.useEffect(()=>{const u=o.get("q");u&&u!==e&&t(u)},[o]);const d=u=>{l(u)};return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-6 min-h-[calc(100vh-8rem)] transition-colors",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8",children:"Gemi Arama"}),s.jsxs("div",{className:"space-y-2 mb-8",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Arama Kriterleri"}),s.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800/50 p-4 rounded-xl border border-gray-200 dark:border-slate-800 transition-colors",children:[s.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-slate-400 mb-1.5 block",children:"Arama Terimi"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-slate-500"}),s.jsx("input",{type:"text",placeholder:"sim, telefon, tutar, aklama...",className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-950 border border-gray-200 dark:border-slate-700 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all placeholder:text-gray-400 dark:placeholder:text-slate-600",value:e,onChange:u=>t(u.target.value),onKeyDown:u=>u.key==="Enter"&&c()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"all-time",className:"rounded border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-primary focus:ring-primary",checked:!0,readOnly:!0}),s.jsx("label",{htmlFor:"all-time",className:"text-sm text-gray-700 dark:text-slate-300",children:"Tm Zamanlar"})]}),s.jsxs(U,{onClick:c,disabled:n,className:"px-6 gap-2",children:[s.jsx(Be,{className:"w-4 h-4"}),n?"Aranyor...":"Ara"]})]})]})]}),(r.length>0||n)&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-500 dark:text-slate-400",children:["Sonular (",r.length,")"]}),s.jsxs("div",{className:"grid gap-3",children:[r.map(u=>s.jsxs("div",{onClick:()=>d(u.link),className:"bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-xl p-4 flex items-center justify-between hover:border-primary dark:hover:border-primary hover:shadow-md transition-all cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/30 text-primary dark:text-blue-400 flex items-center justify-center",children:(()=>{const h=AC[u.type]||at;return s.jsx(h,{className:"w-5 h-5"})})()}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-primary dark:group-hover:text-blue-400 transition-colors",children:u.title}),s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-slate-300 text-xs font-medium border border-gray-200 dark:border-slate-700",children:u.type})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:u.subtitle})]})]}),s.jsx("div",{className:"flex items-center gap-4 text-gray-400 dark:text-slate-500",children:s.jsx(qu,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform text-primary dark:text-blue-400"})})]},`${u.type}-${u.id}`)),r.length===0&&!n&&s.jsx("div",{className:"text-center py-12 text-gray-400 dark:text-slate-500",children:"Sonu bulunamad."})]})]})]})})}const MC=async()=>{var t;const e={clients:{success:0,fail:0},projects:{success:0,fail:0},tasks:{success:0,fail:0},transactions:{success:0,fail:0},errors:[]};try{const r=(await z.auth.getUser()).data.user;if(!r)throw new Error("Authentication required for migration.");const a=JSON.parse(localStorage.getItem("clients_data")||"[]"),n={},i={};for(const u of a)try{const{data:h,error:f}=await z.from("clients").insert({name:u.name,phone:u.phone||"",type:u.type==="Skntl"?"Skntl":u.label==="Kurumsal"?"Kurumsal":"Normal",status:u.type==="Pasif"?"Pasif":"Aktif",email:"",address:u.address||"",notes:""}).select().single();if(f)throw f;n[u.id]=h.id,i[u.name]=h.id,e.clients.success++}catch(h){console.error("Client migrate error",h),e.clients.fail++,e.errors.push(`Client ${u.name}: ${h.message}`)}const l=JSON.parse(localStorage.getItem("projects")||"[]"),o={};for(const u of l)try{let h=null;u.customer&&(h=i[u.customer]);const{data:f,error:p}=await z.from("projects").insert({name:u.name,client_id:h,status:u.status==="Tamamland"?"Tamamland":"Devam Ediyor",price:parseFloat(((t=u.price)==null?void 0:t.toString().replace("","").replace(".","").replace(",","."))||0),start_date:u.dates?new Date().toISOString():null,description:u.description,manager_id:r.id}).select().single();if(p)throw p;o[u.name]=f.id,e.projects.success++}catch(h){console.error("Project migrate error",h),e.projects.fail++}const c=JSON.parse(localStorage.getItem("workOrders")||"[]");for(const u of c)try{let h=null;u.project&&(h=o[u.project]);let f=null;if(u.date){const b=u.date.split(".");b.length===3&&(f=`${b[2]}-${b[1]}-${b[0]}`)}let p=u.description||"";u.assignedTo&&u.assignedTo.length>0&&(p+=`

[Legacy Assigned: ${u.assignedTo.join(", ")}]`);const{error:x}=await z.from("work_orders").insert({title:u.title,description:p,status:u.status==="Tamamland"?"Tamamland":"Bekliyor",priority:u.priority||"Normal",due_date:f,project_id:h,assigned_to:null});if(x)throw x;e.tasks.success++}catch(h){console.error("Task migrate error",h),e.tasks.fail++,e.errors.push(`Task ${u.title}: ${h.message}`)}const d=JSON.parse(localStorage.getItem("transactions")||"[]");for(const u of d)try{const h=u.type==="Gelir"?"income":"expense",f=u.date.split(".");let p=new Date().toISOString();f.length===3&&(p=new Date(`${f[2]}-${f[1]}-${f[0]}`).toISOString());const{error:x}=await z.from("transactions").insert({date:p,type:h,category:u.category,amount:parseFloat(u.amount.toString().replace("","").replace(".","").replace(",",".")),description:u.desc,payer:u.payer,project_id:null,is_paid:!0});if(x)throw x;e.transactions.success++}catch(h){e.transactions.fail++,e.errors.push(`Transaction ${u.desc}: ${h.message}`)}return e}catch(r){throw console.error("Migration fatal error",r),r}};function DC(){const[e,t]=m.useState("company"),[r,a]=m.useState(null),[n,i]=m.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light"),l=k=>{i(k),localStorage.setItem("theme",k),k==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),window.dispatchEvent(new Event("themeChange"))},[o,c]=m.useState(!1),[d,u]=m.useState(!1),[h,f]=m.useState(!1),[p,x]=m.useState(null),{isEngineer:b}=Le()||{},[y,g]=m.useState({name:"Bugless Digital",email:"info@buglessdigital.com",phone:"+90 212 123 45 67",address:"Maslak, Saryer, stanbul"}),v=k=>{const _=k.target.files[0];if(_){const N=new FileReader;N.onloadend=()=>{a(N.result)},N.readAsDataURL(_)}},w=()=>{c(!0),setTimeout(()=>{c(!1),u(!0),setTimeout(()=>u(!1),2e3)},1e3)},j=async()=>{if(window.confirm("YEREL veriler Supabase veritabanna aktarlacak. lem geri alnamaz. Devam edilsin mi?")){f(!0),x(null);try{const k=await MC();x({success:!0,data:k})}catch(k){x({success:!1,error:k.message})}finally{f(!1)}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors",children:"Ayarlar"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Sistem ayarlarn yaplandr"})]}),s.jsxs("div",{className:"flex gap-2 border-b border-gray-200 dark:border-slate-800 transition-colors",children:[s.jsx(U,{variant:"ghost",onClick:()=>t("company"),className:B("rounded-none border-b-2 hover:bg-transparent px-4 py-2 text-sm font-medium transition-colors h-auto",e==="company"?"border-primary text-primary":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:"irket Bilgileri"}),s.jsx(U,{variant:"ghost",onClick:()=>t("appearance"),className:B("rounded-none border-b-2 hover:bg-transparent px-4 py-2 text-sm font-medium transition-colors h-auto",e==="appearance"?"border-primary text-primary":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:"Grnm"}),s.jsx(U,{variant:"ghost",onClick:()=>t("system"),className:B("rounded-none border-b-2 hover:bg-transparent px-4 py-2 text-sm font-medium transition-colors h-auto",e==="system"?"border-primary text-primary":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:"Sistem"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm p-6 min-h-[500px] transition-colors duration-300",children:[e==="company"&&s.jsxs("div",{className:"max-w-2xl space-y-8 animate-in fade-in duration-300",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"irket Bilgileri"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"irket bilgilerini gncelleyin"}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl bg-primary flex items-center justify-center text-white text-2xl font-bold overflow-hidden shadow-lg shadow-primary/20",children:r?s.jsx("img",{src:r,alt:"Logo",className:"w-full h-full object-cover"}):"BD"}),s.jsxs("div",{children:[s.jsx("input",{type:"file",id:"logo-upload",className:"hidden",accept:"image/*",onChange:v}),s.jsx("label",{htmlFor:"logo-upload",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-gray-700 dark:text-gray-300 text-sm font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer transition-colors shadow-sm inline-block",children:"Logo Deitir"}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"PNG, JPG veya SVG formatnda, maksimum 2MB"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"irket Ad"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-gray-900 dark:text-white transition-all",value:y.name,onChange:k=>g({...y,name:k.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"E-posta"}),s.jsx("input",{type:"email",className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-gray-900 dark:text-white transition-all",value:y.email,onChange:k=>g({...y,email:k.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefon"}),s.jsx("input",{type:"tel",className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-gray-900 dark:text-white transition-all",value:y.phone,onChange:k=>g({...y,phone:k.target.value})})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Adres"}),s.jsx("textarea",{rows:3,className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-gray-900 dark:text-white transition-all resize-none",value:y.address,onChange:k=>g({...y,address:k.target.value})})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-slate-800 flex justify-end",children:s.jsx(U,{onClick:w,disabled:o,isLoading:o,className:B("min-w-[140px] px-6 gap-2",d?"bg-green-600 hover:bg-green-700 shadow-green-200":"bg-primary hover:bg-primary/90 shadow-primary/20"),children:d?s.jsxs(s.Fragment,{children:[s.jsx(et,{className:"w-4 h-4"}),"Kaydedildi"]}):s.jsxs(s.Fragment,{children:[!o&&s.jsx(Dn,{className:"w-4 h-4"}),o?"Kaydediliyor...":"Kaydet"]})})})]}),e==="appearance"&&s.jsxs("div",{className:"max-w-4xl space-y-8 animate-in fade-in duration-300",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Tema Seimi"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Arayz temasn sein"}),s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Tema"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{onClick:()=>l("light"),className:B("relative border-2 rounded-xl p-4 cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-slate-800",n==="light"?"border-primary bg-blue-50/10 dark:bg-primary/10":"border-gray-200 dark:border-slate-700"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Xx,{className:B("w-5 h-5",n==="light"?"text-primary":"text-gray-500")}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Ak Tema"}),n==="light"&&s.jsx("span",{className:"ml-auto text-xs bg-black text-white px-2 py-0.5 rounded-full",children:"Aktif"})]}),s.jsxs("div",{className:"space-y-2 opacity-50 pointer-events-none select-none",children:[s.jsx("div",{className:"h-4 w-1/3 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}),s.jsx("div",{className:"h-12 w-full bg-gray-100 rounded border border-gray-200 mt-4"})]})]}),s.jsxs("div",{onClick:()=>l("dark"),className:B("relative border-2 rounded-xl p-4 cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-slate-800",n==="dark"?"border-primary bg-blue-50/10 dark:bg-primary/10":"border-gray-200 dark:border-slate-700"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Wx,{className:B("w-5 h-5",n==="dark"?"text-primary":"text-gray-500")}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Koyu Tema"}),n==="dark"&&s.jsx("span",{className:"ml-auto text-xs bg-white text-black px-2 py-0.5 rounded-full",children:"Aktif"})]}),s.jsxs("div",{className:"space-y-2 opacity-50 pointer-events-none select-none p-2 bg-gray-900 rounded-lg",children:[s.jsx("div",{className:"h-4 w-1/3 bg-gray-700 rounded"}),s.jsx("div",{className:"h-4 w-1/2 bg-gray-700 rounded"}),s.jsx("div",{className:"h-12 w-full bg-gray-800 rounded border border-gray-700 mt-4"})]})]})]})]}),s.jsxs("div",{className:"bg-blue-50 text-blue-700 p-4 rounded-xl text-sm border border-blue-100",children:[s.jsx("strong",{children:"Not:"})," Tema deiiklii tm sistem genelinde uygulanacaktr. u anda ",n==="light"?"Ak":"Koyu"," Tema aktif olarak kullanlmaktadr."]})]}),e==="system"&&s.jsx("div",{className:"max-w-4xl space-y-8 animate-in fade-in duration-300",children:s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Veri Ynetimi"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Sistem veritaban ilemleri"}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400",children:s.jsx(kN,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Bulut Veri Tama (Migration)"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 mb-4",children:"Yerel tarayc belleindeki (localStorage) mteri, proje ve finans verilerinizi Supabase bulut veritabanna aktarr. Bu ilem sadece bir kez yaplmaldr."}),s.jsxs(U,{onClick:j,disabled:h,isLoading:h,className:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-indigo-200 dark:shadow-none",children:[s.jsx(UN,{className:"w-4 h-4 mr-2"}),"Aktarm Balat"]}),p&&s.jsx("div",{className:B("mt-4 p-4 rounded-lg text-sm border",p.success?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:p.success?s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold flex items-center gap-2",children:[s.jsx(et,{className:"w-4 h-4"})," Baarl!"]}),s.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1 opacity-80",children:[s.jsxs("li",{children:["Mteriler: ",p.data.clients.success," (Hata: ",p.data.clients.fail,")"]}),s.jsxs("li",{children:["Projeler: ",p.data.projects.success," (Hata: ",p.data.projects.fail,")"]}),s.jsxs("li",{children:["Finans: ",p.data.transactions.success," (Hata: ",p.data.transactions.fail,")"]})]})]}):s.jsxs("p",{children:["Hata: ",p.error]})})]})]})})]})})]})]})}function IC({projects:e=[],profiles:t=[],sessions:r=[],workOrders:a=[],dateRange:n,dateFilter:i}){const[l,o]=m.useState([]),[c,d]=m.useState(null),[u,h]=m.useState(null),[f,p]=m.useState(!1),[x,b]=m.useState("Tm"),[y,g]=m.useState("Tm"),[v,w]=m.useState([]),[j,k]=m.useState(null);m.useEffect(()=>{t.length>0&&w(t.map(F=>F.full_name));const P=F=>{const D=(F.status||"").trim().toLowerCase();if(D==="tamamland"||D==="completed"||D==="done"||D==="iptal"||D==="cancelled")return!1;if(D==="geciken"||D==="delayed")return!0;if(!F.date)return!1;const I=new Date(F.date),J=new Date;return J.setHours(0,0,0,0),I<J},O=a.filter(P).map(F=>({...F,type:" Emri",assignees:F.assignedTo?[F.assignedTo]:[]}));o(O)},[t,a]);const _=P=>{if(!P)return"0s";const O=Math.floor(P/3600),F=Math.floor(P%3600/60);return`${O}s ${F}d`},N=dr.useMemo(()=>{const{startDate:P,endDate:O}=n||{};return!P||!O?r:r.filter(F=>{if(!F.date)return!1;const D=ue(F.date);return D>=P&&D<=O})},[r,n]),E=dr.useMemo(()=>{const P={},{startDate:O,endDate:F}=n||{};v.forEach(I=>{P[I]={name:I,totalSeconds:0,officeSeconds:0,remoteSeconds:0,sessions:[],completedTasks:0,activeTasks:0,projectsCount:0}}),N.forEach(I=>{const J=I.user;P[J]||(P[J]={name:J,totalSeconds:0,officeSeconds:0,remoteSeconds:0,sessions:[],completedTasks:0,activeTasks:0,projectsCount:0});const Y=P[J];Y.totalSeconds+=I.duration,I.location==="office"?Y.officeSeconds+=I.duration:Y.remoteSeconds+=I.duration,Y.sessions.push(I)});const D={};return t.forEach(I=>D[I.id]=I.full_name),e.forEach(I=>{if(O&&F){const Y=I.start_date?ue(I.start_date):null,ne=I.end_date?ue(I.end_date):null;if(Y&&(Y>F||ne&&ne<O))return}(I.team_ids||[]).forEach(Y=>{const ne=D[Y];ne&&P[ne]&&(P[ne].projectsCount+=1)})}),a.forEach(I=>{if(O&&F&&I.date){const Y=ue(I.date);if(Y<O||Y>F)return}const J=I.assignedTo;if(J&&J!=="Bilinmiyor"){P[J]||(P[J]={name:J,totalSeconds:0,officeSeconds:0,remoteSeconds:0,sessions:[],completedTasks:0,activeTasks:0,projectsCount:0});const Y=(I.status||"").trim().toLowerCase();Y==="tamamland"||Y==="completed"||Y==="done"?P[J].completedTasks+=1:Y!=="iptal"&&Y!=="cancelled"&&(P[J].activeTasks+=1)}}),P},[N,v,e,t,a,n]),T=Object.values(E).sort((P,O)=>O.totalSeconds-P.totalSeconds),A=u?E[u]:null,R=T.length>0?T[0]:null,C=[...T].sort((P,O)=>O.projectsCount-P.projectsCount)[0],G=l.filter(P=>!(x!=="Tm"&&(P.priority||"Normal")!==x||y!=="Tm"&&P.type!==y)),X=G.reduce((P,O)=>((O.assignees||[]).forEach(D=>{P[D]||(P[D]=[]),P[D].push(O)}),P),{}),$=["Kerem Koyuncu","Smeyye encan"],M=(P,O)=>{P.stopPropagation(),alert("Grevi silmek iin  Emirleri sayfasna gidiniz.")},W=P=>{k(P)},S=async()=>{if(j)try{const{error:P}=await z.from("work_sessions").delete().eq("id",j.id);if(P)throw P;window.location.reload()}catch(P){alert("Hata: "+P.message)}finally{k(null)}},K=(()=>{const{startDate:P,endDate:O}=n||{};if(!P||!O)return{name:null,count:0};const F=P,D=O,I={};e.forEach(ne=>{var ce;if(!ne.start_date)return;const V=ue(ne.start_date),se=(ce=t.find(ae=>ae.id===ne.manager_id))==null?void 0:ce.full_name;V>=F&&V<=D&&se&&(I[se]=(I[se]||0)+1)});let J=null,Y=0;return Object.entries(I).forEach(([ne,V])=>{V>Y&&(Y=V,J=ne)}),{name:J,count:Y}})();return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Personel Performans Analizi"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"alma sreleri, proje katklar ve verimlilik"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-lg px-3 py-2 text-sm font-medium text-gray-700 dark:text-slate-200 flex items-center gap-2 transition-colors",children:[s.jsx(Xt,{className:"w-4 h-4 text-violet-500 dark:text-violet-400"}),s.jsx("span",{className:"text-violet-600 dark:text-violet-400 font-bold",children:i||"Tarih Seiniz"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:s.jsx(zN,{className:"w-6 h-6 text-yellow-300"})}),s.jsx("span",{className:"font-medium text-white/90",children:i==="Bu Gn"?"Gnn alkan":i.includes("Hafta")?"Haftann alkan":"Dnemin alkan"})]}),s.jsx("h3",{className:"text-2xl font-bold mb-1 truncate",children:(R==null?void 0:R.name)||"-"}),s.jsxs("p",{className:"text-indigo-100 text-sm",children:["Toplam ",_((R==null?void 0:R.totalSeconds)||0)," alma"]})]}),s.jsx("div",{className:"absolute right-0 bottom-0 w-32 h-32 bg-white/10 rounded-full translate-y-1/2 translate-x-1/2 blur-2xl"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm relative overflow-hidden group hover:border-orange-200 dark:hover:border-orange-800 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-gray-500 dark:text-slate-400 text-sm font-medium",children:"Sat ampiyonu"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1 truncate",children:K.name||"-"})]}),s.jsx("div",{className:"p-2 bg-orange-50 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-lg group-hover:scale-110 transition-transform",children:s.jsx(gN,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-slate-400",children:[s.jsx(Es,{className:"w-4 h-4 text-orange-500"}),s.jsxs("span",{children:["Bu dnem ",K.count," yeni proje"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm relative overflow-hidden group hover:border-emerald-200 dark:hover:border-emerald-800 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-gray-500 dark:text-slate-400 text-sm font-medium",children:"En ok Proje"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1 truncate",children:(C==null?void 0:C.name)||"-"})]}),s.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-lg group-hover:scale-110 transition-transform",children:s.jsx(at,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-slate-400",children:[s.jsx(et,{className:"w-4 h-4 text-emerald-500"}),s.jsxs("span",{children:[(C==null?void 0:C.projectsCount)||0," projeye dahil"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-2xl p-6 shadow-sm relative overflow-hidden group hover:border-blue-200 dark:hover:border-blue-800 transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-gray-500 dark:text-slate-400 text-sm font-medium",children:"Toplam Efor"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:_(T.reduce((P,O)=>P+O.totalSeconds,0))})]}),s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg group-hover:scale-110 transition-transform",children:s.jsx(Ut,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"w-full bg-gray-100 dark:bg-slate-800 rounded-full h-1.5 mt-2 overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 w-3/4 rounded-full"})}),s.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-2",children:"Bu dnem hedeflenen srenin %75'i"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm transition-colors",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"alma Dalm"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Personel bazl ofis ve uzaktan alma saatleri"})]}),s.jsxs("div",{className:"relative h-64 pl-8 pb-8 mt-4",children:[s.jsx("div",{className:"absolute inset-0 flex flex-col justify-between pl-8 pb-8 text-xs text-gray-400 dark:text-slate-500 z-0",children:[100,75,50,25,0].map(P=>s.jsx("div",{className:"w-full relative border-b border-dashed border-gray-100 dark:border-slate-800 last:border-gray-200 dark:last:border-slate-700 h-0",children:s.jsxs("span",{className:"absolute -left-8 -top-2 w-6 text-right",children:[P,"%"]})},P))}),s.jsx("div",{className:"absolute inset-0 pl-16 pb-8 flex items-end justify-around gap-2 z-10",children:T.map((P,O)=>{const F=Math.max(...T.map(Y=>Y.totalSeconds))||1,D=P.totalSeconds/F*100,I=P.totalSeconds>0?P.officeSeconds/P.totalSeconds:0,J=P.totalSeconds>0?P.remoteSeconds/P.totalSeconds:0;return s.jsxs("div",{className:"h-full flex flex-col justify-end items-center gap-0.5 group relative w-12 sm:w-16",onMouseEnter:()=>d(P),onMouseLeave:()=>d(null),children:[(c==null?void 0:c.name)===P.name&&s.jsxs("div",{className:"absolute bottom-full mb-2 bg-gray-900/90 dark:bg-black/90 text-white p-3 rounded-lg shadow-xl backdrop-blur-sm z-50 text-xs w-32 text-center animate-in zoom-in-95",children:[s.jsx("div",{className:"font-bold mb-1",children:P.name}),s.jsxs("div",{className:"flex justify-between text-indigo-300",children:[s.jsx("span",{children:"Ofis:"}),s.jsx("span",{children:_(P.officeSeconds)})]}),s.jsxs("div",{className:"flex justify-between text-emerald-300",children:[s.jsx("span",{children:"Uzaktan:"}),s.jsx("span",{children:_(P.remoteSeconds)})]})]}),s.jsxs("div",{className:"w-full bg-gray-100/50 dark:bg-slate-800 rounded-t-sm flex flex-col-reverse overflow-hidden transition-all duration-500 hover:opacity-90 relative",style:{height:`${D}%`},children:[s.jsx("div",{style:{height:`${I*100}%`},className:"w-full bg-indigo-500 transition-all duration-700 ease-out"}),s.jsx("div",{style:{height:`${J*100}%`},className:"w-full bg-emerald-400 transition-all duration-700 ease-out"})]}),s.jsx("div",{className:"absolute -bottom-10 flex flex-col items-center",children:s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 dark:bg-slate-800 flex items-center justify-center text-[10px] font-bold text-gray-500 dark:text-slate-400 border border-white dark:border-slate-800 shadow-sm",children:P.name.substring(0,2).toUpperCase()})})]},O)})})]}),s.jsxs("div",{className:"h-4 flex items-center justify-center gap-6 mt-8 text-xs text-gray-500 dark:text-slate-400 font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm bg-emerald-400"})," Uzaktan"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm bg-indigo-500"})," Ofis"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-2xl shadow-sm overflow-hidden transition-colors",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-800 flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Personel Detaylar"}),s.jsx(U,{variant:"outline",size:"sm",className:"text-xs dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300",children:"Rapor ndir"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50/50 dark:bg-slate-800/50 border-b border-gray-100 dark:border-slate-800 text-xs font-medium text-gray-500 dark:text-slate-400 text-left",children:[s.jsx("th",{className:"py-3 px-6",children:"Personel"}),s.jsx("th",{className:"py-3 px-6",children:"Toplam Sre"}),s.jsx("th",{className:"py-3 px-6",children:"Ofis / Uzaktan"}),s.jsx("th",{className:"py-3 px-6",children:"Aktif Projeler"}),s.jsx("th",{className:"py-3 px-6",children:"Performans"}),s.jsx("th",{className:"py-3 px-6"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:T.map((P,O)=>{var I;const F=((I=T[0])==null?void 0:I.totalSeconds)||1,D=Math.min(P.totalSeconds/F*100,100);return s.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-800/50 group transition-colors",children:[s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-slate-800 flex items-center justify-center text-xs font-bold text-gray-600 dark:text-slate-300",children:P.name.substring(0,2).toUpperCase()}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:P.name})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-sm",children:_(P.totalSeconds)})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex gap-2 text-xs",children:[s.jsx("span",{className:"px-2 py-0.5 rounded bg-purple-50 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 border border-purple-100 dark:border-purple-800",children:_(P.officeSeconds)}),s.jsx("span",{className:"px-2 py-0.5 rounded bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 border border-green-100 dark:border-green-800",children:_(P.remoteSeconds)})]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(at,{className:"w-3 h-3 text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:[P.projectsCount," Proje"]})]})}),s.jsx("td",{className:"py-4 px-6 w-32",children:s.jsx("div",{className:"w-full bg-gray-100 dark:bg-slate-800 rounded-full h-1.5 overflow-hidden",children:s.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all",style:{width:`${D}%`}})})}),s.jsx("td",{className:"py-4 px-6 text-right",children:s.jsx(U,{variant:"ghost",size:"sm",className:"h-8 text-xs text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400",onClick:()=>{h(P.name),p(!0)},children:"Detay"})})]},O)})})]})})]}),s.jsx("div",{className:"space-y-4 pt-4 border-t border-gray-100 dark:border-slate-800",children:s.jsxs("div",{className:"bg-red-50/50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-xl p-6 transition-colors",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(no,{className:"w-6 h-6 text-red-600 dark:text-red-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-red-900 dark:text-red-400",children:"Geciken Grevler"}),s.jsx("p",{className:"text-sm text-red-600/80 dark:text-red-400/80",children:" emirleri ve harici grevlerden geciken tm grevler"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("select",{className:"text-xs bg-white dark:bg-slate-900 border border-red-200 dark:border-red-900/50 rounded-lg px-2 py-1.5 text-gray-700 dark:text-slate-300 outline-none focus:border-red-400",value:y,onChange:P=>g(P.target.value),children:[s.jsx("option",{value:"Tm",children:"Tm Tipler"}),s.jsx("option",{value:" Emri",children:" Emri"}),s.jsx("option",{value:"Harici Grev",children:"Harici Grev"})]}),s.jsxs("select",{className:"text-xs bg-white dark:bg-slate-900 border border-red-200 dark:border-red-900/50 rounded-lg px-2 py-1.5 text-gray-700 dark:text-slate-300 outline-none focus:border-red-400",value:x,onChange:P=>b(P.target.value),children:[s.jsx("option",{value:"Tm",children:"Tm ncelikler"}),s.jsx("option",{value:"Dk",children:"Dk"}),s.jsx("option",{value:"Normal",children:"Normal"}),s.jsx("option",{value:"Yksek",children:"Yksek"}),s.jsx("option",{value:"Acil",children:"Acil"})]}),s.jsx("div",{className:"bg-white dark:bg-red-950/30 px-3 py-1.5 rounded-lg text-xs font-bold text-red-600 dark:text-red-400 border border-red-100 dark:border-red-900/50 shadow-sm",children:G.length})]})]}),s.jsxs("div",{className:"space-y-4",children:[Object.entries(X).map(([P,O])=>s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-red-100 dark:border-red-900/30 overflow-hidden shadow-sm transition-colors",children:[s.jsxs("div",{className:"px-3 py-2 bg-red-50/30 dark:bg-red-900/20 border-b border-red-100 dark:border-red-900/30 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"w-3.5 h-3.5 text-red-500"}),s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:P})]}),s.jsx("span",{className:"text-[10px] font-bold bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 px-1.5 py-0.5 rounded",children:O.length})]}),s.jsx("div",{className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:O.map((F,D)=>s.jsxs("div",{className:"p-2.5 rounded-lg border border-gray-100 dark:border-slate-800 hover:border-red-200 dark:hover:border-red-800 hover:shadow-sm transition-all bg-gray-50/30 dark:bg-slate-800/20 group relative flex flex-col justify-between h-full",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-gray-800 dark:text-slate-200 text-xs line-clamp-1",title:F.title,children:F.title}),$.includes("Kerem Koyuncu")&&s.jsx("button",{onClick:I=>M(I),className:"opacity-0 group-hover:opacity-100 p-0.5 text-gray-400 hover:text-red-600 transition-opacity",title:"Kaldr",children:s.jsx(Ee,{className:"w-3 h-3"})})]}),s.jsx("p",{className:"text-[11px] text-gray-500 dark:text-slate-400 line-clamp-2 mb-2 leading-tight",children:F.description})]}),s.jsxs("div",{className:"flex items-center justify-between text-[10px] pt-2 border-t border-gray-100 dark:border-slate-800 mt-1",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"px-1.5 py-0.5 rounded bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-gray-600 dark:text-slate-300",children:F.type}),s.jsx("span",{className:B("px-1.5 py-0.5 rounded bg-white dark:bg-slate-800 border",F.priority==="Yksek"||F.priority==="Acil"?"border-red-200 dark:border-red-900 text-red-600 dark:text-red-400":"border-gray-200 dark:border-slate-700 text-gray-600 dark:text-slate-300"),children:F.priority||"Normal"})]}),s.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400 flex items-center gap-0.5",children:[s.jsx(Xt,{className:"w-2.5 h-2.5"}),F.date]})]})]},D))})]},P)),Object.keys(X).length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400 text-sm",children:G.length===0&&l.length>0?"Filtre kriterlerine uygun geciken grev bulunamad.":"Geciken grev bulunmamaktadr. Harika!"})]})]})}),f&&A&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>p(!1),children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden animate-in fade-in zoom-in-95 transition-colors",onClick:P=>P.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-800",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 font-bold text-lg",children:A.name.substring(0,2).toUpperCase()}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:A.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"alma Gemii"})]})]}),s.jsx(U,{variant:"ghost",size:"icon",onClick:()=>p(!1),className:"dark:text-slate-400 dark:hover:bg-slate-800",children:s.jsx(Ee,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4 px-1",children:"Son Oturumlar"}),A.sessions.length>0?s.jsx("div",{className:"space-y-3",children:A.sessions.slice().reverse().map((P,O)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-slate-800 border border-gray-100 dark:border-slate-700 hover:border-gray-200 dark:hover:border-slate-600 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:B("w-8 h-8 rounded-full flex items-center justify-center",P.location==="office"?"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400":"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400"),children:P.location==="office"?s.jsx(Qu,{className:"w-4 h-4"}):s.jsx(MN,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:le(ue(P.date),"dd MMMM yyyy")}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:[P.startTime," - ",P.endTime]}),P.description&&s.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 mt-1.5 italic bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded px-2 py-1 max-w-[280px]",children:P.description})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-sm",children:_(P.duration)}),s.jsx(U,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-red-600 dark:hover:text-red-400 h-8 w-8 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:F=>{F.stopPropagation(),W(P)},title:"Oturumu Sil",children:s.jsx(yt,{className:"w-4 h-4"})})]})]},O))}):s.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-slate-500",children:"Kaytl oturum bulunamad."})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",onClick:()=>k(null),children:s.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 transition-colors",onClick:P=>P.stopPropagation(),children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(yt,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Oturumu Sil?"}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-6",children:["Bu ilem geri alnamaz.",s.jsx("strong",{children:j.date?le(ue(j.date),"dd.MM.yyyy"):""})," tarihindeki kayd silmek istiyor musunuz?"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(U,{variant:"outline",className:"flex-1 text-gray-700 dark:text-slate-300 bg-white dark:bg-slate-800 border-gray-300 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700",onClick:()=>k(null),children:"Vazge"}),s.jsx(U,{className:"flex-1 bg-red-600 hover:bg-red-700 text-white border-red-600 shadow-lg shadow-red-500/20",onClick:S,children:"Evet, Sil"})]})]})})})]})}function $C({dateRange:e,projects:t=[],clients:r=[]}){const[a,n]=m.useState([]),[i,l]=m.useState({totalRevenue:0,activeProjects:0,totalClients:0,activeClients:0,topProject:null}),[o,c]=m.useState("");m.useEffect(()=>{try{const u=Array.isArray(t)?t.filter(v=>v&&typeof v=="object"):[],h=Array.isArray(r)?r.filter(v=>v&&typeof v=="object"):[],f=u.filter(v=>{if(!e)return!0;const{startDate:w,endDate:j}=e;if(!w||!j)return!0;let k=new Date;try{v.start_date?k=ue(v.start_date):v.created_at&&(k=ue(v.created_at))}catch{return!1}return isNaN(k.getTime())?!1:k>=w&&k<=j}),p=h.map(v=>{const w=f.filter(k=>k.client_id&&k.client_id===v.id||k.customer&&v.name&&k.customer.trim()===v.name.trim()),j=w.reduce((k,_)=>{const N=typeof _.price=="number"?_.price:parseFloat(_.price)||0;return k+N},0);return{...v,projectCount:w.length,totalRevenue:j,projects:w}});n(p);const x=p.reduce((v,w)=>v+(w.totalRevenue||0),0),b=f.filter(v=>v.status==="Devam Ediyor").length,y=p.filter(v=>v.status==="Aktif").length,g=f.length>0?[...f].sort((v,w)=>{const j=typeof v.price=="number"?v.price:parseFloat(v.price)||0;return(typeof w.price=="number"?w.price:parseFloat(w.price)||0)-j})[0]:null;l({totalRevenue:x,activeProjects:b,totalClients:p.length,activeClients:y,topProject:g})}catch(u){console.error("ClientAnalysis Error:",u)}},[e,t,r]);const d=a.filter(u=>(u.name||"").toLowerCase().includes(o.toLowerCase())).sort((u,h)=>h.totalRevenue-u.totalRevenue);return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center justify-between transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-slate-400 mb-1",children:"Toplam Mteri"}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.totalClients}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1 mt-1",children:[s.jsx(gr,{className:"w-3 h-3"}),i.activeClients," Aktif"]})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-50 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400",children:s.jsx(xN,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center justify-between transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-slate-400 mb-1",children:"Toplam Ciro (Proje)"}),s.jsxs("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["",i.totalRevenue.toLocaleString("tr-TR",{maximumFractionDigits:0})]}),s.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:"Tm zamanlar"})]}),s.jsx("div",{className:"w-12 h-12 bg-green-50 dark:bg-green-900/30 rounded-full flex items-center justify-center text-green-600 dark:text-green-400",children:s.jsx(er,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center justify-between transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-slate-400 mb-1",children:"Aktif Projeler"}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:i.activeProjects}),s.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:"Devam eden iler"})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-50 dark:bg-orange-900/30 rounded-full flex items-center justify-center text-orange-600 dark:text-orange-400",children:s.jsx(at,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm flex items-center justify-between transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-slate-400 mb-1",children:"Ortalama Proje Deeri"}),s.jsxs("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["",a.length>0&&i.totalRevenue>0?(i.totalRevenue/a.length).toLocaleString("tr-TR",{maximumFractionDigits:0}):0]}),s.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:"Mteri bana"})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-50 dark:bg-purple-900/30 rounded-full flex items-center justify-center text-purple-600 dark:text-purple-400",children:s.jsx(Es,{className:"w-6 h-6"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-900 p-8 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"En ok Ciro Yapan Mteriler"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Mteri bazl proje gelir dalm (Top 5)"})]}),s.jsx(Vx,{className:"w-5 h-5 text-gray-400 dark:text-slate-500"})]}),s.jsxs("div",{className:"space-y-6",children:[d.slice(0,5).map((u,h)=>{const f=u.totalRevenue/i.totalRevenue*100||0;return s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:B("w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold",h===0?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":h===1?"bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-slate-300":h===2?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400":"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"),children:h+1}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:u.name}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-500",children:[u.projectCount," proje"]})]})]}),s.jsxs("span",{className:"font-mono font-bold text-gray-700 dark:text-slate-200",children:["",u.totalRevenue.toLocaleString("tr-TR")]})]}),s.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-slate-800 rounded-full overflow-hidden",children:s.jsx("div",{className:B("h-full rounded-full transition-all duration-1000",h===0?"bg-yellow-500":h===1?"bg-gray-500":h===2?"bg-orange-500":"bg-blue-500"),style:{width:`${f}%`}})})]},u.id)}),d.length===0&&s.jsx("div",{className:"text-center py-10 text-gray-400",children:"Veri bulunamad"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-indigo-900 to-indigo-800 p-8 rounded-2xl text-white shadow-xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -mr-16 -mt-16"}),s.jsx("div",{className:"absolute bottom-0 left-0 p-32 bg-indigo-500/20 rounded-full blur-3xl -ml-16 -mb-16"}),s.jsx("h3",{className:"text-lg font-bold mb-6 relative z-10",children:"Mteri Durumu"}),s.jsxs("div",{className:"space-y-6 relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/10 rounded-xl backdrop-blur-sm border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.5)]"}),s.jsx("span",{className:"font-medium",children:"Aktif Mteriler"})]}),s.jsx("span",{className:"text-2xl font-bold",children:i.activeClients})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),s.jsx("span",{className:"font-medium text-indigo-100",children:"Pasif / Skntl"})]}),s.jsx("span",{className:"text-xl font-semibold text-indigo-100",children:a.filter(u=>u.status!=="Aktif").length})]}),s.jsxs("div",{className:"pt-6 border-t border-white/10",children:[s.jsx("p",{className:"text-sm text-indigo-200 mb-2",children:"En Byk Proje"}),i.topProject?s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg truncate",children:i.topProject.name}),s.jsxs("div",{className:"flex justify-between items-center mt-1",children:[s.jsx("span",{className:"text-xs text-indigo-300",children:i.topProject.customer}),s.jsxs("span",{className:"text-sm font-semibold bg-white/20 px-2 py-0.5 rounded text-white",children:["",(typeof i.topProject.price=="number"?i.topProject.price:parseFloat(i.topProject.price)||0).toLocaleString()]})]})]}):s.jsx("span",{className:"text-indigo-300",children:"Henz proje yok"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Mteri Listesi"}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Be,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-slate-500"}),s.jsx("input",{type:"text",placeholder:"Mteri ara...",className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-lg text-sm text-gray-900 dark:text-white focus:outline-none focus:border-blue-500 transition-colors",value:o,onChange:u=>c(u.target.value)})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:d.map(u=>s.jsxs("div",{className:"bg-white dark:bg-slate-900 group hover:shadow-md transition-all duration-300 p-5 rounded-xl border border-gray-100 dark:border-slate-800 flex flex-col justify-between h-full",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-slate-800 dark:to-slate-700 flex items-center justify-center text-gray-600 dark:text-slate-300 font-bold text-lg shadow-inner",children:(u.name||"?").substring(0,2).toUpperCase()}),s.jsx("span",{className:B("px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider",u.status==="Aktif"?"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400":u.status==="Skntl"?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-gray-50 dark:bg-slate-800 text-gray-500 dark:text-slate-400"),children:u.status})]}),s.jsx("h4",{className:"font-bold text-gray-900 dark:text-white line-clamp-1 mb-1",title:u.name,children:u.name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500 mb-4",children:u.type}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500 dark:text-slate-400 text-xs",children:"Toplam Ciro"}),s.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:["",u.totalRevenue.toLocaleString("tr-TR")]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500 dark:text-slate-400 text-xs",children:"Proje Says"}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-slate-300 bg-gray-50 dark:bg-slate-800 px-2 py-0.5 rounded",children:u.projectCount})]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-50 dark:border-slate-800",children:u.projects.length>0?s.jsxs("div",{className:"flex -space-x-2 overflow-hidden py-1",children:[u.projects.slice(0,4).map((h,f)=>s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-100 dark:bg-blue-900 border-2 border-white dark:border-slate-900 flex items-center justify-center text-[8px] text-blue-600 dark:text-blue-200 font-bold",title:h.name,children:(h.name||"?")[0]},f)),u.projects.length>4&&s.jsxs("div",{className:"w-6 h-6 rounded-full bg-gray-100 dark:bg-slate-800 border-2 border-white dark:border-slate-900 flex items-center justify-center text-[8px] text-gray-600 dark:text-slate-400 font-bold",children:["+",u.projects.length-4]})]}):s.jsx("div",{className:"text-xs text-gray-400 italic py-1",children:"Henz proje yok"})})]},u.id))})]})]})}function LC({dateRange:e,projects:t=[],workOrders:r=[]}){const[a,n]=m.useState([]),[i,l]=m.useState({totalProjects:0,activeProjects:0,completedProjects:0,totalValue:0,avgValue:0,highPriority:0});m.useEffect(()=>{const d=t.filter(b=>{if(!e)return!0;const{startDate:y,endDate:g}=e;if(!y||!g)return!0;let v=new Date;return b.start_date?v=ue(b.start_date):b.created_at&&(v=ue(b.created_at)),v>=y&&v<=g});n(d);const u=d.length,h=d.filter(b=>b.status==="Devam Ediyor"||b.status==="Hazrlk"||b.status==="Planlama").length,f=d.filter(b=>b.status==="Tamamland").length,p=d.filter(b=>(b.priority||"Orta")==="Yksek").length,x=d.reduce((b,y)=>{let g=0;return typeof y.price=="number"?g=y.price:typeof y.price=="string"&&(g=parseFloat(y.price.replace(/[^0-9,.]/g,"").replace(",","."))||0),b+g},0);l({totalProjects:u,activeProjects:h,completedProjects:f,totalValue:x,avgValue:u>0?x/u:0,highPriority:p})},[e,t]);const o=d=>{const u=r.filter(h=>String(h.project_id)===String(d.id));if(u.length>0){const h=u.filter(f=>{const p=(f.status||"").trim().toLowerCase();return p==="tamamland"||p==="completed"||p==="done"}).length;return Math.round(h/u.length*100)}return d.status==="Tamamland"?100:d.status==="Hazrlk"||d.status==="Planlama"?0:d.status==="Devam Ediyor"?25:0},c=d=>d.priority||"Orta";return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:s.jsx(Fx,{className:"w-24 h-24"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-indigo-100 font-medium mb-1",children:"Toplam Proje Deeri"}),s.jsxs("h3",{className:"text-3xl font-bold",children:["",i.totalValue.toLocaleString("tr-TR",{maximumFractionDigits:0})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-indigo-200 text-sm",children:[s.jsx(Es,{className:"w-4 h-4"}),s.jsxs("span",{children:["Ort. ",i.avgValue.toLocaleString("tr-TR",{maximumFractionDigits:0})," / proje"]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-2xl p-6 shadow-sm flex flex-col justify-between group hover:border-blue-200 dark:hover:border-blue-800 transition-all",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-slate-400 font-medium text-sm",children:"Devam Eden"}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:i.activeProjects})]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform",children:s.jsx(Ut,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mt-4 w-full bg-gray-100 dark:bg-slate-800 rounded-full h-1.5 overflow-hidden",children:s.jsx("div",{className:"bg-blue-500 h-full rounded-full",style:{width:`${i.totalProjects>0?i.activeProjects/i.totalProjects*100:0}%`}})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-2xl p-6 shadow-sm flex flex-col justify-between group hover:border-emerald-200 dark:hover:border-emerald-800 transition-all",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-slate-400 font-medium text-sm",children:"Tamamlanan"}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:i.completedProjects})]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-50 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform",children:s.jsx(et,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mt-4 w-full bg-gray-100 dark:bg-slate-800 rounded-full h-1.5 overflow-hidden",children:s.jsx("div",{className:"bg-emerald-500 h-full rounded-full",style:{width:`${i.totalProjects>0?i.completedProjects/i.totalProjects*100:0}%`}})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-2xl p-6 shadow-sm flex flex-col justify-between group hover:border-red-200 dark:hover:border-red-800 transition-all",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-slate-400 font-medium text-sm",children:"Yksek ncelikli"}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:i.highPriority})]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 dark:bg-red-900/30 flex items-center justify-center text-red-600 dark:text-red-400 group-hover:scale-110 transition-transform",children:s.jsx(no,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"mt-4 text-xs text-red-600 dark:text-red-400 font-medium bg-red-50 dark:bg-red-900/20 px-2 py-1 rounded w-fit",children:"Dikkat Gerektirenler"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm transition-colors",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[s.jsx(Vx,{className:"w-5 h-5 text-gray-400 dark:text-slate-500"}),"Proje Durum Dalm"]}),s.jsx("div",{className:"space-y-4",children:[{label:"Devam Ediyor",count:i.activeProjects,color:"bg-blue-500",total:i.totalProjects},{label:"Tamamland",count:i.completedProjects,color:"bg-emerald-500",total:i.totalProjects},{label:"Dier",count:i.totalProjects-(i.activeProjects+i.completedProjects),color:"bg-gray-300 dark:bg-slate-700",total:i.totalProjects}].map((d,u)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600 dark:text-slate-300 font-medium",children:d.label}),s.jsx("span",{className:"text-gray-900 dark:text-white font-bold",children:d.count})]}),s.jsx("div",{className:"w-full bg-gray-100 dark:bg-slate-800 rounded-full h-2.5 overflow-hidden",children:s.jsx("div",{className:B("h-full rounded-full transition-all duration-1000",d.color),style:{width:`${d.total>0?d.count/d.total*100:0}%`}})})]},u))}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-slate-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-slate-400",children:"Tamamlanma Oran"}),s.jsxs("span",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["%",i.totalProjects>0?Math.round(i.completedProjects/i.totalProjects*100):0]})]})})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm transition-colors",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[s.jsx(SN,{className:"w-5 h-5 text-gray-400 dark:text-slate-500"}),"Proje lerlemeleri"]}),s.jsxs("div",{className:"space-y-4",children:[a.slice(0,5).map((d,u)=>{const h=o(d),f=c(d);return s.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 dark:border-slate-800 hover:border-gray-200 dark:hover:border-slate-700 hover:shadow-md transition-all bg-gray-50/30 dark:bg-slate-800/20",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:d.name}),s.jsx("span",{className:B("text-[10px] px-2 py-0.5 rounded font-bold uppercase",f==="Yksek"?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":f==="Orta"?"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400":"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400"),children:f})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 flex items-center gap-1",children:[s.jsx(at,{className:"w-3 h-3"})," ",d.customer]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"block font-bold text-gray-900 dark:text-white",children:["",typeof d.price=="number"?d.price.toLocaleString():d.price||"-"]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-500",children:d.start_date||(d.dates||"").split("-")[0]||"?"})]})]}),s.jsxs("div",{className:"relative pt-1",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1 text-xs font-semibold text-gray-600 dark:text-slate-400",children:[s.jsx("span",{children:"lerleme"}),s.jsxs("span",{className:h===100?"text-emerald-600 dark:text-emerald-400":"text-blue-600 dark:text-blue-400",children:["%",h]})]}),s.jsx("div",{className:"overflow-hidden h-2 text-xs flex rounded-full bg-gray-200 dark:bg-slate-700",children:s.jsx("div",{style:{width:`${h}%`},className:B("shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transition-all duration-1000",h===100?"bg-emerald-500":"bg-blue-500")})})]})]},d.id)}),a.length===0&&s.jsx("div",{className:"text-center text-gray-400 py-4",children:"Proje bulunamad"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-start",children:s.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-6 text-white shadow-lg md:col-span-3",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Proje Portfy zeti"}),s.jsxs("p",{className:"text-gray-400 text-sm max-w-xl",children:["Toplam ",a.length," proje ierisinden %",i.totalProjects>0?Math.round(i.activeProjects/i.totalProjects*100):0,"'i aktif olarak devam etmektedir. Yksek ncelikli projelerin toplam portfyn %",i.totalProjects>0?Math.round(i.highPriority/i.totalProjects*100):0,"'ini oluturmaktadr."]})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("div",{className:"text-center bg-white/10 rounded-xl p-4 backdrop-blur-sm",children:[s.jsxs("span",{className:"block text-2xl font-bold text-emerald-400",children:["",(i.totalValue/(i.totalProjects||1)).toLocaleString("tr-TR",{maximumFractionDigits:0})]}),s.jsx("span",{className:"text-xs text-gray-400",children:"Ort. Bte"})]})})]})})})]})}const na=e=>{if(typeof e=="number")return e;if(!e)return 0;if(typeof e=="string"){const t=e.replace(/[^0-9.,-]/g,"").replace(",",".");return parseFloat(t)||0}return 0},ic=e=>{if(!e)return new Date;if(e instanceof Date)return e;if(typeof e!="string")return new Date;try{if(e.includes("-"))return ue(e);const t=e.split(".");if(t.length===3)return new Date(t[2],t[1]-1,t[0])}catch(t){console.warn("Date parse error",t)}return new Date};function zC({transactions:e=[],dateFilter:t="Son 1 Ay"}){const r=Array.isArray(e)?e:[],a=m.useMemo(()=>r,[r]),{startDate:n,endDate:i}=m.useMemo(()=>{const k=new Date;let _=new Date;try{switch(t){case"Son 1 Hafta":_=Jv(k,7);break;case"Son 1 Ay":_=gt(k,1);break;case"Son 3 Ay":_=gt(k,3);break;case"Son 6 Ay":_=gt(k,6);break;case"Son 1 Yl":_=gt(k,12);break;default:_=gt(k,1)}}catch{_=gt(k,1)}return{startDate:_,endDate:k}},[t]),l=m.useMemo(()=>a.filter(k=>{if(!k)return!1;try{const _=ic(k.date);return isNaN(_.getTime())?!1:_>=n&&_<=i}catch{return!1}}),[a,n,i]),o=l.filter(k=>k.type==="income"),c=l.filter(k=>k.type==="expense"),d=o.reduce((k,_)=>k+na(_.amount),0),u=c.reduce((k,_)=>k+na(_.amount),0),h=d-u,f=d>0?h/d*100:0,p=m.useMemo(()=>{try{const k=i.getTime()-n.getTime(),_=new Date(n.getTime()),N=new Date(_.getTime()-k),E=a.filter(R=>{if(!R)return!1;const C=ic(R.date);return isNaN(C.getTime())?!1:C>=N&&C<_}),T=E.filter(R=>R.type==="income").reduce((R,C)=>R+na(C.amount),0),A=E.filter(R=>R.type==="expense").reduce((R,C)=>R+na(C.amount),0);return{income:T,expense:A}}catch{return{income:0,expense:0}}},[a,n,i]),x=(k,_)=>_===0?k>0?100:0:(k-_)/_*100,b=x(d,p.income),y=x(u,p.expense),g=k=>{const _=k.reduce((E,T)=>{const A=T.category||"Dier";return E[A]=(E[A]||0)+na(T.amount),E},{}),N=Object.values(_).reduce((E,T)=>E+T,0);return Object.entries(_).sort(([,E],[,T])=>T-E).map(([E,T])=>({name:E,value:T,percent:N>0?T/N*100:0}))},v=g(o),w=g(c),j=m.useMemo(()=>{try{const k=i.getTime()-n.getTime(),_=Math.ceil(k/(1e3*60*60*24)),N=_<=32;if(_>400)return[];let E=[],T=new Date(n);const A=new Date(i);if(N)for(;T<=A;)E.push(new Date(T)),T.setDate(T.getDate()+1);else for(T.setDate(1);T<=A;)E.push(new Date(T)),T.setMonth(T.getMonth()+1);return E.map(R=>{const C=R.getDate(),G=R.toLocaleString("default",{month:"short"});let X=N?`${C} ${G}`:G;const $=a.filter(S=>{const L=ic(S.date);return isNaN(L.getTime())?!1:N?nh(L,R):Yv(L,R)&&L.getFullYear()===R.getFullYear()}),M=$.filter(S=>S.type==="income").reduce((S,L)=>S+na(L.amount),0),W=$.filter(S=>S.type==="expense").reduce((S,L)=>S+na(L.amount),0);return{label:X,income:M,expense:W}})}catch(k){return console.error("Trend Calc Error",k),[]}},[n,i,a]);return s.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm relative overflow-hidden group transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm font-medium",children:"Toplam Gelir"}),s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:["",d.toLocaleString()]})]}),s.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform",children:s.jsx(Ix,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm relative z-10",children:[s.jsxs("span",{className:B("font-medium",b>=0?"text-emerald-600 dark:text-emerald-400":"text-red-500 dark:text-red-400"),children:[b>0?"+":"",b.toFixed(0),"%"]}),s.jsx("span",{className:"text-gray-400 dark:text-slate-500",children:"geen dneme gre"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm relative overflow-hidden group transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm font-medium",children:"Toplam Gider"}),s.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:["",u.toLocaleString()]})]}),s.jsx("div",{className:"p-2 bg-red-50 dark:bg-red-900/30 rounded-lg text-red-600 dark:text-red-400 group-hover:scale-110 transition-transform",children:s.jsx(fN,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm relative z-10",children:[s.jsxs("span",{className:B("font-medium",y>0?"text-red-500 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"),children:[y>0?"+":"",y.toFixed(0),"%"]}),s.jsx("span",{className:"text-gray-400 dark:text-slate-500",children:"geen dneme gre"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 rounded-2xl shadow-lg relative overflow-hidden text-white group",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium",children:"Net Kar"}),s.jsxs("h3",{className:"text-2xl font-bold mt-1",children:["",h.toLocaleString()]})]}),s.jsx("div",{className:"p-2 bg-white/10 rounded-lg text-white group-hover:scale-110 transition-transform",children:s.jsx(Q0,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm relative z-10",children:[s.jsx(Zx,{className:"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:"text-emerald-400 font-medium",children:["%",f.toFixed(1)," Kar Marj"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm relative overflow-hidden group transition-colors",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 dark:text-slate-400 text-sm font-medium",children:"Finansal Salk"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mt-1",children:f>20?"Mkemmel":f>0?"yi":"Riskli"})]}),s.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform",children:s.jsx(Q0,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 leading-relaxed",children:f>0?"Gelirleriniz yeterli seviyede.":"Giderleriniz gelirlerinizi ayor."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm flex flex-col transition-colors",children:[s.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Nakit Ak Trendi"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Dnemsel gelir vs gider"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs font-medium dark:text-slate-300",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"})," Gelir"]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500"})," Gider"]})]})]}),s.jsx("div",{className:"flex-1 min-h-[250px] relative flex items-end justify-between px-2 gap-2",children:j.length>0?j.map((k,_)=>{const N=Math.max(...j.map(R=>Math.max(R.income,R.expense))),E=N>0?N:100,T=E>0?Math.min(k.income/E*100,100):0,A=E>0?Math.min(k.expense/E*100,100):0;return s.jsxs("div",{className:"flex flex-col items-center flex-1 h-full justify-end group relative",children:[s.jsxs("div",{className:"absolute bottom-full mb-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-900 dark:bg-black text-white text-xs rounded-lg p-2 z-20 pointer-events-none w-32 text-center shadow-xl",children:[s.jsx("div",{className:"font-bold mb-1",children:k.label}),s.jsxs("div",{className:"text-emerald-400",children:["G: ",k.income.toLocaleString()]}),s.jsxs("div",{className:"text-red-400",children:[": ",k.expense.toLocaleString()]})]}),s.jsxs("div",{className:"w-full flex gap-1 items-end justify-center h-full max-w-[40px]",children:[s.jsx("div",{style:{height:`${isNaN(T)?0:T}%`},className:"w-1/2 bg-emerald-200 dark:bg-emerald-900/50 group-hover:bg-emerald-500 transition-all rounded-t-sm"}),s.jsx("div",{style:{height:`${isNaN(A)?0:A}%`},className:"w-1/2 bg-red-200 dark:bg-red-900/50 group-hover:bg-red-500 transition-all rounded-t-sm"})]}),s.jsx("span",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-2 truncate w-full text-center block",children:j.length<=12||_%5===0||_===j.length-1?k.label:""})]},_)}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Veri yok"})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm transition-colors",children:[s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-6",children:"Karllk Analizi"}),s.jsxs("div",{className:"relative w-48 h-48 mx-auto mb-8",children:[s.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full rotate-[-90deg]",children:[s.jsx("path",{className:"text-gray-100 dark:text-slate-800",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3.8"}),!isNaN(f)&&h!==0&&s.jsx("path",{className:h>=0?"text-emerald-500":"text-red-500",strokeDasharray:`${Math.min(f>0?f:0,100)}, 100`,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3.8",strokeLinecap:"round"})]}),s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[(isNaN(f)?0:f).toFixed(0),"%"]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Net Marj"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:"Brt Gelir"}),s.jsxs("span",{className:"font-medium dark:text-slate-200",children:["",d.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:"Toplam Gider"}),s.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:["-",u.toLocaleString()]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-100 dark:border-slate-800 flex justify-between text-sm",children:[s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Kalan Nakit"}),s.jsxs("span",{className:B("font-bold",h>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"),children:[h>=0?"+":"-","",Math.abs(h).toLocaleString()]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Rf,{title:"En ok Gelir Getirenler",items:v,type:"income"}),s.jsx(Rf,{title:"En ok Harcama Yaplanlar",items:w,type:"expense"})]})]})}function Rf({title:e,items:t,type:r}){const a=r==="income";return s.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-gray-100 dark:border-slate-800 shadow-sm transition-colors",children:[s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-6",children:e}),s.jsxs("div",{className:"space-y-4",children:[t.slice(0,5).map((n,i)=>s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:B("w-5 h-5 rounded flex items-center justify-center text-[10px] font-bold",a?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400"),children:i+1}),s.jsx("span",{className:"font-medium text-gray-700 dark:text-slate-300",children:n.name})]}),s.jsx("div",{className:"text-right",children:s.jsxs("span",{className:"block font-bold text-gray-900 dark:text-white",children:["",n.value.toLocaleString()]})})]}),s.jsx("div",{className:"w-full bg-gray-100 dark:bg-slate-800 h-1.5 rounded-full overflow-hidden",children:s.jsx("div",{className:B("h-full rounded-full",a?"bg-emerald-500":"bg-red-500"),style:{width:`${n.percent}%`}})})]},i)),t.length===0&&s.jsx("p",{className:"text-sm text-gray-400 py-4 text-center",children:"Veri yok"})]})]})}class Mf extends dr.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary catches:",t)}render(){var t;return this.state.hasError?s.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("h2",{className:"text-red-800 font-bold mb-2",children:"Build Hatas (Bileen Yklenemedi)"}),s.jsx("details",{className:"text-xs text-red-600 font-mono whitespace-pre-wrap",children:(t=this.state.error)==null?void 0:t.toString()})]}):this.props.children}}function UC(){const[e,t]=m.useState("projeler"),[r,a]=m.useState([]),[n,i]=m.useState([]),[l,o]=m.useState([]),[c,d]=m.useState([]),[u,h]=m.useState([]),[f,p]=m.useState([]),[x,b]=m.useState("Son 1 Ay"),{user:y}=Le(),g=async()=>{try{const{data:j}=await z.from("projects").select("*, clients(name)");j&&a(j.map(A=>{var R;return{...A,customer:((R=A.clients)==null?void 0:R.name)||"Bilinmiyor",price:parseFloat(A.price)||0}}));const{data:k}=await z.from("transactions").select("*");k&&i(k.map(A=>({...A,amount:parseFloat(A.amount)})));const{data:_}=await z.from("clients").select("*");_&&o(_);const{data:N}=await z.from("profiles").select("*");N&&d(N);const{data:E}=await z.from("work_sessions").select("*, profiles(full_name)");E&&h(E.map(A=>{var R;return{...A,user:((R=A.profiles)==null?void 0:R.full_name)||"Bilinmiyor",startTime:A.start_time?le(ue(A.start_time),"HH:mm"):"",endTime:A.end_time?le(ue(A.end_time),"HH:mm"):"",date:A.start_time}}));const{data:T}=await z.from("work_orders").select("*, profiles(full_name)");T&&p(T.map(A=>{var R;return{...A,assignedTo:((R=A.profiles)==null?void 0:R.full_name)||"Bilinmiyor",date:A.due_date}}))}catch(j){console.error("Reports data load error:",j)}};m.useEffect(()=>{y&&g()},[y]);const{startDate:v,endDate:w}=dr.useMemo(()=>{const j=new Date;let k=new Date;switch(x){case"Son 1 Hafta":k=Jv(j,7);break;case"Son 1 Ay":k=gt(j,1);break;case"Son 3 Ay":k=gt(j,3);break;case"Son 6 Ay":k=gt(j,6);break;case"Son 1 Yl":k=gt(j,12);break;default:k=gt(j,1)}return{startDate:k,endDate:j}},[x]);return s.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight transition-colors",children:"Raporlama & Analitik"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium transition-colors",children:" performans ve detayl finansal analizler."})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",value:x,onChange:j=>b(j.target.value),children:[s.jsx("option",{children:"Son 1 Hafta"}),s.jsx("option",{children:"Son 1 Ay"}),s.jsx("option",{children:"Son 3 Ay"}),s.jsx("option",{children:"Son 6 Ay"}),s.jsx("option",{children:"Son 1 Yl"})]}),s.jsxs(U,{variant:"outline",className:"gap-2 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-800 border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 transition-colors",children:[x," ",s.jsx(Xt,{className:"w-4 h-4 text-slate-400 dark:text-slate-500"})]})]})})]}),s.jsx("div",{className:"border-b border-slate-200 dark:border-slate-800 transition-colors",children:s.jsx("nav",{className:"flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:["Projeler","Finans","Personel Analizi","Mteri Analizi"].map(j=>{const k=j.toLowerCase().split(" ")[0];return s.jsx("button",{onClick:()=>t(k),className:B("py-4 px-1 inline-flex items-center gap-2 border-b-2 font-bold text-sm whitespace-nowrap transition-all focus:outline-none",e===k?"border-violet-600 dark:border-violet-500 text-violet-600 dark:text-violet-500":"border-transparent text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:border-slate-300 dark:hover:border-slate-700"),children:j},k)})})}),e==="projeler"&&s.jsx(LC,{dateRange:{startDate:v,endDate:w},projects:r,workOrders:f}),e==="finans"&&s.jsx(Mf,{children:s.jsx(zC,{transactions:n,dateFilter:x})}),e==="personel"&&s.jsx(IC,{projects:r,profiles:c,sessions:u,workOrders:f,dateRange:{startDate:v,endDate:w},dateFilter:x}),e==="mteri"&&s.jsx(Mf,{children:s.jsx($C,{dateRange:{startDate:v,endDate:w},projects:r,clients:l})})]})}function FC(){const{user:e}=Le(),[t,r]=m.useState(null),[a,n]=m.useState([]),[i,l]=m.useState(!0),[o,c]=m.useState(!1),[d,u]=m.useState(!0),[h,f]=m.useState("");m.useEffect(()=>{p()},[]);const p=async()=>{l(!0);const{data:g}=await z.from("meeting_notes").select("*").order("created_at",{ascending:!1});n(g||[]),l(!1),g&&g.length>0},x=async(g=null)=>{const w={title:g?`${g} - ${le(new Date,"d MMM")}`:"",type:g||"Genel",date:new Date().toISOString(),content:"",attendees:[],decisions:[],duration:0,efficiency_score:50,created_by:e==null?void 0:e.id},j="temp-"+Date.now(),k={...w,id:j,isTemp:!0};r(k)},b=async g=>{if(g.isTemp){const{isTemp:v,id:w,...j}=g;(!j.title||!j.title.trim())&&(j.title="Yeni Toplant");const{data:k,error:_}=await z.from("meeting_notes").insert(j).select().single();if(_)return console.error("Save Error:",_),alert("Kayt baarsz: "+_.message),null;if(k)return n([k,...a]),r(k),k}else return await z.from("meeting_notes").update({title:g.title,content:g.content,duration:g.duration,decisions:g.decisions,action_items:g.action_items,efficiency_score:g.efficiency_score,updated_at:new Date().toISOString()}).eq("id",g.id),n(a.map(v=>v.id===g.id?{...v,...g}:v)),g},y=a.filter(g=>{var v;return(v=g.title)==null?void 0:v.toLowerCase().includes(h.toLowerCase())});return s.jsxs("div",{className:B("h-[calc(100vh-4rem)] flex bg-[#F9FAFB] dark:bg-[#020617] group/app",o&&"fixed inset-0 z-50 h-screen bg-white dark:bg-black"),children:[!o&&s.jsxs("div",{className:"w-72 flex flex-col border-r border-gray-200 dark:border-slate-800 bg-white dark:bg-[#0B1120]",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-slate-800/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(qr,{className:"w-5 h-5 text-indigo-600"}),"Notlar"]}),s.jsx(U,{size:"icon",variant:"ghost",onClick:()=>x(),className:"h-8 w-8 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20",children:s.jsx($e,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Be,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{className:"w-full bg-gray-50 dark:bg-slate-900 border-none rounded-lg py-2 pl-9 pr-3 text-sm focus:ring-1 focus:ring-indigo-500",placeholder:"Ara...",value:h,onChange:g=>f(g.target.value)})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[y.length===0&&!i&&s.jsxs("div",{className:"text-center py-10 opacity-50",children:[s.jsx("p",{className:"text-xs",children:"Henz not yok."}),s.jsx(U,{variant:"link",size:"sm",onClick:()=>x(),className:"text-indigo-500 mt-1",children:"Olutur"})]}),y.map(g=>s.jsxs("div",{onClick:()=>r(g),className:B("group flex items-start gap-3 p-3 rounded-lg cursor-pointer transition-all border border-transparent",(t==null?void 0:t.id)===g.id?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-100 dark:border-indigo-900/30":"hover:bg-gray-50 dark:hover:bg-slate-800/50"),children:[s.jsx("div",{className:"mt-1 min-w-[4px] h-[4px] rounded-full bg-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:B("text-sm font-semibold truncate",(t==null?void 0:t.id)===g.id?"text-indigo-900 dark:text-indigo-100":"text-gray-700 dark:text-slate-300"),children:g.title||"Yeni Not"}),s.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-slate-500 mt-0.5 flex items-center gap-2",children:[s.jsx("span",{children:le(new Date(g.date),"d MMM",{locale:Fe})}),g.duration>0&&s.jsxs("span",{children:[" ",Math.floor(g.duration/60),"dk"]})]})]})]},g.id))]})]}),s.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-white dark:bg-[#020617] relative",children:t?s.jsx(BC,{note:t,zenMode:o,toggleZen:()=>c(!o),showRightRail:d,toggleRightRail:()=>u(!d),onSave:b},t.id):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-12 bg-gray-50/50 dark:bg-slate-900/20",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-100 to-white dark:from-slate-800 dark:to-slate-900 rounded-2xl shadow-xl flex items-center justify-center mb-6",children:s.jsx(qr,{className:"w-10 h-10 text-indigo-600 dark:text-indigo-400"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Hazr msnz?"}),s.jsx("p",{className:"text-gray-500 dark:text-slate-400 max-w-sm mb-8",children:"Yeni bir toplant notu oluturun veya sol menden gemi bir notu sein."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-md",children:[s.jsxs("button",{onClick:()=>x("Haftalk"),className:"p-4 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl hover:border-indigo-500 hover:shadow-lg transition-all text-left group",children:[s.jsx(Ut,{className:"w-6 h-6 text-indigo-500 mb-3 group-hover:scale-110 transition-transform"}),s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Haftalk Rapor"}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Standart haftalk zet ablonu"})]}),s.jsxs("button",{onClick:()=>x("Mteri"),className:"p-4 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl hover:border-violet-500 hover:shadow-lg transition-all text-left group",children:[s.jsx(gr,{className:"w-6 h-6 text-violet-500 mb-3 group-hover:scale-110 transition-transform"}),s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Mteri Grmesi"}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Notlar ve aksiyonlar iin"})]})]}),s.jsxs("button",{onClick:()=>x(),className:"mt-8 flex items-center gap-2 text-sm text-gray-500 hover:text-indigo-600 font-medium",children:[s.jsx($e,{className:"w-4 h-4"}),"Bo Not Balat"]})]})})]})}function BC({note:e,zenMode:t,toggleZen:r,showRightRail:a,toggleRightRail:n,onSave:i}){const[l,o]=m.useState(e.title),[c,d]=m.useState(e.content||""),[u,h]=m.useState(e.decisions||[]),[f,p]=m.useState(""),[x,b]=m.useState(""),[y,g]=m.useState((e.action_items||[]).map(D=>({title:D}))||[]),[v,w]=m.useState(!1),[j,k]=m.useState("content"),_=m.useRef("content");m.useEffect(()=>{_.current=j},[j]);const[N,E]=m.useState(!1),[T,A]=m.useState(e.duration||0),R=m.useRef(null),[C,G]=m.useState(!1),X=m.useRef(null);m.useEffect(()=>{},[]),m.useEffect(()=>(N?R.current=setInterval(()=>A(D=>D+1),1e3):clearInterval(R.current),()=>clearInterval(R.current)),[N]),m.useEffect(()=>{const D=setTimeout(()=>{(l!==e.title||c!==e.content||T!==e.duration)&&$()},2e3);return()=>clearTimeout(D)},[l,c,T]);const $=async()=>{w(!0);try{await i({...e,title:l,content:c,duration:T,decisions:u,action_items:y.map(D=>D.title)})}finally{w(!1)}},M=()=>{if(!f.trim())return;const D=[...u,f.trim()];h(D),p(""),i({...e,title:l,content:c,duration:T,decisions:D,action_items:y.map(I=>I.title)})},W=D=>{const I=u.filter((J,Y)=>Y!==D);h(I),i({...e,title:l,content:c,duration:T,decisions:I,action_items:y.map(J=>J.title)})},S=async()=>{if(!x.trim())return;const D=x.trim(),I={id:Date.now(),title:D,status:"Beklemede"};g([I,...y]),b("");const{error:J}=await z.from("external_tasks").insert({title:D,status:"Beklemede",due_date:new Date(Date.now()+864e5).toISOString(),priority:"Normal"});if(J)console.error("Task creation failed:",J),alert("Grev oluturulamad.");else{const Y=[I,...y];i({...e,title:l,content:c,duration:T,decisions:u,action_items:Y.map(ne=>ne.title)})}},L=()=>{const D=u.length>0?u.map(Y=>` ${Y}`).join(`
`):"-",I=y.length>0?y.map(Y=>` ${Y.title}`).join(`
`):"-",J=` *${l}* (${le(new Date,"d MMM")})

 *NOTLAR:*
${c}

 *ALINAN KARARLAR:*
${D}

 *AKSYONLAR:*
${I}`;navigator.clipboard.writeText(J),alert("zet kopyaland! (WhatsApp iin hazr)")},K=()=>{var D;if(C)(D=X.current)==null||D.stop(),G(!1);else{const I=window.SpeechRecognition||window.webkitSpeechRecognition;if(!I)return alert("Sesli yazma bu taraycda desteklenmiyor.");const J=new I;J.lang="tr-TR",J.continuous=!0,J.interimResults=!0,J.onstart=()=>{c+(c&&!c.endsWith(" ")?" ":"")},J.onresult=Y=>{let ne="",V="";for(let se=Y.resultIndex;se<Y.results.length;++se)Y.results[se].isFinal?V+=Y.results[se][0].transcript:ne+=Y.results[se][0].transcript;if(Y.results[Y.results.length-1].isFinal){const se=Y.results[Y.results.length-1][0].transcript;j==="title"?o(ce=>(ce+" "+se).trim()):j==="decision"?p(ce=>(ce+" "+se).trim()):j==="task"?b(ce=>(ce+" "+se).trim()):d(ce=>(ce.trim()?ce.trim()+" ":"")+se.trim())}},J.onerror=Y=>{console.error("Speech error",Y.error),G(!1)},J.start(),X.current=J,G(!0)}},[P,O]=m.useState(!1),F=async()=>{let D=localStorage.getItem("gemini_api_key");if(!D)if(D=prompt("Google Gemini API Anahtarnz giriniz:"),D)localStorage.setItem("gemini_api_key",D);else return;if(!c||c.length<10){alert("Analiz iin en az 10 karakterlik not girmelisiniz.");return}O(!0);try{const I=await xC(c,D),Y=[...I.map((ne,V)=>({id:Date.now()+V,title:ne,status:"Beklemede"})),...y];g(Y);for(const ne of I)await z.from("external_tasks").insert({title:ne,status:"Beklemede",due_date:new Date(Date.now()+864e5).toISOString(),priority:"Normal"});i({...e,title:l,content:c,duration:T,decisions:u,action_items:Y.map(ne=>ne.title)}),alert(`${I.length} adet aksiyon bulundu ve eklendi.`)}catch(I){alert("AI Hatas: "+I.message)}finally{O(!1)}};return s.jsxs("div",{className:"flex-1 flex h-full",children:[s.jsxs("div",{className:"flex-1 flex flex-col h-full bg-white dark:bg-[#020617] relative",children:[s.jsxs("div",{className:B("h-16 border-b border-gray-100 dark:border-slate-800 flex items-center justify-between px-6 transition-all",t&&"opacity-0 hover:opacity-100 absolute top-0 left-0 right-0 z-50 bg-white/90 dark:bg-black/90 backdrop-blur-sm"),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(U,{size:"sm",onClick:$,disabled:v,className:B("gap-2 transition-all",v?"bg-yellow-500":"bg-indigo-600 hover:bg-indigo-700 text-white"),children:[s.jsx(Dn,{className:"w-4 h-4"}),v?"Kaydediliyor...":"Kaydet"]}),s.jsx("span",{className:"text-xs text-gray-400 font-mono hidden sm:inline-block",children:le(new Date,"d MMMM HH:mm",{locale:Fe})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:B("hidden md:flex items-center gap-2 px-3 py-1.5 rounded-full border transition-colors",N?"bg-red-50 border-red-200 text-red-600":"bg-gray-50 border-gray-200 text-gray-600"),children:[s.jsx("button",{onClick:()=>E(!N),children:N?s.jsx(Hx,{className:"w-3.5 h-3.5"}):s.jsx(Gx,{className:"w-3.5 h-3.5"})}),s.jsxs("span",{className:"text-xs font-mono font-medium w-12 text-center",children:[Math.floor(T/60),":",String(T%60).padStart(2,"0")]})]}),s.jsx("div",{className:"w-px h-6 bg-gray-200 dark:bg-slate-800 mx-2"}),s.jsx(U,{size:"icon",variant:"ghost",onClick:K,className:B(C&&"text-red-500 animate-pulse"),children:C?s.jsx(AN,{className:"w-4 h-4"}):s.jsx(RN,{className:"w-4 h-4"})}),s.jsx(U,{size:"icon",variant:"ghost",onClick:r,children:s.jsx(CN,{className:"w-4 h-4"})}),s.jsx(U,{size:"icon",variant:"ghost",onClick:n,className:B(a&&"text-indigo-600 bg-indigo-50"),children:s.jsx(wN,{className:"w-4 h-4 flip-x"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto w-full max-w-4xl mx-auto px-12 py-12 cursor-text",onClick:()=>k("content"),children:[s.jsx("input",{value:l,onChange:D=>o(D.target.value),onFocus:()=>k("title"),onClick:D=>{D.stopPropagation(),k("title")},placeholder:"Not Bal...",className:B("w-full text-4xl font-extrabold text-gray-900 dark:text-white placeholder:text-gray-300 dark:placeholder:text-slate-700 border-none focus:outline-none bg-transparent mb-8 transition-all rounded-lg px-2 -ml-2",C&&j==="title"&&"ring-2 ring-red-500 bg-red-50/50 dark:bg-red-900/20")}),s.jsx("textarea",{value:c,onChange:D=>d(D.target.value),onFocus:()=>k("content"),onClick:D=>{D.stopPropagation(),k("content")},placeholder:"Buraya yazn...",className:B("w-full h-[calc(100%-8rem)] resize-none text-lg leading-loose text-gray-700 dark:text-gray-300 placeholder:text-gray-200 dark:placeholder:text-slate-800 border-none focus:outline-none bg-transparent font-serif transition-all rounded-lg p-2 -ml-2",C&&j==="content"&&"ring-2 ring-red-500 bg-red-50/50 dark:bg-red-900/20")})]})]}),a&&!t&&s.jsxs("div",{className:"w-80 bg-gray-50/80 dark:bg-[#0B1120] border-l border-gray-200 dark:border-slate-800 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-800 flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-sm text-gray-700 dark:text-slate-200",children:"Asistan"}),s.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Aktif"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-gray-500",children:[s.jsx(Z0,{className:"w-3.5 h-3.5"}),"Alnan Kararlar"]}),s.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-lg p-2 shadow-sm space-y-2",children:[u.map((D,I)=>s.jsxs("div",{className:"flex items-start gap-2 text-sm group",children:[s.jsx(Z0,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),s.jsx("span",{className:"flex-1 text-gray-700 dark:text-gray-300",children:D}),s.jsx("button",{onClick:()=>W(I),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500",children:s.jsx(yt,{className:"w-3.5 h-3.5"})})]},I)),s.jsxs("div",{className:"flex items-center gap-2 mt-2 pt-2 border-t border-dashed border-gray-100 dark:border-slate-800",children:[s.jsx($e,{className:"w-4 h-4 text-gray-400"}),s.jsx("input",{className:B("w-full text-sm bg-transparent border-none focus:outline-none placeholder:text-gray-400 p-1 rounded transition-all",C&&j==="decision"&&"ring-2 ring-red-500 bg-red-50"),placeholder:"Yeni karar ekle... (Tkla ve Konu)",value:f,onFocus:()=>k("decision"),onClick:()=>k("decision"),onChange:D=>p(D.target.value),onKeyDown:D=>D.key==="Enter"&&M()})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-gray-500",children:[s.jsx(Zx,{className:"w-3.5 h-3.5"}),"Aksiyon / Grev"]}),s.jsxs(U,{variant:"ghost",size:"xs",onClick:F,disabled:P||!c.trim(),className:"h-6 text-[10px] text-indigo-600 hover:bg-indigo-50",children:[P?s.jsx(st,{className:"w-3 h-3 animate-spin mr-1"}):s.jsx(io,{className:"w-3 h-3 mr-1"}),"AI ile Bul"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{className:B("flex-1 bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-800 rounded-md px-2 py-1.5 text-sm focus:outline-none focus:border-indigo-500 transition-all",C&&j==="task"&&"ring-2 ring-red-500"),placeholder:"Grev ekle... (Tkla ve Konu)",value:x,onFocus:()=>k("task"),onClick:()=>k("task"),onChange:D=>b(D.target.value),onKeyDown:D=>D.key==="Enter"&&S()}),s.jsx(U,{size:"sm",className:"bg-indigo-600 text-white",onClick:S,children:s.jsx($e,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"space-y-2 mt-2",children:[y.map((D,I)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-slate-400 bg-white dark:bg-slate-900 p-2 rounded border border-gray-100 dark:border-slate-800 animate-in fade-in slide-in-from-top-1",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border border-orange-200 bg-orange-50 flex items-center justify-center",children:s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-400"})}),s.jsx("span",{className:"truncate",children:D.title})]},I)),y.length===0&&s.jsx("p",{className:"text-[10px] text-gray-400 italic px-1",children:"Bu toplantdan henz grev oluturulmad."})]})]}),s.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-100 dark:border-indigo-900/40",children:[s.jsxs("div",{className:"text-xs font-bold text-indigo-800 dark:text-indigo-300 mb-2 flex items-center gap-2",children:[s.jsx(Xt,{className:"w-3 h-3"}),"Takvim Senkronu"]}),s.jsx("p",{className:"text-[10px] text-indigo-600/80 dark:text-indigo-300/70",children:"u an yaklaan bir toplant bulunamad."})]})]}),s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-slate-800",children:s.jsxs(U,{className:"w-full bg-black dark:bg-white text-white dark:text-black gap-2 hover:bg-gray-800 transition-colors",size:"sm",onClick:L,children:[s.jsx(Yx,{className:"w-3 h-3"}),"zeti Payla"]})})]})]})}function WC(){var g;const{token:e}=mk(),[t,r]=m.useState(null),[a,n]=m.useState(null),[i,l]=m.useState([]),[o,c]=m.useState(!0),[d,u]=m.useState(null),[h,f]=m.useState(!1),[p,x]=m.useState(!1);m.useEffect(()=>{b()},[e]);const b=async()=>{try{c(!0);const{data:v,error:w}=await z.rpc("get_proposal_public",{token_input:e});if(w)throw w;if(!v||!v.proposal)throw new Error("Teklif bulunamad veya sresi dolmu.");r(v.proposal),l(v.items||[]),n(v.client)}catch(v){console.error(v),u(v.message)}finally{c(!1)}},y=async()=>{if(confirm("Bu teklifi onaylyor musunuz? Onayladnzda ilem balatlacaktr."))try{f(!0);const{data:v,error:w}=await z.rpc("approve_proposal_public",{token_input:e});if(w)throw w;v===!0?(x(!0),r({...t,status:"Onayland"})):alert("Onaylanamad. Ltfen iletiime gein.")}catch(v){alert("Hata: "+v.message)}finally{f(!1)}};return o?s.jsx("div",{className:"h-screen flex items-center justify-center",children:s.jsx(st,{className:"w-10 h-10 animate-spin text-gray-400"})}):d?s.jsxs("div",{className:"h-screen flex flex-col items-center justify-center bg-gray-50 text-center p-4",children:[s.jsx(WN,{className:"w-16 h-16 text-red-400 mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Eriim Hatas"}),s.jsx("p",{className:"text-gray-500 mt-2",children:d})]}):s.jsxs("div",{className:"min-h-screen bg-gray-100 py-10 px-4 font-sans text-gray-800",children:[s.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-2xl rounded-sm overflow-hidden min-h-[1123px] relative flex flex-col",children:[s.jsx("div",{className:"h-4 bg-indigo-600 w-full"}),s.jsx("div",{className:"absolute top-10 right-10",children:t.status==="Onayland"||p?s.jsxs("div",{className:"flex flex-col items-center justify-center border-4 border-green-500 text-green-600 rounded-full w-32 h-32 transform rotate-12 opacity-80 backdrop-blur-sm",children:[s.jsx(et,{className:"w-10 h-10"}),s.jsx("span",{className:"font-black text-lg uppercase",children:"ONAYLANDI"}),s.jsx("span",{className:"text-[10px] font-mono",children:le(new Date,"dd.MM.yyyy")})]}):s.jsx("div",{className:"bg-gray-100 text-gray-500 px-4 py-1 rounded-full text-xs font-bold uppercase tracking-widest",children:t.status})}),s.jsxs("div",{className:"p-16 flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-start mb-16",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-gray-900 tracking-tight mb-2",children:"Hizmet Teklifi"}),s.jsxs("p",{className:"text-gray-400 font-medium",children:["#",t.proposal_number||"TRH-001"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h3",{className:"font-bold text-xl text-gray-800",children:"Bugless Yazlm A.."}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Teknoloji Vadisi, stanbul"}),s.jsx("p",{className:"text-sm text-gray-500",children:"info@bugless.com"}),s.jsx("p",{className:"text-sm text-gray-500",children:"+90 212 555 0000"})]})]}),s.jsxs("div",{className:"flex justify-between mb-16 border-b border-gray-100 pb-8",children:[s.jsxs("div",{className:"w-1/2",children:[s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Sayn Mteri"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:typeof a=="object"?a==null?void 0:a.name:a}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:t.client_address||"Adres bilgisi yok"})]}),s.jsxs("div",{className:"w-1/2 flex justify-end gap-12",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Teklif Tarihi"}),s.jsx("p",{className:"font-bold text-gray-900",children:le(new Date(t.created_at),"dd MMM yyyy",{locale:Fe})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Geerlilik"}),s.jsx("p",{className:"font-bold text-red-500",children:t.valid_until?le(new Date(t.valid_until),"dd MMM yyyy",{locale:Fe}):"Belirtilmemi"})]})]})]}),s.jsx("div",{className:"mb-12",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b-2 border-gray-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 text-sm font-bold text-gray-900 uppercase tracking-wide w-1/2",children:"Hizmet / Aklama"}),s.jsx("th",{className:"text-center py-3 text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Miktar"}),s.jsx("th",{className:"text-right py-3 text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Birim Fiyat"}),s.jsx("th",{className:"text-right py-3 text-sm font-bold text-gray-900 uppercase tracking-wide",children:"Toplam"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:i.map((v,w)=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-4 pr-4",children:s.jsx("p",{className:"font-bold text-gray-800",children:v.description})}),s.jsx("td",{className:"py-4 text-center text-gray-600",children:v.quantity}),s.jsxs("td",{className:"py-4 text-right text-gray-600",children:[parseFloat(v.unit_price).toLocaleString()," ",t.currency]}),s.jsxs("td",{className:"py-4 text-right font-medium text-gray-900",children:[(v.quantity*v.unit_price).toLocaleString()," ",t.currency]})]},w))})]})}),s.jsx("div",{className:"flex justify-end mb-16",children:s.jsxs("div",{className:"w-72 space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-gray-500",children:[s.jsx("span",{children:"Ara Toplam"}),s.jsxs("span",{children:[(g=t.total_amount)==null?void 0:g.toLocaleString()," ",t.currency]})]}),s.jsxs("div",{className:"flex justify-between text-gray-500",children:[s.jsxs("span",{children:["KDV (%",t.tax_rate,")"]}),s.jsxs("span",{children:[(t.total_amount*(t.tax_rate/100)).toLocaleString()," ",t.currency]})]}),s.jsxs("div",{className:"flex justify-between items-center py-4 border-t-2 border-gray-900",children:[s.jsx("span",{className:"font-black text-xl text-gray-900",children:"GENEL TOPLAM"}),s.jsxs("span",{className:"font-black text-2xl text-indigo-700",children:[(t.total_amount*(1+t.tax_rate/100)).toLocaleString()," ",t.currency]})]})]})}),s.jsxs("div",{className:"mt-auto pt-8 border-t border-gray-100",children:[s.jsx("h4",{className:"text-sm font-bold text-gray-900 uppercase mb-2",children:"Hizmet artlar & Notlar"}),s.jsx("p",{className:"text-sm text-gray-500 leading-relaxed max-w-2xl",children:t.notes||"Bu teklif 15 gn sreyle geerlidir. deme %50 pein, %50 i tesliminde tahsil edilecektir. Fiyatlara KDV dahil deildir (yukarda ayrca belirtilmitir)."})]})]}),s.jsxs("div",{className:"bg-gray-900 text-white p-6 print:hidden flex items-center justify-between sticky bottom-0 z-50",children:[s.jsxs("div",{className:"text-sm opacity-80",children:["Bu belge ",s.jsx("strong",{children:"Bugless CRM"})," altyaps ile oluturulmutur."]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-6 py-3 bg-gray-800 hover:bg-gray-700 rounded-lg font-bold transition-all",children:[s.jsx(jN,{className:"w-4 h-4"})," PDF ndir"]}),t.status!=="Onayland"&&!p&&s.jsxs("button",{onClick:y,disabled:h,className:"flex items-center gap-2 px-8 py-3 bg-green-600 hover:bg-green-500 rounded-lg font-bold shadow-lg shadow-green-900/20 transform hover:-translate-y-1 transition-all",children:[h?s.jsx(st,{className:"w-4 h-4 animate-spin"}):s.jsx(et,{className:"w-4 h-4"}),"TEKLF ONAYLA"]})]})]})]}),s.jsx("style",{children:`
           @media print {
               @page { size: A4; margin: 0; }
               body { background: white; -webkit-print-color-adjust: exact; }
               .print\\:hidden { display: none !important; }
               .shadow-2xl { box-shadow: none !important; }
               .min-h-screen { padding: 0 !important; }
           }
       `})]})}function HC(){const[e,t]=m.useState(""),[r,a]=m.useState(""),[n,i]=m.useState(!1),[l,o]=m.useState(!1),c=xr(),d=async u=>{u.preventDefault(),o(!0);try{const{data:h,error:f}=await z.auth.signInWithPassword({email:e,password:r});if(f)throw f;c("/")}catch(h){console.error("Auth error:",h),alert(h.message||"Bir hata olutu.")}finally{o(!1)}};return s.jsxs("div",{className:"min-h-screen bg-black flex overflow-hidden relative",children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("div",{className:"absolute -top-40 -left-40 w-96 h-96 bg-blue-900/20 rounded-full blur-[128px]"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white/5 rounded-full blur-[128px]"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-purple-900/10 rounded-full blur-[96px]"}),s.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"})]}),s.jsx("div",{className:"hidden lg:flex w-1/2 relative z-10 items-center justify-center p-12",children:s.jsxs("div",{className:"w-full max-w-lg space-y-8",children:[s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"w-24 h-24 bg-white rounded-2xl flex items-center justify-center shadow-[0_0_40px_-10px_rgba(255,255,255,0.3)]",children:s.jsxs("svg",{viewBox:"0 0 100 100",className:"w-16 h-16 fill-black",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{cx:"25",cy:"75",r:"10"}),s.jsx("circle",{cx:"45",cy:"55",r:"10"}),s.jsx("rect",{x:"25",y:"25",width:"12",height:"60",rx:"6",transform:"rotate(-45 55 55)"}),s.jsx("rect",{x:"50",y:"25",width:"12",height:"60",rx:"6",transform:"rotate(-45 80 55)"})]})}),s.jsxs("h1",{className:"text-7xl font-sans font-black text-white tracking-tighter leading-none",children:["BUGLESS",s.jsx("br",{}),s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-gray-200 to-gray-500",children:"DIGITAL"})]}),s.jsx("p",{className:"text-gray-400 text-lg max-w-sm leading-relaxed",children:"Gl CRM altyaps ile i srelerinizi kusursuz ynetin."})]}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-white/10 bg-white/5 text-white/50 text-sm backdrop-blur-md",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Sistem Durumu: Aktif ve Gvenli"]})]})}),s.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 z-10 bg-black/40 backdrop-blur-sm lg:bg-transparent lg:backdrop-blur-none transition-all",children:s.jsxs("div",{className:"w-full max-w-md space-y-8",children:[s.jsxs("div",{className:"lg:hidden flex flex-col items-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-white rounded-xl flex items-center justify-center shadow-lg mb-4",children:s.jsxs("svg",{viewBox:"0 0 100 100",className:"w-10 h-10 fill-black",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{cx:"25",cy:"75",r:"10"}),s.jsx("circle",{cx:"45",cy:"55",r:"10"}),s.jsx("rect",{x:"25",y:"25",width:"12",height:"60",rx:"6",transform:"rotate(-45 55 55)"}),s.jsx("rect",{x:"50",y:"25",width:"12",height:"60",rx:"6",transform:"rotate(-45 80 55)"})]})}),s.jsx("h2",{className:"text-3xl font-black text-white tracking-tighter",children:"BUGLESS DIGITAL"})]}),s.jsxs("div",{className:"space-y-2 text-center lg:text-left",children:[s.jsx("h2",{className:"text-3xl font-bold text-white tracking-tight",children:"Giri Yap"}),s.jsx("p",{className:"text-gray-500",children:"Hesabnza erimek iin bilgilerinizi giriniz."})]}),s.jsxs("form",{onSubmit:d,className:"space-y-5",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400 pl-1",children:"E-posta"}),s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500 group-focus-within:text-white transition-colors",children:s.jsx(Bx,{className:"w-5 h-5"})}),s.jsx("input",{type:"email",className:"block w-full pl-10 pr-3 py-3 border border-white/10 rounded-xl bg-white/5 text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/20 focus:border-white/20 transition-all",placeholder:"ornek@bugless.com",value:e,onChange:u=>t(u.target.value),required:!0})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("div",{className:"flex items-center justify-between pl-1",children:s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"ifre"})}),s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500 group-focus-within:text-white transition-colors",children:s.jsx(PN,{className:"w-5 h-5"})}),s.jsx("input",{type:n?"text":"password",className:"block w-full pl-10 pr-10 py-3 border border-white/10 rounded-xl bg-white/5 text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-white/20 focus:border-white/20 transition-all",placeholder:"",value:r,onChange:u=>a(u.target.value),required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-white transition-colors",children:n?s.jsx(NN,{className:"w-5 h-5"}):s.jsx(Pa,{className:"w-5 h-5"})})]})]}),s.jsx(U,{type:"submit",disabled:l,className:"w-full h-12 bg-white text-black hover:bg-gray-200 hover:scale-[1.02] active:scale-[0.98] transition-all font-bold text-base shadow-[0_0_20px_-5px_rgba(255,255,255,0.3)] rounded-xl",children:l?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"Giri Yaplyor..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:["Giri Yap ",s.jsx(qu,{className:"w-5 h-5"})]})})]}),s.jsx("div",{className:"pt-6 text-center text-sm text-gray-600",children:s.jsx("p",{className:"mt-4",children:" 2025 Bugless Digital. Tm haklar sakldr."})})]})})]})}const VC=({children:e})=>{const{session:t,loading:r}=Le();return r?s.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-50 dark:bg-slate-950",children:s.jsx(st,{className:"w-8 h-8 animate-spin text-primary"})}):t?e:s.jsx(Tk,{to:"/login",replace:!0})};function GC(){return s.jsxs(Ak,{children:[s.jsx(Ce,{path:"/login",element:s.jsx(HC,{})}),s.jsx(Ce,{path:"/proposal/:token",element:s.jsx(WC,{})}),s.jsxs(Ce,{path:"/",element:s.jsx(VC,{children:s.jsx(WS,{})}),children:[s.jsx(Ce,{index:!0,element:s.jsx(Pf,{})}),s.jsx(Ce,{path:"dashboard",element:s.jsx(Pf,{})}),s.jsx(Ce,{path:"users",element:s.jsx(iC,{})}),s.jsx(Ce,{path:"clients",element:s.jsx(cC,{})}),s.jsx(Ce,{path:"projects",element:s.jsx(hC,{})}),s.jsx(Ce,{path:"proposals",element:s.jsx(yC,{})}),s.jsx(Ce,{path:"staff",element:s.jsx(mC,{})}),s.jsx(Ce,{path:"work-orders",element:s.jsx(bC,{})}),s.jsx(Ce,{path:"calendar",element:s.jsx(NC,{})}),s.jsx(Ce,{path:"finance",element:s.jsx(_C,{})}),s.jsx(Ce,{path:"income-expense",element:s.jsx(EC,{})}),s.jsx(Ce,{path:"collections",element:s.jsx(PC,{})}),s.jsx(Ce,{path:"external-tasks",element:s.jsx(OC,{})}),s.jsx(Ce,{path:"reports",element:s.jsx(UC,{})}),s.jsx(Ce,{path:"meeting-notes",element:s.jsx(FC,{})}),s.jsx(Ce,{path:"search",element:s.jsx(RC,{})}),s.jsx(Ce,{path:"settings",element:s.jsx(DC,{})})]})]})}function ba(e){return Object.keys(e)}function lc(e){return e&&typeof e=="object"&&!Array.isArray(e)}function ih(e,t){const r={...e},a=t;return lc(e)&&lc(t)&&Object.keys(t).forEach(n=>{lc(a[n])&&n in e?r[n]=ih(r[n],a[n]):r[n]=a[n]}),r}function qC(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function KC(e){const t=qC(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Df(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function Zv(e,{shouldScale:t=!1}={}){function r(a){if(a===0||a==="0")return`0${e}`;if(typeof a=="number"){const n=`${a/16}${e}`;return t?Df(n):n}if(typeof a=="string"){if(a===""||a.startsWith("calc(")||a.startsWith("clamp(")||a.includes("rgba("))return a;if(a.includes(","))return a.split(",").map(i=>r(i)).join(",");if(a.includes(" "))return a.split(" ").map(i=>r(i)).join(" ");const n=a.replace("px","");if(!Number.isNaN(Number(n))){const i=`${Number(n)/16}${e}`;return t?Df(i):i}}return a}return r}const Q=Zv("rem",{shouldScale:!0}),If=Zv("em"),ey=typeof document<"u"?m.useLayoutEffect:m.useEffect,ty=m.createContext(null);function ry(){const e=m.useContext(ty);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function YC(){return ry().cssVariablesResolver}function ay(){return ry().getStyleNonce}function JC(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function QC(e){let t=e.replace("#","");if(t.length===3){const l=t.split("");t=[l[0],l[0],l[1],l[1],l[2],l[2]].join("")}if(t.length===8){const l=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:l}}const r=parseInt(t,16),a=r>>16&255,n=r>>8&255,i=r&255;return{r:a,g:n,b:i,a:1}}function XC(e){const[t,r,a,n]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:a,a:n===void 0?1:n}}function ZC(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const a=parseInt(r[1],10),n=parseInt(r[2],10)/100,i=parseInt(r[3],10)/100,l=r[5]?parseFloat(r[5]):void 0,o=(1-Math.abs(2*i-1))*n,c=a/60,d=o*(1-Math.abs(c%2-1)),u=i-o/2;let h,f,p;return c>=0&&c<1?(h=o,f=d,p=0):c>=1&&c<2?(h=d,f=o,p=0):c>=2&&c<3?(h=0,f=o,p=d):c>=3&&c<4?(h=0,f=d,p=o):c>=4&&c<5?(h=d,f=0,p=o):(h=o,f=0,p=d),{r:Math.round((h+u)*255),g:Math.round((f+u)*255),b:Math.round((p+u)*255),a:l||1}}function lh(e){return JC(e)?QC(e):e.startsWith("rgb")?XC(e):e.startsWith("hsl")?ZC(e):{r:0,g:0,b:0,a:1}}function Ti(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:a,b:n,a:i}=lh(e),l=1-t,o=c=>Math.round(c*l);return`rgba(${o(r)}, ${o(a)}, ${o(n)}, ${i})`}function zn(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function oc(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function e4(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function t4(e){if(e.startsWith("oklch("))return(e4(e)||0)/100;const{r:t,g:r,b:a}=lh(e),n=t/255,i=r/255,l=a/255,o=oc(n),c=oc(i),d=oc(l);return .2126*o+.7152*c+.0722*d}function Js(e,t=.179){return e.startsWith("var(")?!1:t4(e)>t}function oh({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Js(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Js(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Js(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[a,n]=e.split("."),i=n?Number(n):void 0,l=a in t.colors;if(l){const o=i!==void 0?t.colors[a][i]:t.colors[a][zn(t,r||"light")];return{color:a,value:o,shade:i,isThemeColor:l,isLight:Js(o,t.luminanceThreshold),variable:n?`--mantine-color-${a}-${i}`:`--mantine-color-${a}-filled`}}return{color:e,value:e,isThemeColor:l,isLight:Js(e,t.luminanceThreshold),shade:i,variable:void 0}}function $f(e,t){const r=oh({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function Lf(e,t){const r={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},a=$f(r.from,t),n=$f(r.to,t);return`linear-gradient(${r.deg}deg, ${a} 0%, ${n} 100%)`}function ar(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const i=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${i}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:a,b:n}=lh(e);return`rgba(${r}, ${a}, ${n}, ${t})`}const Ba=ar,r4=({color:e,theme:t,variant:r,gradient:a,autoContrast:n})=>{const i=oh({color:e,theme:t}),l=typeof n=="boolean"?n:t.autoContrast;if(r==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(r==="filled"){const o=l&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:o,border:`${Q(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:o,border:`${Q(1)} solid transparent`}:{background:e,hover:Ti(e,.1),color:o,border:`${Q(1)} solid transparent`}}if(r==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Q(1)} solid transparent`};const o=t.colors[i.color][i.shade];return{background:ar(o,.1),hover:ar(o,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${Q(1)} solid transparent`}}return{background:ar(e,.1),hover:ar(e,.12),color:e,border:`${Q(1)} solid transparent`}}if(r==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Q(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:ar(t.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${Q(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:ar(e,.05),color:e,border:`${Q(1)} solid ${e}`};if(r==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Q(1)} solid transparent`};const o=t.colors[i.color][i.shade];return{background:"transparent",hover:ar(o,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${Q(1)} solid transparent`}}return{background:"transparent",hover:ar(e,.12),color:e,border:`${Q(1)} solid transparent`}}return r==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Q(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${Q(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Q(1)} solid transparent`}:r==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:Ti(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Q(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ti(t.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${Q(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Ti(t.white,.01),color:e,border:`${Q(1)} solid transparent`}:r==="gradient"?{background:Lf(a,t),hover:Lf(a,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Q(1)} solid var(--mantine-color-default-border)`}:{}},a4={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},zf="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",ch={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:a4,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:r4,autoContrast:!1,luminanceThreshold:.3,fontFamily:zf,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:zf,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Q(34),lineHeight:"1.3"},h2:{fontSize:Q(26),lineHeight:"1.35"},h3:{fontSize:Q(22),lineHeight:"1.4"},h4:{fontSize:Q(18),lineHeight:"1.45"},h5:{fontSize:Q(16),lineHeight:"1.5"},h6:{fontSize:Q(14),lineHeight:"1.5"}}},fontSizes:{xs:Q(12),sm:Q(14),md:Q(16),lg:Q(18),xl:Q(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Q(2),sm:Q(4),md:Q(8),lg:Q(16),xl:Q(32)},spacing:{xs:Q(10),sm:Q(12),md:Q(16),lg:Q(20),xl:Q(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Q(1)} ${Q(3)} rgba(0, 0, 0, 0.05), 0 ${Q(1)} ${Q(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Q(1)} ${Q(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Q(10)} ${Q(15)} ${Q(-5)}, rgba(0, 0, 0, 0.04) 0 ${Q(7)} ${Q(7)} ${Q(-5)}`,md:`0 ${Q(1)} ${Q(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Q(20)} ${Q(25)} ${Q(-5)}, rgba(0, 0, 0, 0.04) 0 ${Q(10)} ${Q(10)} ${Q(-5)}`,lg:`0 ${Q(1)} ${Q(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Q(28)} ${Q(23)} ${Q(-7)}, rgba(0, 0, 0, 0.04) 0 ${Q(12)} ${Q(12)} ${Q(-7)}`,xl:`0 ${Q(1)} ${Q(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Q(36)} ${Q(28)} ${Q(-7)}, rgba(0, 0, 0, 0.04) 0 ${Q(17)} ${Q(17)} ${Q(-7)}`},other:{},components:{}};function Uf(e){return e==="auto"||e==="dark"||e==="light"}function s4({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const a=window.localStorage.getItem(e);return Uf(a)?a:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(a){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",a)}},subscribe:r=>{t=a=>{a.storageArea===window.localStorage&&a.key===e&&Uf(a.newValue)&&r(a.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const n4="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Ff="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function cc(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Bf(e){if(!(e.primaryColor in e.colors))throw new Error(n4);if(typeof e.primaryShade=="object"&&(!cc(e.primaryShade.dark)||!cc(e.primaryShade.light)))throw new Error(Ff);if(typeof e.primaryShade=="number"&&!cc(e.primaryShade))throw new Error(Ff)}function i4(e,t){var a;if(!t)return Bf(e),e;const r=ih(e,t);return t.fontFamily&&!((a=t.headings)!=null&&a.fontFamily)&&(r.headings.fontFamily=t.fontFamily),Bf(r),r}const dh=m.createContext(null),l4=()=>m.useContext(dh)||ch;function sy(){const e=m.useContext(dh);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function ny({theme:e,children:t,inherit:r=!0}){const a=l4(),n=m.useMemo(()=>i4(r?a:ch,e),[e,a,r]);return s.jsx(dh.Provider,{value:n,children:t})}ny.displayName="@mantine/core/MantineThemeProvider";function o4(){const e=sy(),t=ay(),r=ba(e.breakpoints).reduce((a,n)=>{const i=e.breakpoints[n].includes("px"),l=KC(e.breakpoints[n]),o=i?`${l-.1}px`:If(l-.1),c=i?`${l}px`:If(l);return`${a}@media (max-width: ${o}) {.mantine-visible-from-${n} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${n} {display: none !important;}}`},"");return s.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:r}})}function dc(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function iy(e,t){const r=t?[t]:[":root",":host"],a=dc(e.variables),n=a?`${r.join(", ")}{${a}}`:"",i=dc(e.dark),l=dc(e.light),o=u=>r.map(h=>h===":host"?`${h}([data-mantine-color-scheme="${u}"])`:`${h}[data-mantine-color-scheme="${u}"]`).join(", "),c=i?`${o("dark")}{${i}}`:"",d=l?`${o("light")}{${l}}`:"";return`${n}

${c}

${d}`}function c4({color:e,theme:t,autoContrast:r}){return t.autoContrast&&oh({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Wf(e,t){return c4({color:e.colors[e.primaryColor][zn(e,t)],theme:e,autoContrast:null})}function Pi({theme:e,color:t,colorScheme:r,name:a=t,withColorValues:n=!0}){if(!e.colors[t])return{};if(r==="light"){const o=zn(e,"light"),c={[`--mantine-color-${a}-text`]:`var(--mantine-color-${a}-filled)`,[`--mantine-color-${a}-filled`]:`var(--mantine-color-${a}-${o})`,[`--mantine-color-${a}-filled-hover`]:`var(--mantine-color-${a}-${o===9?8:o+1})`,[`--mantine-color-${a}-light`]:Ba(e.colors[t][o],.1),[`--mantine-color-${a}-light-hover`]:Ba(e.colors[t][o],.12),[`--mantine-color-${a}-light-color`]:`var(--mantine-color-${a}-${o})`,[`--mantine-color-${a}-outline`]:`var(--mantine-color-${a}-${o})`,[`--mantine-color-${a}-outline-hover`]:Ba(e.colors[t][o],.05)};return n?{[`--mantine-color-${a}-0`]:e.colors[t][0],[`--mantine-color-${a}-1`]:e.colors[t][1],[`--mantine-color-${a}-2`]:e.colors[t][2],[`--mantine-color-${a}-3`]:e.colors[t][3],[`--mantine-color-${a}-4`]:e.colors[t][4],[`--mantine-color-${a}-5`]:e.colors[t][5],[`--mantine-color-${a}-6`]:e.colors[t][6],[`--mantine-color-${a}-7`]:e.colors[t][7],[`--mantine-color-${a}-8`]:e.colors[t][8],[`--mantine-color-${a}-9`]:e.colors[t][9],...c}:c}const i=zn(e,"dark"),l={[`--mantine-color-${a}-text`]:`var(--mantine-color-${a}-4)`,[`--mantine-color-${a}-filled`]:`var(--mantine-color-${a}-${i})`,[`--mantine-color-${a}-filled-hover`]:`var(--mantine-color-${a}-${i===9?8:i+1})`,[`--mantine-color-${a}-light`]:Ba(e.colors[t][Math.max(0,i-2)],.15),[`--mantine-color-${a}-light-hover`]:Ba(e.colors[t][Math.max(0,i-2)],.2),[`--mantine-color-${a}-light-color`]:`var(--mantine-color-${a}-${Math.max(i-5,0)})`,[`--mantine-color-${a}-outline`]:`var(--mantine-color-${a}-${Math.max(i-4,0)})`,[`--mantine-color-${a}-outline-hover`]:Ba(e.colors[t][Math.max(i-4,0)],.05)};return n?{[`--mantine-color-${a}-0`]:e.colors[t][0],[`--mantine-color-${a}-1`]:e.colors[t][1],[`--mantine-color-${a}-2`]:e.colors[t][2],[`--mantine-color-${a}-3`]:e.colors[t][3],[`--mantine-color-${a}-4`]:e.colors[t][4],[`--mantine-color-${a}-5`]:e.colors[t][5],[`--mantine-color-${a}-6`]:e.colors[t][6],[`--mantine-color-${a}-7`]:e.colors[t][7],[`--mantine-color-${a}-8`]:e.colors[t][8],[`--mantine-color-${a}-9`]:e.colors[t][9],...l}:l}function d4(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Wa(e,t,r){ba(t).forEach(a=>Object.assign(e,{[`--mantine-${r}-${a}`]:t[a]}))}const ly=e=>{const t=zn(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Q(e.defaultRadius),a={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":Wf(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":Wf(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};Wa(a.variables,e.breakpoints,"breakpoint"),Wa(a.variables,e.spacing,"spacing"),Wa(a.variables,e.fontSizes,"font-size"),Wa(a.variables,e.lineHeights,"line-height"),Wa(a.variables,e.shadows,"shadow"),Wa(a.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((i,l)=>{a.variables[`--mantine-primary-color-${l}`]=`var(--mantine-color-${e.primaryColor}-${l})`}),ba(e.colors).forEach(i=>{const l=e.colors[i];if(d4(l)){Object.assign(a.light,Pi({theme:e,name:l.name,color:l.light,colorScheme:"light",withColorValues:!0})),Object.assign(a.dark,Pi({theme:e,name:l.name,color:l.dark,colorScheme:"dark",withColorValues:!0}));return}l.forEach((o,c)=>{a.variables[`--mantine-color-${i}-${c}`]=o}),Object.assign(a.light,Pi({theme:e,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(a.dark,Pi({theme:e,color:i,colorScheme:"dark",withColorValues:!1}))});const n=e.headings.sizes;return ba(n).forEach(i=>{a.variables[`--mantine-${i}-font-size`]=n[i].fontSize,a.variables[`--mantine-${i}-line-height`]=n[i].lineHeight,a.variables[`--mantine-${i}-font-weight`]=n[i].fontWeight||e.headings.fontWeight}),a};function u4({theme:e,generator:t}){const r=ly(e),a=t==null?void 0:t(e);return a?ih(r,a):r}const uc=ly(ch);function h4(e){const t={variables:{},light:{},dark:{}};return ba(e.variables).forEach(r=>{uc.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),ba(e.light).forEach(r=>{uc.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),ba(e.dark).forEach(r=>{uc.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function f4(e){return iy({variables:{},dark:{"--mantine-color-scheme":"dark"},light:{"--mantine-color-scheme":"light"}},e)}function oy({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=sy(),a=ay(),n=YC(),i=u4({theme:r,generator:n}),l=(e===void 0||e===":root"||e===":host")&&t,o=l?h4(i):i,c=iy(o,e);return c?s.jsx("style",{"data-mantine-styles":!0,nonce:a==null?void 0:a(),dangerouslySetInnerHTML:{__html:`${c}${l?"":f4(e)}`}}):null}oy.displayName="@mantine/CssVariables";function Ha(e,t){var n,i;const r=typeof window<"u"&&"matchMedia"in window&&((n=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:n.matches),a=e!=="auto"?e:r?"dark":"light";(i=t())==null||i.setAttribute("data-mantine-color-scheme",a)}function m4({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:a}){const n=m.useRef(null),[i,l]=m.useState(()=>e.get(t)),o=a||i,c=m.useCallback(u=>{a||(Ha(u,r),l(u),e.set(u))},[e.set,o,a]),d=m.useCallback(()=>{l(t),Ha(t,r),e.clear()},[e.clear,t]);return m.useEffect(()=>(e.subscribe(c),e.unsubscribe),[e.subscribe,e.unsubscribe]),ey(()=>{Ha(e.get(t),r)},[]),m.useEffect(()=>{var h;if(a)return Ha(a,r),()=>{};a===void 0&&Ha(i,r),typeof window<"u"&&"matchMedia"in window&&(n.current=window.matchMedia("(prefers-color-scheme: dark)"));const u=f=>{i==="auto"&&Ha(f.matches?"dark":"light",r)};return(h=n.current)==null||h.addEventListener("change",u),()=>{var f;return(f=n.current)==null?void 0:f.removeEventListener("change",u)}},[i,a]),{colorScheme:o,setColorScheme:c,clearColorScheme:d}}function g4({respectReducedMotion:e,getRootElement:t}){ey(()=>{var r;e&&((r=t())==null||r.setAttribute("data-respect-reduced-motion","true"))},[e])}function cy({theme:e,children:t,getStyleNonce:r,withStaticClasses:a=!0,withGlobalClasses:n=!0,deduplicateCssVariables:i=!0,withCssVariables:l=!0,cssVariablesSelector:o,classNamesPrefix:c="mantine",colorSchemeManager:d=s4(),defaultColorScheme:u="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:p,stylesTransform:x,env:b}){const{colorScheme:y,setColorScheme:g,clearColorScheme:v}=m4({defaultColorScheme:u,forceColorScheme:p,manager:d,getRootElement:h});return g4({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:h}),s.jsx(ty.Provider,{value:{colorScheme:y,setColorScheme:g,clearColorScheme:v,getRootElement:h,classNamesPrefix:c,getStyleNonce:r,cssVariablesResolver:f,cssVariablesSelector:o??":root",withStaticClasses:a,stylesTransform:x,env:b},children:s.jsxs(ny,{theme:e,children:[l&&s.jsx(oy,{cssVariablesSelector:o,deduplicateCssVariables:i}),n&&s.jsx(o4,{}),t]})})}cy.displayName="@mantine/core/MantineProvider";hc.createRoot(document.getElementById("root")).render(s.jsx(dr.StrictMode,{children:s.jsx(Uk,{children:s.jsx(dN,{children:s.jsx(S2,{children:s.jsx(cy,{defaultColorScheme:"auto",children:s.jsx(GC,{})})})})})}));
